var pC=Object.defineProperty;var mC=(e,t,n)=>t in e?pC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>mC(e,typeof t!="symbol"?t+"":t,n);function x1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ka=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a2={exports:{}},Bd={},l2={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),xC=Symbol.for("react.portal"),yC=Symbol.for("react.fragment"),wC=Symbol.for("react.strict_mode"),bC=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),SC=Symbol.for("react.suspense"),AC=Symbol.for("react.memo"),_C=Symbol.for("react.lazy"),gp=Symbol.iterator;function IC(e){return e===null||typeof e!="object"?null:(e=gp&&e[gp]||e["@@iterator"],typeof e=="function"?e:null)}var c2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u2=Object.assign,d2={};function Ma(e,t,n){this.props=e,this.context=t,this.refs=d2,this.updater=n||c2}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ma.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function f2(){}f2.prototype=Ma.prototype;function y1(e,t,n){this.props=e,this.context=t,this.refs=d2,this.updater=n||c2}var w1=y1.prototype=new f2;w1.constructor=y1;u2(w1,Ma.prototype);w1.isPureReactComponent=!0;var pp=Array.isArray,h2=Object.prototype.hasOwnProperty,b1={current:null},g2={key:!0,ref:!0,__self:!0,__source:!0};function p2(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)h2.call(t,r)&&!g2.hasOwnProperty(r)&&(i[r]=t[r]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var h=Array(d),p=0;p<d;p++)h[p]=arguments[p+2];i.children=h}if(e&&e.defaultProps)for(r in d=e.defaultProps,d)i[r]===void 0&&(i[r]=d[r]);return{$$typeof:gc,type:e,key:o,ref:l,props:i,_owner:b1.current}}function TC(e,t){return{$$typeof:gc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function v1(e){return typeof e=="object"&&e!==null&&e.$$typeof===gc}function NC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mp=/\/+/g;function Lf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NC(""+e.key):t.toString(36)}function wu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case gc:case xC:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+Lf(l,0):r,pp(i)?(n="",e!=null&&(n=e.replace(mp,"$&/")+"/"),wu(i,t,n,"",function(p){return p})):i!=null&&(v1(i)&&(i=TC(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(mp,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",pp(e))for(var d=0;d<e.length;d++){o=e[d];var h=r+Lf(o,d);l+=wu(o,t,n,h,i)}else if(h=IC(e),typeof h=="function")for(e=h.call(e),d=0;!(o=e.next()).done;)o=o.value,h=r+Lf(o,d++),l+=wu(o,t,n,h,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Pc(e,t,n){if(e==null)return e;var r=[],i=0;return wu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function OC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qn={current:null},bu={transition:null},MC={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:bu,ReactCurrentOwner:b1};function m2(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:Pc,forEach:function(e,t,n){Pc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pc(e,function(){t++}),t},toArray:function(e){return Pc(e,function(t){return t})||[]},only:function(e){if(!v1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ot.Component=Ma;ot.Fragment=yC;ot.Profiler=bC;ot.PureComponent=y1;ot.StrictMode=wC;ot.Suspense=SC;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC;ot.act=m2;ot.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=u2({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=b1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)h2.call(t,h)&&!g2.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){d=Array(h);for(var p=0;p<h;p++)d[p]=arguments[p+2];r.children=d}return{$$typeof:gc,type:e.type,key:i,ref:o,props:r,_owner:l}};ot.createContext=function(e){return e={$$typeof:CC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vC,_context:e},e.Consumer=e};ot.createElement=p2;ot.createFactory=function(e){var t=p2.bind(null,e);return t.type=e,t};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:EC,render:e}};ot.isValidElement=v1;ot.lazy=function(e){return{$$typeof:_C,_payload:{_status:-1,_result:e},_init:OC}};ot.memo=function(e,t){return{$$typeof:AC,type:e,compare:t===void 0?null:t}};ot.startTransition=function(e){var t=bu.transition;bu.transition={};try{e()}finally{bu.transition=t}};ot.unstable_act=m2;ot.useCallback=function(e,t){return qn.current.useCallback(e,t)};ot.useContext=function(e){return qn.current.useContext(e)};ot.useDebugValue=function(){};ot.useDeferredValue=function(e){return qn.current.useDeferredValue(e)};ot.useEffect=function(e,t){return qn.current.useEffect(e,t)};ot.useId=function(){return qn.current.useId()};ot.useImperativeHandle=function(e,t,n){return qn.current.useImperativeHandle(e,t,n)};ot.useInsertionEffect=function(e,t){return qn.current.useInsertionEffect(e,t)};ot.useLayoutEffect=function(e,t){return qn.current.useLayoutEffect(e,t)};ot.useMemo=function(e,t){return qn.current.useMemo(e,t)};ot.useReducer=function(e,t,n){return qn.current.useReducer(e,t,n)};ot.useRef=function(e){return qn.current.useRef(e)};ot.useState=function(e){return qn.current.useState(e)};ot.useSyncExternalStore=function(e,t,n){return qn.current.useSyncExternalStore(e,t,n)};ot.useTransition=function(){return qn.current.useTransition()};ot.version="18.3.1";l2.exports=ot;var V=l2.exports;const ut=Pd(V),DC=x1({__proto__:null,default:ut},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=V,kC=Symbol.for("react.element"),LC=Symbol.for("react.fragment"),PC=Object.prototype.hasOwnProperty,BC=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jC={key:!0,ref:!0,__self:!0,__source:!0};function x2(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)PC.call(t,r)&&!jC.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:kC,type:e,key:o,ref:l,props:i,_owner:BC.current}}Bd.Fragment=LC;Bd.jsx=x2;Bd.jsxs=x2;a2.exports=Bd;var v=a2.exports,Rh={},y2={exports:{}},Or={},w2={exports:{}},b2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,ge){var pe=oe.length;oe.push(ge);e:for(;0<pe;){var Pe=pe-1>>>1,Ae=oe[Pe];if(0<i(Ae,ge))oe[Pe]=ge,oe[pe]=Ae,pe=Pe;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ge=oe[0],pe=oe.pop();if(pe!==ge){oe[0]=pe;e:for(var Pe=0,Ae=oe.length,Ue=Ae>>>1;Pe<Ue;){var Ie=2*(Pe+1)-1,ze=oe[Ie],ye=Ie+1,mt=oe[ye];if(0>i(ze,pe))ye<Ae&&0>i(mt,ze)?(oe[Pe]=mt,oe[ye]=pe,Pe=ye):(oe[Pe]=ze,oe[Ie]=pe,Pe=Ie);else if(ye<Ae&&0>i(mt,pe))oe[Pe]=mt,oe[ye]=pe,Pe=ye;else break e}}return ge}function i(oe,ge){var pe=oe.sortIndex-ge.sortIndex;return pe!==0?pe:oe.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var h=[],p=[],x=1,w=null,C=3,E=!1,_=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(oe){for(var ge=n(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=oe)r(p),ge.sortIndex=ge.expirationTime,t(h,ge);else break;ge=n(p)}}function P(oe){if(I=!1,R(oe),!_)if(n(h)!==null)_=!0,ke(F);else{var ge=n(p);ge!==null&&be(P,ge.startTime-oe)}}function F(oe,ge){_=!1,I&&(I=!1,O(j),j=-1),E=!0;var pe=C;try{for(R(ge),w=n(h);w!==null&&(!(w.expirationTime>ge)||oe&&!ce());){var Pe=w.callback;if(typeof Pe=="function"){w.callback=null,C=w.priorityLevel;var Ae=Pe(w.expirationTime<=ge);ge=e.unstable_now(),typeof Ae=="function"?w.callback=Ae:w===n(h)&&r(h),R(ge)}else r(h);w=n(h)}if(w!==null)var Ue=!0;else{var Ie=n(p);Ie!==null&&be(P,Ie.startTime-ge),Ue=!1}return Ue}finally{w=null,C=pe,E=!1}}var z=!1,A=null,j=-1,U=5,J=-1;function ce(){return!(e.unstable_now()-J<U)}function se(){if(A!==null){var oe=e.unstable_now();J=oe;var ge=!0;try{ge=A(!0,oe)}finally{ge?xe():(z=!1,A=null)}}else z=!1}var xe;if(typeof M=="function")xe=function(){M(se)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,X=Oe.port2;Oe.port1.onmessage=se,xe=function(){X.postMessage(null)}}else xe=function(){D(se,0)};function ke(oe){A=oe,z||(z=!0,xe())}function be(oe,ge){j=D(function(){oe(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){_||E||(_=!0,ke(F))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(oe){switch(C){case 1:case 2:case 3:var ge=3;break;default:ge=C}var pe=C;C=ge;try{return oe()}finally{C=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,ge){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var pe=C;C=oe;try{return ge()}finally{C=pe}},e.unstable_scheduleCallback=function(oe,ge,pe){var Pe=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Pe+pe:Pe):pe=Pe,oe){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=pe+Ae,oe={id:x++,callback:ge,priorityLevel:oe,startTime:pe,expirationTime:Ae,sortIndex:-1},pe>Pe?(oe.sortIndex=pe,t(p,oe),n(h)===null&&oe===n(p)&&(I?(O(j),j=-1):I=!0,be(P,pe-Pe))):(oe.sortIndex=Ae,t(h,oe),_||E||(_=!0,ke(F))),oe},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(oe){var ge=C;return function(){var pe=C;C=ge;try{return oe.apply(this,arguments)}finally{C=pe}}}})(b2);w2.exports=b2;var FC=w2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=V,Nr=FC;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v2=new Set,Hl={};function Io(e,t){ha(e,t),ha(e+"Capture",t)}function ha(e,t){for(Hl[e]=t,e=0;e<t.length;e++)v2.add(t[e])}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,zC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xp={},yp={};function HC(e){return kh.call(yp,e)?!0:kh.call(xp,e)?!1:zC.test(e)?yp[e]=!0:(xp[e]=!0,!1)}function VC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WC(e,t,n,r){if(t===null||typeof t>"u"||VC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jn(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pn[e]=new Jn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pn[t]=new Jn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pn[e]=new Jn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pn[e]=new Jn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pn[e]=new Jn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pn[e]=new Jn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pn[e]=new Jn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pn[e]=new Jn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pn[e]=new Jn(e,5,!1,e.toLowerCase(),null,!1,!1)});var C1=/[\-:]([a-z])/g;function E1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C1,E1);Pn[t]=new Jn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C1,E1);Pn[t]=new Jn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C1,E1);Pn[t]=new Jn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!0,!0)});function S1(e,t,n,r){var i=Pn.hasOwnProperty(t)?Pn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WC(t,n,i,r)&&(n=null),r||i===null?HC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ts=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bc=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),A1=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),C2=Symbol.for("react.provider"),E2=Symbol.for("react.context"),_1=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),I1=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),S2=Symbol.for("react.offscreen"),wp=Symbol.iterator;function Za(e){return e===null||typeof e!="object"?null:(e=wp&&e[wp]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Object.assign,Pf;function pl(e){if(Pf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pf=t&&t[1]||""}return`
`+Pf+e}var Bf=!1;function jf(e,t){if(!e||Bf)return"";Bf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,d=o.length-1;1<=l&&0<=d&&i[l]!==o[d];)d--;for(;1<=l&&0<=d;l--,d--)if(i[l]!==o[d]){if(l!==1||d!==1)do if(l--,d--,0>d||i[l]!==o[d]){var h=`
`+i[l].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=l&&0<=d);break}}}finally{Bf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pl(e):""}function YC(e){switch(e.tag){case 5:return pl(e.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return e=jf(e.type,!1),e;case 11:return e=jf(e.type.render,!1),e;case 1:return e=jf(e.type,!0),e;default:return""}}function jh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yo:return"Fragment";case Wo:return"Portal";case Lh:return"Profiler";case A1:return"StrictMode";case Ph:return"Suspense";case Bh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E2:return(e.displayName||"Context")+".Consumer";case C2:return(e._context.displayName||"Context")+".Provider";case _1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I1:return t=e.displayName||null,t!==null?t:jh(e.type)||"Memo";case gs:t=e._payload,e=e._init;try{return jh(e(t))}catch{}}return null}function GC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jh(t);case 8:return t===A1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function A2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XC(e){var t=A2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jc(e){e._valueTracker||(e._valueTracker=XC(e))}function _2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=A2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fh(e,t){var n=t.checked;return Kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function I2(e,t){t=t.checked,t!=null&&S1(e,"checked",t,!1)}function Uh(e,t){I2(e,t);var n=Rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zh(e,t.type,n):t.hasOwnProperty("defaultValue")&&zh(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zh(e,t,n){(t!=="number"||Gu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ml=Array.isArray;function oa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return Kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(we(92));if(ml(n)){if(1<n.length)throw Error(we(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rs(n)}}function T2(e,t){var n=Rs(t.value),r=Rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ep(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function N2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?N2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fc,O2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$C=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(e){$C.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sl[t]=Sl[e]})});function M2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sl.hasOwnProperty(e)&&Sl[e]?(""+t).trim():t+"px"}function D2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=M2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var KC=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wh(e,t){if(t){if(KC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function Yh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=null;function T1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xh=null,aa=null,la=null;function Sp(e){if(e=xc(e)){if(typeof Xh!="function")throw Error(we(280));var t=e.stateNode;t&&(t=Hd(t),Xh(e.stateNode,e.type,t))}}function R2(e){aa?la?la.push(e):la=[e]:aa=e}function k2(){if(aa){var e=aa,t=la;if(la=aa=null,Sp(e),t)for(e=0;e<t.length;e++)Sp(t[e])}}function L2(e,t){return e(t)}function P2(){}var Ff=!1;function B2(e,t,n){if(Ff)return e(t,n);Ff=!0;try{return L2(e,t,n)}finally{Ff=!1,(aa!==null||la!==null)&&(P2(),k2())}}function Wl(e,t){var n=e.stateNode;if(n===null)return null;var r=Hd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(we(231,t,typeof n));return n}var $h=!1;if(Zi)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){$h=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{$h=!1}function ZC(e,t,n,r,i,o,l,d,h){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(x){this.onError(x)}}var Al=!1,Xu=null,$u=!1,Kh=null,QC={onError:function(e){Al=!0,Xu=e}};function qC(e,t,n,r,i,o,l,d,h){Al=!1,Xu=null,ZC.apply(QC,arguments)}function JC(e,t,n,r,i,o,l,d,h){if(qC.apply(this,arguments),Al){if(Al){var p=Xu;Al=!1,Xu=null}else throw Error(we(198));$u||($u=!0,Kh=p)}}function To(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function j2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ap(e){if(To(e)!==e)throw Error(we(188))}function eE(e){var t=e.alternate;if(!t){if(t=To(e),t===null)throw Error(we(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ap(i),e;if(o===r)return Ap(i),t;o=o.sibling}throw Error(we(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,d=i.child;d;){if(d===n){l=!0,n=i,r=o;break}if(d===r){l=!0,r=i,n=o;break}d=d.sibling}if(!l){for(d=o.child;d;){if(d===n){l=!0,n=o,r=i;break}if(d===r){l=!0,r=o,n=i;break}d=d.sibling}if(!l)throw Error(we(189))}}if(n.alternate!==r)throw Error(we(190))}if(n.tag!==3)throw Error(we(188));return n.stateNode.current===n?e:t}function F2(e){return e=eE(e),e!==null?U2(e):null}function U2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U2(e);if(t!==null)return t;e=e.sibling}return null}var z2=Nr.unstable_scheduleCallback,_p=Nr.unstable_cancelCallback,tE=Nr.unstable_shouldYield,nE=Nr.unstable_requestPaint,ln=Nr.unstable_now,rE=Nr.unstable_getCurrentPriorityLevel,N1=Nr.unstable_ImmediatePriority,H2=Nr.unstable_UserBlockingPriority,Ku=Nr.unstable_NormalPriority,iE=Nr.unstable_LowPriority,V2=Nr.unstable_IdlePriority,jd=null,Di=null;function sE(e){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(jd,e,void 0,(e.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:lE,oE=Math.log,aE=Math.LN2;function lE(e){return e>>>=0,e===0?32:31-(oE(e)/aE|0)|0}var Uc=64,zc=4194304;function xl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var d=l&~i;d!==0?r=xl(d):(o&=l,o!==0&&(r=xl(o)))}else l=n&~i,l!==0?r=xl(l):o!==0&&(r=xl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-oi(t),i=1<<n,r|=e[n],t&=~i;return r}function cE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-oi(o),d=1<<l,h=i[l];h===-1?(!(d&n)||d&r)&&(i[l]=cE(d,t)):h<=t&&(e.expiredLanes|=d),o&=~d}}function Zh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W2(){var e=Uc;return Uc<<=1,!(Uc&4194240)&&(Uc=64),e}function Uf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oi(t),e[t]=n}function dE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-oi(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function O1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-oi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var St=0;function Y2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var G2,M1,X2,$2,K2,Qh=!1,Hc=[],Ss=null,As=null,_s=null,Yl=new Map,Gl=new Map,ms=[],fE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ip(e,t){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Yl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(t.pointerId)}}function qa(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=xc(t),t!==null&&M1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hE(e,t,n,r,i){switch(t){case"focusin":return Ss=qa(Ss,e,t,n,r,i),!0;case"dragenter":return As=qa(As,e,t,n,r,i),!0;case"mouseover":return _s=qa(_s,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Yl.set(o,qa(Yl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gl.set(o,qa(Gl.get(o)||null,e,t,n,r,i)),!0}return!1}function Z2(e){var t=io(e.target);if(t!==null){var n=To(t);if(n!==null){if(t=n.tag,t===13){if(t=j2(n),t!==null){e.blockedOn=t,K2(e.priority,function(){X2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gh=r,n.target.dispatchEvent(r),Gh=null}else return t=xc(n),t!==null&&M1(t),e.blockedOn=n,!1;t.shift()}return!0}function Tp(e,t,n){vu(e)&&n.delete(t)}function gE(){Qh=!1,Ss!==null&&vu(Ss)&&(Ss=null),As!==null&&vu(As)&&(As=null),_s!==null&&vu(_s)&&(_s=null),Yl.forEach(Tp),Gl.forEach(Tp)}function Ja(e,t){e.blockedOn===t&&(e.blockedOn=null,Qh||(Qh=!0,Nr.unstable_scheduleCallback(Nr.unstable_NormalPriority,gE)))}function Xl(e){function t(i){return Ja(i,e)}if(0<Hc.length){Ja(Hc[0],e);for(var n=1;n<Hc.length;n++){var r=Hc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ss!==null&&Ja(Ss,e),As!==null&&Ja(As,e),_s!==null&&Ja(_s,e),Yl.forEach(t),Gl.forEach(t),n=0;n<ms.length;n++)r=ms[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ms.length&&(n=ms[0],n.blockedOn===null);)Z2(n),n.blockedOn===null&&ms.shift()}var ca=ts.ReactCurrentBatchConfig,Qu=!0;function pE(e,t,n,r){var i=St,o=ca.transition;ca.transition=null;try{St=1,D1(e,t,n,r)}finally{St=i,ca.transition=o}}function mE(e,t,n,r){var i=St,o=ca.transition;ca.transition=null;try{St=4,D1(e,t,n,r)}finally{St=i,ca.transition=o}}function D1(e,t,n,r){if(Qu){var i=qh(e,t,n,r);if(i===null)Zf(e,t,r,qu,n),Ip(e,r);else if(hE(i,e,t,n,r))r.stopPropagation();else if(Ip(e,r),t&4&&-1<fE.indexOf(e)){for(;i!==null;){var o=xc(i);if(o!==null&&G2(o),o=qh(e,t,n,r),o===null&&Zf(e,t,r,qu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zf(e,t,r,null,n)}}var qu=null;function qh(e,t,n,r){if(qu=null,e=T1(r),e=io(e),e!==null)if(t=To(e),t===null)e=null;else if(n=t.tag,n===13){if(e=j2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qu=e,null}function Q2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rE()){case N1:return 1;case H2:return 4;case Ku:case iE:return 16;case V2:return 536870912;default:return 16}default:return 16}}var ws=null,R1=null,Cu=null;function q2(){if(Cu)return Cu;var e,t=R1,n=t.length,r,i="value"in ws?ws.value:ws.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return Cu=i.slice(e,1<r?1-r:void 0)}function Eu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vc(){return!0}function Np(){return!1}function Mr(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vc:Np,this.isPropagationStopped=Np,this}return Kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),t}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k1=Mr(Da),mc=Kt({},Da,{view:0,detail:0}),xE=Mr(mc),zf,Hf,el,Fd=Kt({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==el&&(el&&e.type==="mousemove"?(zf=e.screenX-el.screenX,Hf=e.screenY-el.screenY):Hf=zf=0,el=e),zf)},movementY:function(e){return"movementY"in e?e.movementY:Hf}}),Op=Mr(Fd),yE=Kt({},Fd,{dataTransfer:0}),wE=Mr(yE),bE=Kt({},mc,{relatedTarget:0}),Vf=Mr(bE),vE=Kt({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),CE=Mr(vE),EE=Kt({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SE=Mr(EE),AE=Kt({},Da,{data:0}),Mp=Mr(AE),_E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TE[e])?!!t[e]:!1}function L1(){return NE}var OE=Kt({},mc,{key:function(e){if(e.key){var t=_E[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L1,charCode:function(e){return e.type==="keypress"?Eu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ME=Mr(OE),DE=Kt({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=Mr(DE),RE=Kt({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L1}),kE=Mr(RE),LE=Kt({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),PE=Mr(LE),BE=Kt({},Fd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jE=Mr(BE),FE=[9,13,27,32],P1=Zi&&"CompositionEvent"in window,_l=null;Zi&&"documentMode"in document&&(_l=document.documentMode);var UE=Zi&&"TextEvent"in window&&!_l,J2=Zi&&(!P1||_l&&8<_l&&11>=_l),Rp=" ",kp=!1;function ew(e,t){switch(e){case"keyup":return FE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Go=!1;function zE(e,t){switch(e){case"compositionend":return tw(t);case"keypress":return t.which!==32?null:(kp=!0,Rp);case"textInput":return e=t.data,e===Rp&&kp?null:e;default:return null}}function HE(e,t){if(Go)return e==="compositionend"||!P1&&ew(e,t)?(e=q2(),Cu=R1=ws=null,Go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J2&&t.locale!=="ko"?null:t.data;default:return null}}var VE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VE[e.type]:t==="textarea"}function nw(e,t,n,r){R2(r),t=Ju(t,"onChange"),0<t.length&&(n=new k1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Il=null,$l=null;function WE(e){hw(e,0)}function Ud(e){var t=Ko(e);if(_2(t))return e}function YE(e,t){if(e==="change")return t}var rw=!1;if(Zi){var Wf;if(Zi){var Yf="oninput"in document;if(!Yf){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Yf=typeof Pp.oninput=="function"}Wf=Yf}else Wf=!1;rw=Wf&&(!document.documentMode||9<document.documentMode)}function Bp(){Il&&(Il.detachEvent("onpropertychange",iw),$l=Il=null)}function iw(e){if(e.propertyName==="value"&&Ud($l)){var t=[];nw(t,$l,e,T1(e)),B2(WE,t)}}function GE(e,t,n){e==="focusin"?(Bp(),Il=t,$l=n,Il.attachEvent("onpropertychange",iw)):e==="focusout"&&Bp()}function XE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ud($l)}function $E(e,t){if(e==="click")return Ud(t)}function KE(e,t){if(e==="input"||e==="change")return Ud(t)}function ZE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var di=typeof Object.is=="function"?Object.is:ZE;function Kl(e,t){if(di(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kh.call(t,i)||!di(e[i],t[i]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fp(e,t){var n=jp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jp(n)}}function sw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ow(){for(var e=window,t=Gu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gu(e.document)}return t}function B1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QE(e){var t=ow(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sw(n.ownerDocument.documentElement,n)){if(r!==null&&B1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Fp(n,o);var l=Fp(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qE=Zi&&"documentMode"in document&&11>=document.documentMode,Xo=null,Jh=null,Tl=null,e0=!1;function Up(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;e0||Xo==null||Xo!==Gu(r)||(r=Xo,"selectionStart"in r&&B1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tl&&Kl(Tl,r)||(Tl=r,r=Ju(Jh,"onSelect"),0<r.length&&(t=new k1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xo)))}function Wc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $o={animationend:Wc("Animation","AnimationEnd"),animationiteration:Wc("Animation","AnimationIteration"),animationstart:Wc("Animation","AnimationStart"),transitionend:Wc("Transition","TransitionEnd")},Gf={},aw={};Zi&&(aw=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function zd(e){if(Gf[e])return Gf[e];if(!$o[e])return e;var t=$o[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aw)return Gf[e]=t[n];return e}var lw=zd("animationend"),cw=zd("animationiteration"),uw=zd("animationstart"),dw=zd("transitionend"),fw=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,t){fw.set(e,t),Io(t,[e])}for(var Xf=0;Xf<zp.length;Xf++){var $f=zp[Xf],JE=$f.toLowerCase(),eS=$f[0].toUpperCase()+$f.slice(1);zs(JE,"on"+eS)}zs(lw,"onAnimationEnd");zs(cw,"onAnimationIteration");zs(uw,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(dw,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function Hp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JC(r,t,void 0,e),e.currentTarget=null}function hw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var d=r[l],h=d.instance,p=d.currentTarget;if(d=d.listener,h!==o&&i.isPropagationStopped())break e;Hp(i,d,p),o=h}else for(l=0;l<r.length;l++){if(d=r[l],h=d.instance,p=d.currentTarget,d=d.listener,h!==o&&i.isPropagationStopped())break e;Hp(i,d,p),o=h}}}if($u)throw e=Kh,$u=!1,Kh=null,e}function Rt(e,t){var n=t[s0];n===void 0&&(n=t[s0]=new Set);var r=e+"__bubble";n.has(r)||(gw(t,e,2,!1),n.add(r))}function Kf(e,t,n){var r=0;t&&(r|=4),gw(n,e,r,t)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function Zl(e){if(!e[Yc]){e[Yc]=!0,v2.forEach(function(n){n!=="selectionchange"&&(tS.has(n)||Kf(n,!1,e),Kf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yc]||(t[Yc]=!0,Kf("selectionchange",!1,t))}}function gw(e,t,n,r){switch(Q2(t)){case 1:var i=pE;break;case 4:i=mE;break;default:i=D1}n=i.bind(null,t,n,e),i=void 0,!$h||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;l=l.return}for(;d!==null;){if(l=io(d),l===null)return;if(h=l.tag,h===5||h===6){r=o=l;continue e}d=d.parentNode}}r=r.return}B2(function(){var p=o,x=T1(n),w=[];e:{var C=fw.get(e);if(C!==void 0){var E=k1,_=e;switch(e){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":E=ME;break;case"focusin":_="focus",E=Vf;break;case"focusout":_="blur",E=Vf;break;case"beforeblur":case"afterblur":E=Vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=wE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=kE;break;case lw:case cw:case uw:E=CE;break;case dw:E=PE;break;case"scroll":E=xE;break;case"wheel":E=jE;break;case"copy":case"cut":case"paste":E=SE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Dp}var I=(t&4)!==0,D=!I&&e==="scroll",O=I?C!==null?C+"Capture":null:C;I=[];for(var M=p,R;M!==null;){R=M;var P=R.stateNode;if(R.tag===5&&P!==null&&(R=P,O!==null&&(P=Wl(M,O),P!=null&&I.push(Ql(M,P,R)))),D)break;M=M.return}0<I.length&&(C=new E(C,_,null,n,x),w.push({event:C,listeners:I}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",C&&n!==Gh&&(_=n.relatedTarget||n.fromElement)&&(io(_)||_[Qi]))break e;if((E||C)&&(C=x.window===x?x:(C=x.ownerDocument)?C.defaultView||C.parentWindow:window,E?(_=n.relatedTarget||n.toElement,E=p,_=_?io(_):null,_!==null&&(D=To(_),_!==D||_.tag!==5&&_.tag!==6)&&(_=null)):(E=null,_=p),E!==_)){if(I=Op,P="onMouseLeave",O="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(I=Dp,P="onPointerLeave",O="onPointerEnter",M="pointer"),D=E==null?C:Ko(E),R=_==null?C:Ko(_),C=new I(P,M+"leave",E,n,x),C.target=D,C.relatedTarget=R,P=null,io(x)===p&&(I=new I(O,M+"enter",_,n,x),I.target=R,I.relatedTarget=D,P=I),D=P,E&&_)t:{for(I=E,O=_,M=0,R=I;R;R=Uo(R))M++;for(R=0,P=O;P;P=Uo(P))R++;for(;0<M-R;)I=Uo(I),M--;for(;0<R-M;)O=Uo(O),R--;for(;M--;){if(I===O||O!==null&&I===O.alternate)break t;I=Uo(I),O=Uo(O)}I=null}else I=null;E!==null&&Vp(w,C,E,I,!1),_!==null&&D!==null&&Vp(w,D,_,I,!0)}}e:{if(C=p?Ko(p):window,E=C.nodeName&&C.nodeName.toLowerCase(),E==="select"||E==="input"&&C.type==="file")var F=YE;else if(Lp(C))if(rw)F=KE;else{F=XE;var z=GE}else(E=C.nodeName)&&E.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(F=$E);if(F&&(F=F(e,p))){nw(w,F,n,x);break e}z&&z(e,C,p),e==="focusout"&&(z=C._wrapperState)&&z.controlled&&C.type==="number"&&zh(C,"number",C.value)}switch(z=p?Ko(p):window,e){case"focusin":(Lp(z)||z.contentEditable==="true")&&(Xo=z,Jh=p,Tl=null);break;case"focusout":Tl=Jh=Xo=null;break;case"mousedown":e0=!0;break;case"contextmenu":case"mouseup":case"dragend":e0=!1,Up(w,n,x);break;case"selectionchange":if(qE)break;case"keydown":case"keyup":Up(w,n,x)}var A;if(P1)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Go?ew(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(J2&&n.locale!=="ko"&&(Go||j!=="onCompositionStart"?j==="onCompositionEnd"&&Go&&(A=q2()):(ws=x,R1="value"in ws?ws.value:ws.textContent,Go=!0)),z=Ju(p,j),0<z.length&&(j=new Mp(j,e,null,n,x),w.push({event:j,listeners:z}),A?j.data=A:(A=tw(n),A!==null&&(j.data=A)))),(A=UE?zE(e,n):HE(e,n))&&(p=Ju(p,"onBeforeInput"),0<p.length&&(x=new Mp("onBeforeInput","beforeinput",null,n,x),w.push({event:x,listeners:p}),x.data=A))}hw(w,t)})}function Ql(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ju(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wl(e,n),o!=null&&r.unshift(Ql(e,o,i)),o=Wl(e,t),o!=null&&r.push(Ql(e,o,i))),e=e.return}return r}function Uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vp(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var d=n,h=d.alternate,p=d.stateNode;if(h!==null&&h===r)break;d.tag===5&&p!==null&&(d=p,i?(h=Wl(n,o),h!=null&&l.unshift(Ql(n,h,d))):i||(h=Wl(n,o),h!=null&&l.push(Ql(n,h,d)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var nS=/\r\n?/g,rS=/\u0000|\uFFFD/g;function Wp(e){return(typeof e=="string"?e:""+e).replace(nS,`
`).replace(rS,"")}function Gc(e,t,n){if(t=Wp(t),Wp(e)!==t&&n)throw Error(we(425))}function ed(){}var t0=null,n0=null;function r0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i0=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(e){return Yp.resolve(null).then(e).catch(oS)}:i0;function oS(e){setTimeout(function(){throw e})}function Qf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Xl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xl(t)}function Is(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Ra,ql="__reactProps$"+Ra,Qi="__reactContainer$"+Ra,s0="__reactEvents$"+Ra,aS="__reactListeners$"+Ra,lS="__reactHandles$"+Ra;function io(e){var t=e[Oi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qi]||n[Oi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gp(e);e!==null;){if(n=e[Oi])return n;e=Gp(e)}return t}e=n,n=e.parentNode}return null}function xc(e){return e=e[Oi]||e[Qi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function Hd(e){return e[ql]||null}var o0=[],Zo=-1;function Hs(e){return{current:e}}function jt(e){0>Zo||(e.current=o0[Zo],o0[Zo]=null,Zo--)}function Ot(e,t){Zo++,o0[Zo]=e.current,e.current=t}var ks={},Wn=Hs(ks),dr=Hs(!1),wo=ks;function ga(e,t){var n=e.type.contextTypes;if(!n)return ks;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function fr(e){return e=e.childContextTypes,e!=null}function td(){jt(dr),jt(Wn)}function Xp(e,t,n){if(Wn.current!==ks)throw Error(we(168));Ot(Wn,t),Ot(dr,n)}function pw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(we(108,GC(e)||"Unknown",i));return Kt({},n,r)}function nd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ks,wo=Wn.current,Ot(Wn,e),Ot(dr,dr.current),!0}function $p(e,t,n){var r=e.stateNode;if(!r)throw Error(we(169));n?(e=pw(e,t,wo),r.__reactInternalMemoizedMergedChildContext=e,jt(dr),jt(Wn),Ot(Wn,e)):jt(dr),Ot(dr,n)}var Wi=null,Vd=!1,qf=!1;function mw(e){Wi===null?Wi=[e]:Wi.push(e)}function cS(e){Vd=!0,mw(e)}function Vs(){if(!qf&&Wi!==null){qf=!0;var e=0,t=St;try{var n=Wi;for(St=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wi=null,Vd=!1}catch(i){throw Wi!==null&&(Wi=Wi.slice(e+1)),z2(N1,Vs),i}finally{St=t,qf=!1}}return null}var Qo=[],qo=0,rd=null,id=0,Fr=[],Ur=0,bo=null,Gi=1,Xi="";function eo(e,t){Qo[qo++]=id,Qo[qo++]=rd,rd=e,id=t}function xw(e,t,n){Fr[Ur++]=Gi,Fr[Ur++]=Xi,Fr[Ur++]=bo,bo=e;var r=Gi;e=Xi;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var o=32-oi(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Gi=1<<32-oi(t)+i|n<<i|r,Xi=o+e}else Gi=1<<o|n<<i|r,Xi=e}function j1(e){e.return!==null&&(eo(e,1),xw(e,1,0))}function F1(e){for(;e===rd;)rd=Qo[--qo],Qo[qo]=null,id=Qo[--qo],Qo[qo]=null;for(;e===bo;)bo=Fr[--Ur],Fr[Ur]=null,Xi=Fr[--Ur],Fr[Ur]=null,Gi=Fr[--Ur],Fr[Ur]=null}var Tr=null,Ar=null,Ht=!1,ii=null;function yw(e,t){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tr=e,Ar=Is(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tr=e,Ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bo!==null?{id:Gi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tr=e,Ar=null,!0):!1;default:return!1}}function a0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function l0(e){if(Ht){var t=Ar;if(t){var n=t;if(!Kp(e,t)){if(a0(e))throw Error(we(418));t=Is(n.nextSibling);var r=Tr;t&&Kp(e,t)?yw(r,n):(e.flags=e.flags&-4097|2,Ht=!1,Tr=e)}}else{if(a0(e))throw Error(we(418));e.flags=e.flags&-4097|2,Ht=!1,Tr=e}}}function Zp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tr=e}function Xc(e){if(e!==Tr)return!1;if(!Ht)return Zp(e),Ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!r0(e.type,e.memoizedProps)),t&&(t=Ar)){if(a0(e))throw ww(),Error(we(418));for(;t;)yw(e,t),t=Is(t.nextSibling)}if(Zp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ar=Is(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ar=null}}else Ar=Tr?Is(e.stateNode.nextSibling):null;return!0}function ww(){for(var e=Ar;e;)e=Is(e.nextSibling)}function pa(){Ar=Tr=null,Ht=!1}function U1(e){ii===null?ii=[e]:ii.push(e)}var uS=ts.ReactCurrentBatchConfig;function tl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(we(309));var r=n.stateNode}if(!r)throw Error(we(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var d=i.refs;l===null?delete d[o]:d[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(we(284));if(!n._owner)throw Error(we(290,e))}return e}function $c(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qp(e){var t=e._init;return t(e._payload)}function bw(e){function t(O,M){if(e){var R=O.deletions;R===null?(O.deletions=[M],O.flags|=16):R.push(M)}}function n(O,M){if(!e)return null;for(;M!==null;)t(O,M),M=M.sibling;return null}function r(O,M){for(O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function i(O,M){return O=Ms(O,M),O.index=0,O.sibling=null,O}function o(O,M,R){return O.index=R,e?(R=O.alternate,R!==null?(R=R.index,R<M?(O.flags|=2,M):R):(O.flags|=2,M)):(O.flags|=1048576,M)}function l(O){return e&&O.alternate===null&&(O.flags|=2),O}function d(O,M,R,P){return M===null||M.tag!==6?(M=sh(R,O.mode,P),M.return=O,M):(M=i(M,R),M.return=O,M)}function h(O,M,R,P){var F=R.type;return F===Yo?x(O,M,R.props.children,P,R.key):M!==null&&(M.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===gs&&Qp(F)===M.type)?(P=i(M,R.props),P.ref=tl(O,M,R),P.return=O,P):(P=Ou(R.type,R.key,R.props,null,O.mode,P),P.ref=tl(O,M,R),P.return=O,P)}function p(O,M,R,P){return M===null||M.tag!==4||M.stateNode.containerInfo!==R.containerInfo||M.stateNode.implementation!==R.implementation?(M=oh(R,O.mode,P),M.return=O,M):(M=i(M,R.children||[]),M.return=O,M)}function x(O,M,R,P,F){return M===null||M.tag!==7?(M=go(R,O.mode,P,F),M.return=O,M):(M=i(M,R),M.return=O,M)}function w(O,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return M=sh(""+M,O.mode,R),M.return=O,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Bc:return R=Ou(M.type,M.key,M.props,null,O.mode,R),R.ref=tl(O,null,M),R.return=O,R;case Wo:return M=oh(M,O.mode,R),M.return=O,M;case gs:var P=M._init;return w(O,P(M._payload),R)}if(ml(M)||Za(M))return M=go(M,O.mode,R,null),M.return=O,M;$c(O,M)}return null}function C(O,M,R,P){var F=M!==null?M.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return F!==null?null:d(O,M,""+R,P);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Bc:return R.key===F?h(O,M,R,P):null;case Wo:return R.key===F?p(O,M,R,P):null;case gs:return F=R._init,C(O,M,F(R._payload),P)}if(ml(R)||Za(R))return F!==null?null:x(O,M,R,P,null);$c(O,R)}return null}function E(O,M,R,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return O=O.get(R)||null,d(M,O,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Bc:return O=O.get(P.key===null?R:P.key)||null,h(M,O,P,F);case Wo:return O=O.get(P.key===null?R:P.key)||null,p(M,O,P,F);case gs:var z=P._init;return E(O,M,R,z(P._payload),F)}if(ml(P)||Za(P))return O=O.get(R)||null,x(M,O,P,F,null);$c(M,P)}return null}function _(O,M,R,P){for(var F=null,z=null,A=M,j=M=0,U=null;A!==null&&j<R.length;j++){A.index>j?(U=A,A=null):U=A.sibling;var J=C(O,A,R[j],P);if(J===null){A===null&&(A=U);break}e&&A&&J.alternate===null&&t(O,A),M=o(J,M,j),z===null?F=J:z.sibling=J,z=J,A=U}if(j===R.length)return n(O,A),Ht&&eo(O,j),F;if(A===null){for(;j<R.length;j++)A=w(O,R[j],P),A!==null&&(M=o(A,M,j),z===null?F=A:z.sibling=A,z=A);return Ht&&eo(O,j),F}for(A=r(O,A);j<R.length;j++)U=E(A,O,j,R[j],P),U!==null&&(e&&U.alternate!==null&&A.delete(U.key===null?j:U.key),M=o(U,M,j),z===null?F=U:z.sibling=U,z=U);return e&&A.forEach(function(ce){return t(O,ce)}),Ht&&eo(O,j),F}function I(O,M,R,P){var F=Za(R);if(typeof F!="function")throw Error(we(150));if(R=F.call(R),R==null)throw Error(we(151));for(var z=F=null,A=M,j=M=0,U=null,J=R.next();A!==null&&!J.done;j++,J=R.next()){A.index>j?(U=A,A=null):U=A.sibling;var ce=C(O,A,J.value,P);if(ce===null){A===null&&(A=U);break}e&&A&&ce.alternate===null&&t(O,A),M=o(ce,M,j),z===null?F=ce:z.sibling=ce,z=ce,A=U}if(J.done)return n(O,A),Ht&&eo(O,j),F;if(A===null){for(;!J.done;j++,J=R.next())J=w(O,J.value,P),J!==null&&(M=o(J,M,j),z===null?F=J:z.sibling=J,z=J);return Ht&&eo(O,j),F}for(A=r(O,A);!J.done;j++,J=R.next())J=E(A,O,j,J.value,P),J!==null&&(e&&J.alternate!==null&&A.delete(J.key===null?j:J.key),M=o(J,M,j),z===null?F=J:z.sibling=J,z=J);return e&&A.forEach(function(se){return t(O,se)}),Ht&&eo(O,j),F}function D(O,M,R,P){if(typeof R=="object"&&R!==null&&R.type===Yo&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Bc:e:{for(var F=R.key,z=M;z!==null;){if(z.key===F){if(F=R.type,F===Yo){if(z.tag===7){n(O,z.sibling),M=i(z,R.props.children),M.return=O,O=M;break e}}else if(z.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===gs&&Qp(F)===z.type){n(O,z.sibling),M=i(z,R.props),M.ref=tl(O,z,R),M.return=O,O=M;break e}n(O,z);break}else t(O,z);z=z.sibling}R.type===Yo?(M=go(R.props.children,O.mode,P,R.key),M.return=O,O=M):(P=Ou(R.type,R.key,R.props,null,O.mode,P),P.ref=tl(O,M,R),P.return=O,O=P)}return l(O);case Wo:e:{for(z=R.key;M!==null;){if(M.key===z)if(M.tag===4&&M.stateNode.containerInfo===R.containerInfo&&M.stateNode.implementation===R.implementation){n(O,M.sibling),M=i(M,R.children||[]),M.return=O,O=M;break e}else{n(O,M);break}else t(O,M);M=M.sibling}M=oh(R,O.mode,P),M.return=O,O=M}return l(O);case gs:return z=R._init,D(O,M,z(R._payload),P)}if(ml(R))return _(O,M,R,P);if(Za(R))return I(O,M,R,P);$c(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,M!==null&&M.tag===6?(n(O,M.sibling),M=i(M,R),M.return=O,O=M):(n(O,M),M=sh(R,O.mode,P),M.return=O,O=M),l(O)):n(O,M)}return D}var ma=bw(!0),vw=bw(!1),sd=Hs(null),od=null,Jo=null,z1=null;function H1(){z1=Jo=od=null}function V1(e){var t=sd.current;jt(sd),e._currentValue=t}function c0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ua(e,t){od=e,z1=Jo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lr=!0),e.firstContext=null)}function Gr(e){var t=e._currentValue;if(z1!==e)if(e={context:e,memoizedValue:t,next:null},Jo===null){if(od===null)throw Error(we(308));Jo=e,od.dependencies={lanes:0,firstContext:e}}else Jo=Jo.next=e;return t}var so=null;function W1(e){so===null?so=[e]:so.push(e)}function Cw(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,W1(t)):(n.next=i.next,i.next=n),t.interleaved=n,qi(e,r)}function qi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ps=!1;function Y1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ew(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ki(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qi(e,n)}return i=r.interleaved,i===null?(t.next=t,W1(r)):(t.next=i.next,i.next=t),r.interleaved=t,qi(e,n)}function Su(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,O1(e,n)}}function qp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ad(e,t,n,r){var i=e.updateQueue;ps=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var h=d,p=h.next;h.next=null,l===null?o=p:l.next=p,l=h;var x=e.alternate;x!==null&&(x=x.updateQueue,d=x.lastBaseUpdate,d!==l&&(d===null?x.firstBaseUpdate=p:d.next=p,x.lastBaseUpdate=h))}if(o!==null){var w=i.baseState;l=0,x=p=h=null,d=o;do{var C=d.lane,E=d.eventTime;if((r&C)===C){x!==null&&(x=x.next={eventTime:E,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var _=e,I=d;switch(C=t,E=n,I.tag){case 1:if(_=I.payload,typeof _=="function"){w=_.call(E,w,C);break e}w=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=I.payload,C=typeof _=="function"?_.call(E,w,C):_,C==null)break e;w=Kt({},w,C);break e;case 2:ps=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,C=i.effects,C===null?i.effects=[d]:C.push(d))}else E={eventTime:E,lane:C,tag:d.tag,payload:d.payload,callback:d.callback,next:null},x===null?(p=x=E,h=w):x=x.next=E,l|=C;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;C=d,d=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(!0);if(x===null&&(h=w),i.baseState=h,i.firstBaseUpdate=p,i.lastBaseUpdate=x,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Co|=l,e.lanes=l,e.memoizedState=w}}function Jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(we(191,i));i.call(r)}}}var yc={},Ri=Hs(yc),Jl=Hs(yc),ec=Hs(yc);function oo(e){if(e===yc)throw Error(we(174));return e}function G1(e,t){switch(Ot(ec,t),Ot(Jl,e),Ot(Ri,yc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vh(t,e)}jt(Ri),Ot(Ri,t)}function xa(){jt(Ri),jt(Jl),jt(ec)}function Sw(e){oo(ec.current);var t=oo(Ri.current),n=Vh(t,e.type);t!==n&&(Ot(Jl,e),Ot(Ri,n))}function X1(e){Jl.current===e&&(jt(Ri),jt(Jl))}var Xt=Hs(0);function ld(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jf=[];function $1(){for(var e=0;e<Jf.length;e++)Jf[e]._workInProgressVersionPrimary=null;Jf.length=0}var Au=ts.ReactCurrentDispatcher,eh=ts.ReactCurrentBatchConfig,vo=0,$t=null,wn=null,An=null,cd=!1,Nl=!1,tc=0,dS=0;function Fn(){throw Error(we(321))}function K1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!di(e[n],t[n]))return!1;return!0}function Z1(e,t,n,r,i,o){if(vo=o,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Au.current=e===null||e.memoizedState===null?pS:mS,e=n(r,i),Nl){o=0;do{if(Nl=!1,tc=0,25<=o)throw Error(we(301));o+=1,An=wn=null,t.updateQueue=null,Au.current=xS,e=n(r,i)}while(Nl)}if(Au.current=ud,t=wn!==null&&wn.next!==null,vo=0,An=wn=$t=null,cd=!1,t)throw Error(we(300));return e}function Q1(){var e=tc!==0;return tc=0,e}function Ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?$t.memoizedState=An=e:An=An.next=e,An}function Xr(){if(wn===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=wn.next;var t=An===null?$t.memoizedState:An.next;if(t!==null)An=t,wn=e;else{if(e===null)throw Error(we(310));wn=e,e={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},An===null?$t.memoizedState=An=e:An=An.next=e}return An}function nc(e,t){return typeof t=="function"?t(e):t}function th(e){var t=Xr(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var r=wn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var d=l=null,h=null,p=o;do{var x=p.lane;if((vo&x)===x)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var w={lane:x,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(d=h=w,l=r):h=h.next=w,$t.lanes|=x,Co|=x}p=p.next}while(p!==null&&p!==o);h===null?l=r:h.next=d,di(r,t.memoizedState)||(lr=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,$t.lanes|=o,Co|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nh(e){var t=Xr(),n=t.queue;if(n===null)throw Error(we(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);di(o,t.memoizedState)||(lr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Aw(){}function _w(e,t){var n=$t,r=Xr(),i=t(),o=!di(r.memoizedState,i);if(o&&(r.memoizedState=i,lr=!0),r=r.queue,q1(Nw.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,rc(9,Tw.bind(null,n,r,i,t),void 0,null),Tn===null)throw Error(we(349));vo&30||Iw(n,t,i)}return i}function Iw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tw(e,t,n,r){t.value=n,t.getSnapshot=r,Ow(t)&&Mw(e)}function Nw(e,t,n){return n(function(){Ow(t)&&Mw(e)})}function Ow(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!di(e,n)}catch{return!0}}function Mw(e){var t=qi(e,1);t!==null&&ai(t,e,1,-1)}function em(e){var t=Ai();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:e},t.queue=e,e=e.dispatch=gS.bind(null,$t,e),[t.memoizedState,e]}function rc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dw(){return Xr().memoizedState}function _u(e,t,n,r){var i=Ai();$t.flags|=e,i.memoizedState=rc(1|t,n,void 0,r===void 0?null:r)}function Wd(e,t,n,r){var i=Xr();r=r===void 0?null:r;var o=void 0;if(wn!==null){var l=wn.memoizedState;if(o=l.destroy,r!==null&&K1(r,l.deps)){i.memoizedState=rc(t,n,o,r);return}}$t.flags|=e,i.memoizedState=rc(1|t,n,o,r)}function tm(e,t){return _u(8390656,8,e,t)}function q1(e,t){return Wd(2048,8,e,t)}function Rw(e,t){return Wd(4,2,e,t)}function kw(e,t){return Wd(4,4,e,t)}function Lw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pw(e,t,n){return n=n!=null?n.concat([e]):null,Wd(4,4,Lw.bind(null,t,e),n)}function J1(){}function Bw(e,t){var n=Xr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jw(e,t){var n=Xr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Fw(e,t,n){return vo&21?(di(n,t)||(n=W2(),$t.lanes|=n,Co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lr=!0),e.memoizedState=n)}function fS(e,t){var n=St;St=n!==0&&4>n?n:4,e(!0);var r=eh.transition;eh.transition={};try{e(!1),t()}finally{St=n,eh.transition=r}}function Uw(){return Xr().memoizedState}function hS(e,t,n){var r=Os(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zw(e))Hw(t,n);else if(n=Cw(e,t,n,r),n!==null){var i=Qn();ai(n,e,r,i),Vw(n,t,r)}}function gS(e,t,n){var r=Os(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zw(e))Hw(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,d=o(l,n);if(i.hasEagerState=!0,i.eagerState=d,di(d,l)){var h=t.interleaved;h===null?(i.next=i,W1(t)):(i.next=h.next,h.next=i),t.interleaved=i;return}}catch{}finally{}n=Cw(e,t,i,r),n!==null&&(i=Qn(),ai(n,e,r,i),Vw(n,t,r))}}function zw(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function Hw(e,t){Nl=cd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,O1(e,n)}}var ud={readContext:Gr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},pS={readContext:Gr,useCallback:function(e,t){return Ai().memoizedState=[e,t===void 0?null:t],e},useContext:Gr,useEffect:tm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_u(4194308,4,Lw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _u(4194308,4,e,t)},useInsertionEffect:function(e,t){return _u(4,2,e,t)},useMemo:function(e,t){var n=Ai();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ai();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hS.bind(null,$t,e),[r.memoizedState,e]},useRef:function(e){var t=Ai();return e={current:e},t.memoizedState=e},useState:em,useDebugValue:J1,useDeferredValue:function(e){return Ai().memoizedState=e},useTransition:function(){var e=em(!1),t=e[0];return e=fS.bind(null,e[1]),Ai().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$t,i=Ai();if(Ht){if(n===void 0)throw Error(we(407));n=n()}else{if(n=t(),Tn===null)throw Error(we(349));vo&30||Iw(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,tm(Nw.bind(null,r,o,e),[e]),r.flags|=2048,rc(9,Tw.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ai(),t=Tn.identifierPrefix;if(Ht){var n=Xi,r=Gi;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=tc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mS={readContext:Gr,useCallback:Bw,useContext:Gr,useEffect:q1,useImperativeHandle:Pw,useInsertionEffect:Rw,useLayoutEffect:kw,useMemo:jw,useReducer:th,useRef:Dw,useState:function(){return th(nc)},useDebugValue:J1,useDeferredValue:function(e){var t=Xr();return Fw(t,wn.memoizedState,e)},useTransition:function(){var e=th(nc)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:Aw,useSyncExternalStore:_w,useId:Uw,unstable_isNewReconciler:!1},xS={readContext:Gr,useCallback:Bw,useContext:Gr,useEffect:q1,useImperativeHandle:Pw,useInsertionEffect:Rw,useLayoutEffect:kw,useMemo:jw,useReducer:nh,useRef:Dw,useState:function(){return nh(nc)},useDebugValue:J1,useDeferredValue:function(e){var t=Xr();return wn===null?t.memoizedState=e:Fw(t,wn.memoizedState,e)},useTransition:function(){var e=nh(nc)[0],t=Xr().memoizedState;return[e,t]},useMutableSource:Aw,useSyncExternalStore:_w,useId:Uw,unstable_isNewReconciler:!1};function ei(e,t){if(e&&e.defaultProps){t=Kt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function u0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Kt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yd={isMounted:function(e){return(e=e._reactInternals)?To(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qn(),i=Os(e),o=Ki(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ts(e,o,i),t!==null&&(ai(t,e,i,r),Su(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qn(),i=Os(e),o=Ki(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ts(e,o,i),t!==null&&(ai(t,e,i,r),Su(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qn(),r=Os(e),i=Ki(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ts(e,i,r),t!==null&&(ai(t,e,r,n),Su(t,e,r))}};function nm(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Kl(n,r)||!Kl(i,o):!0}function Ww(e,t,n){var r=!1,i=ks,o=t.contextType;return typeof o=="object"&&o!==null?o=Gr(o):(i=fr(t)?wo:Wn.current,r=t.contextTypes,o=(r=r!=null)?ga(e,i):ks),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function rm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yd.enqueueReplaceState(t,t.state,null)}function d0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Y1(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Gr(o):(o=fr(t)?wo:Wn.current,i.context=ga(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(u0(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Yd.enqueueReplaceState(i,i.state,null),ad(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ya(e,t){try{var n="",r=t;do n+=YC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function rh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function f0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yS=typeof WeakMap=="function"?WeakMap:Map;function Yw(e,t,n){n=Ki(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fd||(fd=!0,C0=r),f0(e,t)},n}function Gw(e,t,n){n=Ki(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){f0(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){f0(e,t),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function im(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yS;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=DS.bind(null,e,t,n),t.then(e,e))}function sm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function om(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ki(-1,1),t.tag=2,Ts(n,t,1))),n.lanes|=1),e)}var wS=ts.ReactCurrentOwner,lr=!1;function Zn(e,t,n,r){t.child=e===null?vw(t,null,n,r):ma(t,e.child,n,r)}function am(e,t,n,r,i){n=n.render;var o=t.ref;return ua(t,i),r=Z1(e,t,n,r,o,i),n=Q1(),e!==null&&!lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ji(e,t,i)):(Ht&&n&&j1(t),t.flags|=1,Zn(e,t,r,i),t.child)}function lm(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!ag(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Xw(e,t,o,r,i)):(e=Ou(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(l,r)&&e.ref===t.ref)return Ji(e,t,i)}return t.flags|=1,e=Ms(o,r),e.ref=t.ref,e.return=t,t.child=e}function Xw(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Kl(o,r)&&e.ref===t.ref)if(lr=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(lr=!0);else return t.lanes=e.lanes,Ji(e,t,i)}return h0(e,t,n,r,i)}function $w(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ta,Cr),Cr|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ot(ta,Cr),Cr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ot(ta,Cr),Cr|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ot(ta,Cr),Cr|=r;return Zn(e,t,i,n),t.child}function Kw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function h0(e,t,n,r,i){var o=fr(n)?wo:Wn.current;return o=ga(t,o),ua(t,i),n=Z1(e,t,n,r,o,i),r=Q1(),e!==null&&!lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ji(e,t,i)):(Ht&&r&&j1(t),t.flags|=1,Zn(e,t,n,i),t.child)}function cm(e,t,n,r,i){if(fr(n)){var o=!0;nd(t)}else o=!1;if(ua(t,i),t.stateNode===null)Iu(e,t),Ww(t,n,r),d0(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var h=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=Gr(p):(p=fr(n)?wo:Wn.current,p=ga(t,p));var x=n.getDerivedStateFromProps,w=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==r||h!==p)&&rm(t,l,r,p),ps=!1;var C=t.memoizedState;l.state=C,ad(t,r,l,i),h=t.memoizedState,d!==r||C!==h||dr.current||ps?(typeof x=="function"&&(u0(t,n,x,r),h=t.memoizedState),(d=ps||nm(t,n,d,r,C,h,p))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=p,r=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ew(e,t),d=t.memoizedProps,p=t.type===t.elementType?d:ei(t.type,d),l.props=p,w=t.pendingProps,C=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=Gr(h):(h=fr(n)?wo:Wn.current,h=ga(t,h));var E=n.getDerivedStateFromProps;(x=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==w||C!==h)&&rm(t,l,r,h),ps=!1,C=t.memoizedState,l.state=C,ad(t,r,l,i);var _=t.memoizedState;d!==w||C!==_||dr.current||ps?(typeof E=="function"&&(u0(t,n,E,r),_=t.memoizedState),(p=ps||nm(t,n,p,r,C,_,h)||!1)?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,_,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,_,h)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),l.props=r,l.state=_,l.context=h,r=p):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),r=!1)}return g0(e,t,n,r,o,i)}function g0(e,t,n,r,i,o){Kw(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&$p(t,n,!1),Ji(e,t,o);r=t.stateNode,wS.current=t;var d=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=ma(t,e.child,null,o),t.child=ma(t,null,d,o)):Zn(e,t,d,o),t.memoizedState=r.state,i&&$p(t,n,!0),t.child}function Zw(e){var t=e.stateNode;t.pendingContext?Xp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xp(e,t.context,!1),G1(e,t.containerInfo)}function um(e,t,n,r,i){return pa(),U1(i),t.flags|=256,Zn(e,t,n,r),t.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function m0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qw(e,t,n){var r=t.pendingProps,i=Xt.current,o=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(i&2)!==0),d?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ot(Xt,i&1),e===null)return l0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=$d(l,r,0,null),e=go(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=m0(n),t.memoizedState=p0,e):eg(t,l));if(i=e.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return bS(e,t,l,r,d,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,d=i.sibling;var h={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=Ms(i,h),r.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=Ms(d,o):(o=go(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?m0(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=p0,r}return o=e.child,e=o.sibling,r=Ms(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function eg(e,t){return t=$d({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kc(e,t,n,r){return r!==null&&U1(r),ma(t,e.child,null,n),e=eg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bS(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=rh(Error(we(422))),Kc(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=$d({mode:"visible",children:r.children},i,0,null),o=go(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ma(t,e.child,null,l),t.child.memoizedState=m0(l),t.memoizedState=p0,o);if(!(t.mode&1))return Kc(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(we(419)),r=rh(o,r,void 0),Kc(e,t,l,r)}if(d=(l&e.childLanes)!==0,lr||d){if(r=Tn,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,qi(e,i),ai(r,e,i,-1))}return og(),r=rh(Error(we(421))),Kc(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=RS.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ar=Is(i.nextSibling),Tr=t,Ht=!0,ii=null,e!==null&&(Fr[Ur++]=Gi,Fr[Ur++]=Xi,Fr[Ur++]=bo,Gi=e.id,Xi=e.overflow,bo=t),t=eg(t,r.children),t.flags|=4096,t)}function dm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),c0(e.return,t,n)}function ih(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qw(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Zn(e,t,r.children,n),r=Xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dm(e,n,t);else if(e.tag===19)dm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ot(Xt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ld(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ih(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ld(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ih(t,!0,n,null,o);break;case"together":ih(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Iu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ji(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,n=Ms(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ms(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vS(e,t,n){switch(t.tag){case 3:Zw(t),pa();break;case 5:Sw(t);break;case 1:fr(t.type)&&nd(t);break;case 4:G1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ot(sd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ot(Xt,Xt.current&1),t.flags|=128,null):n&t.child.childLanes?Qw(e,t,n):(Ot(Xt,Xt.current&1),e=Ji(e,t,n),e!==null?e.sibling:null);Ot(Xt,Xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Xt,Xt.current),r)break;return null;case 22:case 23:return t.lanes=0,$w(e,t,n)}return Ji(e,t,n)}var Jw,x0,eb,tb;Jw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};x0=function(){};eb=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,oo(Ri.current);var o=null;switch(n){case"input":i=Fh(e,i),r=Fh(e,r),o=[];break;case"select":i=Kt({},i,{value:void 0}),r=Kt({},r,{value:void 0}),o=[];break;case"textarea":i=Hh(e,i),r=Hh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ed)}Wh(n,r);var l;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var d=i[p];for(l in d)d.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Hl.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in r){var h=r[p];if(d=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&h!==d&&(h!=null||d!=null))if(p==="style")if(d){for(l in d)!d.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&d[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(o=o||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&Rt("scroll",e),o||d===h||(o=[])):(o=o||[]).push(p,h))}n&&(o=o||[]).push("style",n);var p=o;(t.updateQueue=p)&&(t.flags|=4)}};tb=function(e,t,n,r){n!==r&&(t.flags|=4)};function nl(e,t){if(!Ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Un(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function CS(e,t,n){var r=t.pendingProps;switch(F1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(t),null;case 1:return fr(t.type)&&td(),Un(t),null;case 3:return r=t.stateNode,xa(),jt(dr),jt(Wn),$1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ii!==null&&(A0(ii),ii=null))),x0(e,t),Un(t),null;case 5:X1(t);var i=oo(ec.current);if(n=t.type,e!==null&&t.stateNode!=null)eb(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(we(166));return Un(t),null}if(e=oo(Ri.current),Xc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Oi]=t,r[ql]=o,e=(t.mode&1)!==0,n){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(i=0;i<yl.length;i++)Rt(yl[i],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":bp(r,o),Rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Rt("invalid",r);break;case"textarea":Cp(r,o),Rt("invalid",r)}Wh(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&Gc(r.textContent,d,e),i=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&Gc(r.textContent,d,e),i=["children",""+d]):Hl.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&Rt("scroll",r)}switch(n){case"input":jc(r),vp(r,o,!0);break;case"textarea":jc(r),Ep(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ed)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=N2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Oi]=t,e[ql]=r,Jw(e,t,!1,!1),t.stateNode=e;e:{switch(l=Yh(n,r),n){case"dialog":Rt("cancel",e),Rt("close",e),i=r;break;case"iframe":case"object":case"embed":Rt("load",e),i=r;break;case"video":case"audio":for(i=0;i<yl.length;i++)Rt(yl[i],e);i=r;break;case"source":Rt("error",e),i=r;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),i=r;break;case"details":Rt("toggle",e),i=r;break;case"input":bp(e,r),i=Fh(e,r),Rt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Kt({},r,{value:void 0}),Rt("invalid",e);break;case"textarea":Cp(e,r),i=Hh(e,r),Rt("invalid",e);break;default:i=r}Wh(n,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var h=d[o];o==="style"?D2(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&O2(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Vl(e,h):typeof h=="number"&&Vl(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hl.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Rt("scroll",e):h!=null&&S1(e,o,h,l))}switch(n){case"input":jc(e),vp(e,r,!1);break;case"textarea":jc(e),Ep(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?oa(e,!!r.multiple,o,!1):r.defaultValue!=null&&oa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Un(t),null;case 6:if(e&&t.stateNode!=null)tb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(we(166));if(n=oo(ec.current),oo(Ri.current),Xc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Oi]=t,(o=r.nodeValue!==n)&&(e=Tr,e!==null))switch(e.tag){case 3:Gc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oi]=t,t.stateNode=r}return Un(t),null;case 13:if(jt(Xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ht&&Ar!==null&&t.mode&1&&!(t.flags&128))ww(),pa(),t.flags|=98560,o=!1;else if(o=Xc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(we(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(we(317));o[Oi]=t}else pa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Un(t),o=!1}else ii!==null&&(A0(ii),ii=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xt.current&1?bn===0&&(bn=3):og())),t.updateQueue!==null&&(t.flags|=4),Un(t),null);case 4:return xa(),x0(e,t),e===null&&Zl(t.stateNode.containerInfo),Un(t),null;case 10:return V1(t.type._context),Un(t),null;case 17:return fr(t.type)&&td(),Un(t),null;case 19:if(jt(Xt),o=t.memoizedState,o===null)return Un(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)nl(o,!1);else{if(bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ld(e),l!==null){for(t.flags|=128,nl(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ot(Xt,Xt.current&1|2),t.child}e=e.sibling}o.tail!==null&&ln()>wa&&(t.flags|=128,r=!0,nl(o,!1),t.lanes=4194304)}else{if(!r)if(e=ld(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Ht)return Un(t),null}else 2*ln()-o.renderingStartTime>wa&&n!==1073741824&&(t.flags|=128,r=!0,nl(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ln(),t.sibling=null,n=Xt.current,Ot(Xt,r?n&1|2:n&1),t):(Un(t),null);case 22:case 23:return sg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Cr&1073741824&&(Un(t),t.subtreeFlags&6&&(t.flags|=8192)):Un(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}function ES(e,t){switch(F1(t),t.tag){case 1:return fr(t.type)&&td(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xa(),jt(dr),jt(Wn),$1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return X1(t),null;case 13:if(jt(Xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Xt),null;case 4:return xa(),null;case 10:return V1(t.type._context),null;case 22:case 23:return sg(),null;case 24:return null;default:return null}}var Zc=!1,zn=!1,SS=typeof WeakSet=="function"?WeakSet:Set,Re=null;function ea(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(e,t,r)}else n.current=null}function y0(e,t,n){try{n()}catch(r){tn(e,t,r)}}var fm=!1;function AS(e,t){if(t0=Qu,e=ow(),B1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,d=-1,h=-1,p=0,x=0,w=e,C=null;t:for(;;){for(var E;w!==n||i!==0&&w.nodeType!==3||(d=l+i),w!==o||r!==0&&w.nodeType!==3||(h=l+r),w.nodeType===3&&(l+=w.nodeValue.length),(E=w.firstChild)!==null;)C=w,w=E;for(;;){if(w===e)break t;if(C===n&&++p===i&&(d=l),C===o&&++x===r&&(h=l),(E=w.nextSibling)!==null)break;w=C,C=w.parentNode}w=E}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(n0={focusedElem:e,selectionRange:n},Qu=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var I=_.memoizedProps,D=_.memoizedState,O=t.stateNode,M=O.getSnapshotBeforeUpdate(t.elementType===t.type?I:ei(t.type,I),D);O.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(P){tn(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return _=fm,fm=!1,_}function Ol(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&y0(t,n,o)}i=i.next}while(i!==r)}}function Gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function w0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nb(e){var t=e.alternate;t!==null&&(e.alternate=null,nb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Oi],delete t[ql],delete t[s0],delete t[aS],delete t[lS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rb(e){return e.tag===5||e.tag===3||e.tag===4}function hm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ed));else if(r!==4&&(e=e.child,e!==null))for(b0(e,t,n),e=e.sibling;e!==null;)b0(e,t,n),e=e.sibling}function v0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(v0(e,t,n),e=e.sibling;e!==null;)v0(e,t,n),e=e.sibling}var kn=null,ti=!1;function ls(e,t,n){for(n=n.child;n!==null;)ib(e,t,n),n=n.sibling}function ib(e,t,n){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(jd,n)}catch{}switch(n.tag){case 5:zn||ea(n,t);case 6:var r=kn,i=ti;kn=null,ls(e,t,n),kn=r,ti=i,kn!==null&&(ti?(e=kn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):kn.removeChild(n.stateNode));break;case 18:kn!==null&&(ti?(e=kn,n=n.stateNode,e.nodeType===8?Qf(e.parentNode,n):e.nodeType===1&&Qf(e,n),Xl(e)):Qf(kn,n.stateNode));break;case 4:r=kn,i=ti,kn=n.stateNode.containerInfo,ti=!0,ls(e,t,n),kn=r,ti=i;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&y0(n,t,l),i=i.next}while(i!==r)}ls(e,t,n);break;case 1:if(!zn&&(ea(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){tn(n,t,d)}ls(e,t,n);break;case 21:ls(e,t,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,ls(e,t,n),zn=r):ls(e,t,n);break;default:ls(e,t,n)}}function gm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SS),t.forEach(function(r){var i=kS.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:kn=d.stateNode,ti=!1;break e;case 3:kn=d.stateNode.containerInfo,ti=!0;break e;case 4:kn=d.stateNode.containerInfo,ti=!0;break e}d=d.return}if(kn===null)throw Error(we(160));ib(o,l,i),kn=null,ti=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(p){tn(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sb(t,e),t=t.sibling}function sb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jr(t,e),vi(e),r&4){try{Ol(3,e,e.return),Gd(3,e)}catch(I){tn(e,e.return,I)}try{Ol(5,e,e.return)}catch(I){tn(e,e.return,I)}}break;case 1:Jr(t,e),vi(e),r&512&&n!==null&&ea(n,n.return);break;case 5:if(Jr(t,e),vi(e),r&512&&n!==null&&ea(n,n.return),e.flags&32){var i=e.stateNode;try{Vl(i,"")}catch(I){tn(e,e.return,I)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&I2(i,o),Yh(d,l);var p=Yh(d,o);for(l=0;l<h.length;l+=2){var x=h[l],w=h[l+1];x==="style"?D2(i,w):x==="dangerouslySetInnerHTML"?O2(i,w):x==="children"?Vl(i,w):S1(i,x,w,p)}switch(d){case"input":Uh(i,o);break;case"textarea":T2(i,o);break;case"select":var C=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?oa(i,!!o.multiple,E,!1):C!==!!o.multiple&&(o.defaultValue!=null?oa(i,!!o.multiple,o.defaultValue,!0):oa(i,!!o.multiple,o.multiple?[]:"",!1))}i[ql]=o}catch(I){tn(e,e.return,I)}}break;case 6:if(Jr(t,e),vi(e),r&4){if(e.stateNode===null)throw Error(we(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(I){tn(e,e.return,I)}}break;case 3:if(Jr(t,e),vi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(I){tn(e,e.return,I)}break;case 4:Jr(t,e),vi(e);break;case 13:Jr(t,e),vi(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(rg=ln())),r&4&&gm(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(zn=(p=zn)||x,Jr(t,e),zn=p):Jr(t,e),vi(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!x&&e.mode&1)for(Re=e,x=e.child;x!==null;){for(w=Re=x;Re!==null;){switch(C=Re,E=C.child,C.tag){case 0:case 11:case 14:case 15:Ol(4,C,C.return);break;case 1:ea(C,C.return);var _=C.stateNode;if(typeof _.componentWillUnmount=="function"){r=C,n=C.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(I){tn(r,n,I)}}break;case 5:ea(C,C.return);break;case 22:if(C.memoizedState!==null){mm(w);continue}}E!==null?(E.return=C,Re=E):mm(w)}x=x.sibling}e:for(x=null,w=e;;){if(w.tag===5){if(x===null){x=w;try{i=w.stateNode,p?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=w.stateNode,h=w.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=M2("display",l))}catch(I){tn(e,e.return,I)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(I){tn(e,e.return,I)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Jr(t,e),vi(e),r&4&&gm(e);break;case 21:break;default:Jr(t,e),vi(e)}}function vi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rb(n)){var r=n;break e}n=n.return}throw Error(we(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vl(i,""),r.flags&=-33);var o=hm(e);v0(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,d=hm(e);b0(e,d,l);break;default:throw Error(we(161))}}catch(h){tn(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _S(e,t,n){Re=e,ob(e)}function ob(e,t,n){for(var r=(e.mode&1)!==0;Re!==null;){var i=Re,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Zc;if(!l){var d=i.alternate,h=d!==null&&d.memoizedState!==null||zn;d=Zc;var p=zn;if(Zc=l,(zn=h)&&!p)for(Re=i;Re!==null;)l=Re,h=l.child,l.tag===22&&l.memoizedState!==null?xm(i):h!==null?(h.return=l,Re=h):xm(i);for(;o!==null;)Re=o,ob(o),o=o.sibling;Re=i,Zc=d,zn=p}pm(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Re=o):pm(e)}}function pm(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zn||Gd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ei(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Jp(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jp(t,l,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var x=p.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&Xl(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}zn||t.flags&512&&w0(t)}catch(C){tn(t,t.return,C)}}if(t===e){Re=null;break}if(n=t.sibling,n!==null){n.return=t.return,Re=n;break}Re=t.return}}function mm(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Re=n;break}Re=t.return}}function xm(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gd(4,t)}catch(h){tn(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(h){tn(t,i,h)}}var o=t.return;try{w0(t)}catch(h){tn(t,o,h)}break;case 5:var l=t.return;try{w0(t)}catch(h){tn(t,l,h)}}}catch(h){tn(t,t.return,h)}if(t===e){Re=null;break}var d=t.sibling;if(d!==null){d.return=t.return,Re=d;break}Re=t.return}}var IS=Math.ceil,dd=ts.ReactCurrentDispatcher,tg=ts.ReactCurrentOwner,Wr=ts.ReactCurrentBatchConfig,pt=0,Tn=null,pn=null,Ln=0,Cr=0,ta=Hs(0),bn=0,ic=null,Co=0,Xd=0,ng=0,Ml=null,or=null,rg=0,wa=1/0,Hi=null,fd=!1,C0=null,Ns=null,Qc=!1,bs=null,hd=0,Dl=0,E0=null,Tu=-1,Nu=0;function Qn(){return pt&6?ln():Tu!==-1?Tu:Tu=ln()}function Os(e){return e.mode&1?pt&2&&Ln!==0?Ln&-Ln:uS.transition!==null?(Nu===0&&(Nu=W2()),Nu):(e=St,e!==0||(e=window.event,e=e===void 0?16:Q2(e.type)),e):1}function ai(e,t,n,r){if(50<Dl)throw Dl=0,E0=null,Error(we(185));pc(e,n,r),(!(pt&2)||e!==Tn)&&(e===Tn&&(!(pt&2)&&(Xd|=n),bn===4&&xs(e,Ln)),hr(e,r),n===1&&pt===0&&!(t.mode&1)&&(wa=ln()+500,Vd&&Vs()))}function hr(e,t){var n=e.callbackNode;uE(e,t);var r=Zu(e,e===Tn?Ln:0);if(r===0)n!==null&&_p(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_p(n),t===1)e.tag===0?cS(ym.bind(null,e)):mw(ym.bind(null,e)),sS(function(){!(pt&6)&&Vs()}),n=null;else{switch(Y2(r)){case 1:n=N1;break;case 4:n=H2;break;case 16:n=Ku;break;case 536870912:n=V2;break;default:n=Ku}n=gb(n,ab.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ab(e,t){if(Tu=-1,Nu=0,pt&6)throw Error(we(327));var n=e.callbackNode;if(da()&&e.callbackNode!==n)return null;var r=Zu(e,e===Tn?Ln:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gd(e,r);else{t=r;var i=pt;pt|=2;var o=cb();(Tn!==e||Ln!==t)&&(Hi=null,wa=ln()+500,ho(e,t));do try{OS();break}catch(d){lb(e,d)}while(!0);H1(),dd.current=o,pt=i,pn!==null?t=0:(Tn=null,Ln=0,t=bn)}if(t!==0){if(t===2&&(i=Zh(e),i!==0&&(r=i,t=S0(e,i))),t===1)throw n=ic,ho(e,0),xs(e,r),hr(e,ln()),n;if(t===6)xs(e,r);else{if(i=e.current.alternate,!(r&30)&&!TS(i)&&(t=gd(e,r),t===2&&(o=Zh(e),o!==0&&(r=o,t=S0(e,o))),t===1))throw n=ic,ho(e,0),xs(e,r),hr(e,ln()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(we(345));case 2:to(e,or,Hi);break;case 3:if(xs(e,r),(r&130023424)===r&&(t=rg+500-ln(),10<t)){if(Zu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Qn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=i0(to.bind(null,e,or,Hi),t);break}to(e,or,Hi);break;case 4:if(xs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-oi(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IS(r/1960))-r,10<r){e.timeoutHandle=i0(to.bind(null,e,or,Hi),r);break}to(e,or,Hi);break;case 5:to(e,or,Hi);break;default:throw Error(we(329))}}}return hr(e,ln()),e.callbackNode===n?ab.bind(null,e):null}function S0(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(ho(e,t).flags|=256),e=gd(e,t),e!==2&&(t=or,or=n,t!==null&&A0(t)),e}function A0(e){or===null?or=e:or.push.apply(or,e)}function TS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!di(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xs(e,t){for(t&=~ng,t&=~Xd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-oi(t),r=1<<n;e[n]=-1,t&=~r}}function ym(e){if(pt&6)throw Error(we(327));da();var t=Zu(e,0);if(!(t&1))return hr(e,ln()),null;var n=gd(e,t);if(e.tag!==0&&n===2){var r=Zh(e);r!==0&&(t=r,n=S0(e,r))}if(n===1)throw n=ic,ho(e,0),xs(e,t),hr(e,ln()),n;if(n===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,to(e,or,Hi),hr(e,ln()),null}function ig(e,t){var n=pt;pt|=1;try{return e(t)}finally{pt=n,pt===0&&(wa=ln()+500,Vd&&Vs())}}function Eo(e){bs!==null&&bs.tag===0&&!(pt&6)&&da();var t=pt;pt|=1;var n=Wr.transition,r=St;try{if(Wr.transition=null,St=1,e)return e()}finally{St=r,Wr.transition=n,pt=t,!(pt&6)&&Vs()}}function sg(){Cr=ta.current,jt(ta)}function ho(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iS(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(F1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&td();break;case 3:xa(),jt(dr),jt(Wn),$1();break;case 5:X1(r);break;case 4:xa();break;case 13:jt(Xt);break;case 19:jt(Xt);break;case 10:V1(r.type._context);break;case 22:case 23:sg()}n=n.return}if(Tn=e,pn=e=Ms(e.current,null),Ln=Cr=t,bn=0,ic=null,ng=Xd=Co=0,or=Ml=null,so!==null){for(t=0;t<so.length;t++)if(n=so[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}so=null}return e}function lb(e,t){do{var n=pn;try{if(H1(),Au.current=ud,cd){for(var r=$t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cd=!1}if(vo=0,An=wn=$t=null,Nl=!1,tc=0,tg.current=null,n===null||n.return===null){bn=1,ic=t,pn=null;break}e:{var o=e,l=n.return,d=n,h=t;if(t=Ln,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,x=d,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var C=x.alternate;C?(x.updateQueue=C.updateQueue,x.memoizedState=C.memoizedState,x.lanes=C.lanes):(x.updateQueue=null,x.memoizedState=null)}var E=sm(l);if(E!==null){E.flags&=-257,om(E,l,d,o,t),E.mode&1&&im(o,p,t),t=E,h=p;var _=t.updateQueue;if(_===null){var I=new Set;I.add(h),t.updateQueue=I}else _.add(h);break e}else{if(!(t&1)){im(o,p,t),og();break e}h=Error(we(426))}}else if(Ht&&d.mode&1){var D=sm(l);if(D!==null){!(D.flags&65536)&&(D.flags|=256),om(D,l,d,o,t),U1(ya(h,d));break e}}o=h=ya(h,d),bn!==4&&(bn=2),Ml===null?Ml=[o]:Ml.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var O=Yw(o,h,t);qp(o,O);break e;case 1:d=h;var M=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof M.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ns===null||!Ns.has(R)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=Gw(o,d,t);qp(o,P);break e}}o=o.return}while(o!==null)}db(n)}catch(F){t=F,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function cb(){var e=dd.current;return dd.current=ud,e===null?ud:e}function og(){(bn===0||bn===3||bn===2)&&(bn=4),Tn===null||!(Co&268435455)&&!(Xd&268435455)||xs(Tn,Ln)}function gd(e,t){var n=pt;pt|=2;var r=cb();(Tn!==e||Ln!==t)&&(Hi=null,ho(e,t));do try{NS();break}catch(i){lb(e,i)}while(!0);if(H1(),pt=n,dd.current=r,pn!==null)throw Error(we(261));return Tn=null,Ln=0,bn}function NS(){for(;pn!==null;)ub(pn)}function OS(){for(;pn!==null&&!tE();)ub(pn)}function ub(e){var t=hb(e.alternate,e,Cr);e.memoizedProps=e.pendingProps,t===null?db(e):pn=t,tg.current=null}function db(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ES(n,t),n!==null){n.flags&=32767,pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bn=6,pn=null;return}}else if(n=CS(n,t,Cr),n!==null){pn=n;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);bn===0&&(bn=5)}function to(e,t,n){var r=St,i=Wr.transition;try{Wr.transition=null,St=1,MS(e,t,n,r)}finally{Wr.transition=i,St=r}return null}function MS(e,t,n,r){do da();while(bs!==null);if(pt&6)throw Error(we(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(dE(e,o),e===Tn&&(pn=Tn=null,Ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qc||(Qc=!0,gb(Ku,function(){return da(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wr.transition,Wr.transition=null;var l=St;St=1;var d=pt;pt|=4,tg.current=null,AS(e,n),sb(n,e),QE(n0),Qu=!!t0,n0=t0=null,e.current=n,_S(n),nE(),pt=d,St=l,Wr.transition=o}else e.current=n;if(Qc&&(Qc=!1,bs=e,hd=i),o=e.pendingLanes,o===0&&(Ns=null),sE(n.stateNode),hr(e,ln()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fd)throw fd=!1,e=C0,C0=null,e;return hd&1&&e.tag!==0&&da(),o=e.pendingLanes,o&1?e===E0?Dl++:(Dl=0,E0=e):Dl=0,Vs(),null}function da(){if(bs!==null){var e=Y2(hd),t=Wr.transition,n=St;try{if(Wr.transition=null,St=16>e?16:e,bs===null)var r=!1;else{if(e=bs,bs=null,hd=0,pt&6)throw Error(we(331));var i=pt;for(pt|=4,Re=e.current;Re!==null;){var o=Re,l=o.child;if(Re.flags&16){var d=o.deletions;if(d!==null){for(var h=0;h<d.length;h++){var p=d[h];for(Re=p;Re!==null;){var x=Re;switch(x.tag){case 0:case 11:case 15:Ol(8,x,o)}var w=x.child;if(w!==null)w.return=x,Re=w;else for(;Re!==null;){x=Re;var C=x.sibling,E=x.return;if(nb(x),x===p){Re=null;break}if(C!==null){C.return=E,Re=C;break}Re=E}}}var _=o.alternate;if(_!==null){var I=_.child;if(I!==null){_.child=null;do{var D=I.sibling;I.sibling=null,I=D}while(I!==null)}}Re=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Re=l;else e:for(;Re!==null;){if(o=Re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ol(9,o,o.return)}var O=o.sibling;if(O!==null){O.return=o.return,Re=O;break e}Re=o.return}}var M=e.current;for(Re=M;Re!==null;){l=Re;var R=l.child;if(l.subtreeFlags&2064&&R!==null)R.return=l,Re=R;else e:for(l=M;Re!==null;){if(d=Re,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Gd(9,d)}}catch(F){tn(d,d.return,F)}if(d===l){Re=null;break e}var P=d.sibling;if(P!==null){P.return=d.return,Re=P;break e}Re=d.return}}if(pt=i,Vs(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(jd,e)}catch{}r=!0}return r}finally{St=n,Wr.transition=t}}return!1}function wm(e,t,n){t=ya(n,t),t=Yw(e,t,1),e=Ts(e,t,1),t=Qn(),e!==null&&(pc(e,1,t),hr(e,t))}function tn(e,t,n){if(e.tag===3)wm(e,e,n);else for(;t!==null;){if(t.tag===3){wm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){e=ya(n,e),e=Gw(t,e,1),t=Ts(t,e,1),e=Qn(),t!==null&&(pc(t,1,e),hr(t,e));break}}t=t.return}}function DS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qn(),e.pingedLanes|=e.suspendedLanes&n,Tn===e&&(Ln&n)===n&&(bn===4||bn===3&&(Ln&130023424)===Ln&&500>ln()-rg?ho(e,0):ng|=n),hr(e,t)}function fb(e,t){t===0&&(e.mode&1?(t=zc,zc<<=1,!(zc&130023424)&&(zc=4194304)):t=1);var n=Qn();e=qi(e,t),e!==null&&(pc(e,t,n),hr(e,n))}function RS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fb(e,n)}function kS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(we(314))}r!==null&&r.delete(t),fb(e,n)}var hb;hb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)lr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lr=!1,vS(e,t,n);lr=!!(e.flags&131072)}else lr=!1,Ht&&t.flags&1048576&&xw(t,id,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Iu(e,t),e=t.pendingProps;var i=ga(t,Wn.current);ua(t,n),i=Z1(null,t,r,e,i,n);var o=Q1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fr(r)?(o=!0,nd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y1(t),i.updater=Yd,t.stateNode=i,i._reactInternals=t,d0(t,r,e,n),t=g0(null,t,r,!0,o,n)):(t.tag=0,Ht&&o&&j1(t),Zn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Iu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=PS(r),e=ei(r,e),i){case 0:t=h0(null,t,r,e,n);break e;case 1:t=cm(null,t,r,e,n);break e;case 11:t=am(null,t,r,e,n);break e;case 14:t=lm(null,t,r,ei(r.type,e),n);break e}throw Error(we(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ei(r,i),h0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ei(r,i),cm(e,t,r,i,n);case 3:e:{if(Zw(t),e===null)throw Error(we(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Ew(e,t),ad(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ya(Error(we(423)),t),t=um(e,t,r,n,i);break e}else if(r!==i){i=ya(Error(we(424)),t),t=um(e,t,r,n,i);break e}else for(Ar=Is(t.stateNode.containerInfo.firstChild),Tr=t,Ht=!0,ii=null,n=vw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pa(),r===i){t=Ji(e,t,n);break e}Zn(e,t,r,n)}t=t.child}return t;case 5:return Sw(t),e===null&&l0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,r0(r,i)?l=null:o!==null&&r0(r,o)&&(t.flags|=32),Kw(e,t),Zn(e,t,l,n),t.child;case 6:return e===null&&l0(t),null;case 13:return Qw(e,t,n);case 4:return G1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ma(t,null,r,n):Zn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ei(r,i),am(e,t,r,i,n);case 7:return Zn(e,t,t.pendingProps,n),t.child;case 8:return Zn(e,t,t.pendingProps.children,n),t.child;case 12:return Zn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Ot(sd,r._currentValue),r._currentValue=l,o!==null)if(di(o.value,l)){if(o.children===i.children&&!dr.current){t=Ji(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){l=o.child;for(var h=d.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=Ki(-1,n&-n),h.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var x=p.pending;x===null?h.next=h:(h.next=x.next,x.next=h),p.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),c0(o.return,n,t),d.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(we(341));l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),c0(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Zn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ua(t,n),i=Gr(i),r=r(i),t.flags|=1,Zn(e,t,r,n),t.child;case 14:return r=t.type,i=ei(r,t.pendingProps),i=ei(r.type,i),lm(e,t,r,i,n);case 15:return Xw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ei(r,i),Iu(e,t),t.tag=1,fr(r)?(e=!0,nd(t)):e=!1,ua(t,n),Ww(t,r,i),d0(t,r,i,n),g0(null,t,r,!0,e,n);case 19:return qw(e,t,n);case 22:return $w(e,t,n)}throw Error(we(156,t.tag))};function gb(e,t){return z2(e,t)}function LS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(e,t,n,r){return new LS(e,t,n,r)}function ag(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PS(e){if(typeof e=="function")return ag(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_1)return 11;if(e===I1)return 14}return 2}function Ms(e,t){var n=e.alternate;return n===null?(n=Hr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")ag(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Yo:return go(n.children,i,o,t);case A1:l=8,i|=8;break;case Lh:return e=Hr(12,n,t,i|2),e.elementType=Lh,e.lanes=o,e;case Ph:return e=Hr(13,n,t,i),e.elementType=Ph,e.lanes=o,e;case Bh:return e=Hr(19,n,t,i),e.elementType=Bh,e.lanes=o,e;case S2:return $d(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C2:l=10;break e;case E2:l=9;break e;case _1:l=11;break e;case I1:l=14;break e;case gs:l=16,r=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=Hr(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function go(e,t,n,r){return e=Hr(7,e,r,t),e.lanes=n,e}function $d(e,t,n,r){return e=Hr(22,e,r,t),e.elementType=S2,e.lanes=n,e.stateNode={isHidden:!1},e}function sh(e,t,n){return e=Hr(6,e,null,t),e.lanes=n,e}function oh(e,t,n){return t=Hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BS(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uf(0),this.expirationTimes=Uf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lg(e,t,n,r,i,o,l,d,h){return e=new BS(e,t,n,d,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Hr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y1(o),e}function jS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pb(e){if(!e)return ks;e=e._reactInternals;e:{if(To(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var n=e.type;if(fr(n))return pw(e,n,t)}return t}function mb(e,t,n,r,i,o,l,d,h){return e=lg(n,r,!0,e,i,o,l,d,h),e.context=pb(null),n=e.current,r=Qn(),i=Os(n),o=Ki(r,i),o.callback=t??null,Ts(n,o,i),e.current.lanes=i,pc(e,i,r),hr(e,r),e}function Kd(e,t,n,r){var i=t.current,o=Qn(),l=Os(i);return n=pb(n),t.context===null?t.context=n:t.pendingContext=n,t=Ki(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ts(i,t,l),e!==null&&(ai(e,i,l,o),Su(e,i,l)),l}function pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cg(e,t){bm(e,t),(e=e.alternate)&&bm(e,t)}function FS(){return null}var xb=typeof reportError=="function"?reportError:function(e){console.error(e)};function ug(e){this._internalRoot=e}Zd.prototype.render=ug.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));Kd(e,t,null,null)};Zd.prototype.unmount=ug.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eo(function(){Kd(null,e,null,null)}),t[Qi]=null}};function Zd(e){this._internalRoot=e}Zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=$2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ms.length&&t!==0&&t<ms[n].priority;n++);ms.splice(n,0,e),n===0&&Z2(e)}};function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vm(){}function US(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var p=pd(l);o.call(p)}}var l=mb(t,r,e,0,null,!1,!1,"",vm);return e._reactRootContainer=l,e[Qi]=l.current,Zl(e.nodeType===8?e.parentNode:e),Eo(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var d=r;r=function(){var p=pd(h);d.call(p)}}var h=lg(e,0,!1,null,null,!1,!1,"",vm);return e._reactRootContainer=h,e[Qi]=h.current,Zl(e.nodeType===8?e.parentNode:e),Eo(function(){Kd(t,h,n,r)}),h}function qd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var d=i;i=function(){var h=pd(l);d.call(h)}}Kd(t,l,e,i)}else l=US(n,t,e,i,r);return pd(l)}G2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xl(t.pendingLanes);n!==0&&(O1(t,n|1),hr(t,ln()),!(pt&6)&&(wa=ln()+500,Vs()))}break;case 13:Eo(function(){var r=qi(e,1);if(r!==null){var i=Qn();ai(r,e,1,i)}}),cg(e,1)}};M1=function(e){if(e.tag===13){var t=qi(e,134217728);if(t!==null){var n=Qn();ai(t,e,134217728,n)}cg(e,134217728)}};X2=function(e){if(e.tag===13){var t=Os(e),n=qi(e,t);if(n!==null){var r=Qn();ai(n,e,t,r)}cg(e,t)}};$2=function(){return St};K2=function(e,t){var n=St;try{return St=e,t()}finally{St=n}};Xh=function(e,t,n){switch(t){case"input":if(Uh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hd(r);if(!i)throw Error(we(90));_2(r),Uh(r,i)}}}break;case"textarea":T2(e,n);break;case"select":t=n.value,t!=null&&oa(e,!!n.multiple,t,!1)}};L2=ig;P2=Eo;var zS={usingClientEntryPoint:!1,Events:[xc,Ko,Hd,R2,k2,ig]},rl={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HS={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F2(e),e===null?null:e.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||FS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{jd=qc.inject(HS),Di=qc}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zS;Or.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dg(t))throw Error(we(200));return jS(e,t,null,n)};Or.createRoot=function(e,t){if(!dg(e))throw Error(we(299));var n=!1,r="",i=xb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=lg(e,1,!1,null,null,n,!1,r,i),e[Qi]=t.current,Zl(e.nodeType===8?e.parentNode:e),new ug(t)};Or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=F2(t),e=e===null?null:e.stateNode,e};Or.flushSync=function(e){return Eo(e)};Or.hydrate=function(e,t,n){if(!Qd(t))throw Error(we(200));return qd(null,e,t,!0,n)};Or.hydrateRoot=function(e,t,n){if(!dg(e))throw Error(we(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=xb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=mb(t,null,e,1,n??null,i,!1,o,l),e[Qi]=t.current,Zl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zd(t)};Or.render=function(e,t,n){if(!Qd(t))throw Error(we(200));return qd(null,e,t,!1,n)};Or.unmountComponentAtNode=function(e){if(!Qd(e))throw Error(we(40));return e._reactRootContainer?(Eo(function(){qd(null,null,e,!1,function(){e._reactRootContainer=null,e[Qi]=null})}),!0):!1};Or.unstable_batchedUpdates=ig;Or.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qd(n))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return qd(e,t,n,!1,r)};Or.version="18.3.1-next-f1338f8080-20240426";function yb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yb)}catch(e){console.error(e)}}yb(),y2.exports=Or;var fg=y2.exports;const _0=Pd(fg),VS=x1({__proto__:null,default:_0},[fg]);var Cm=fg;Rh.createRoot=Cm.createRoot,Rh.hydrateRoot=Cm.hydrateRoot;const WS="modulepreload",YS=function(e){return"/"+e},Em={},GS=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(h=>{if(h=YS(h),h in Em)return;Em[h]=!0;const p=h.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":WS,p||(w.as="script"),w.crossOrigin="",w.href=h,d&&w.setAttribute("nonce",d),document.head.appendChild(w),p)return new Promise((C,E)=>{w.addEventListener("load",C),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ut.apply(this,arguments)}var hn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hn||(hn={}));const Sm="popstate";function XS(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:l,hash:d}=r.location;return sc("",{pathname:o,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ls(i)}return KS(t,n,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ba(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $S(){return Math.random().toString(36).substr(2,8)}function Am(e,t){return{usr:e.state,key:e.key,idx:t}}function sc(e,t,n,r){return n===void 0&&(n=null),Ut({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ws(t):t,{state:n,key:t&&t.key||r||$S()})}function Ls(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ws(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function KS(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,d=hn.Pop,h=null,p=x();p==null&&(p=0,l.replaceState(Ut({},l.state,{idx:p}),""));function x(){return(l.state||{idx:null}).idx}function w(){d=hn.Pop;let D=x(),O=D==null?null:D-p;p=D,h&&h({action:d,location:I.location,delta:O})}function C(D,O){d=hn.Push;let M=sc(I.location,D,O);p=x()+1;let R=Am(M,p),P=I.createHref(M);try{l.pushState(R,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(P)}o&&h&&h({action:d,location:I.location,delta:1})}function E(D,O){d=hn.Replace;let M=sc(I.location,D,O);p=x();let R=Am(M,p),P=I.createHref(M);l.replaceState(R,"",P),o&&h&&h({action:d,location:I.location,delta:0})}function _(D){let O=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof D=="string"?D:Ls(D);return M=M.replace(/ $/,"%20"),Ke(O,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,O)}let I={get action(){return d},get location(){return e(i,l)},listen(D){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Sm,w),h=D,()=>{i.removeEventListener(Sm,w),h=null}},createHref(D){return t(i,D)},createURL:_,encodeLocation(D){let O=_(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:C,replace:E,go(D){return l.go(D)}};return I}var zt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zt||(zt={}));const ZS=new Set(["lazy","caseSensitive","path","id","index","children"]);function QS(e){return e.index===!0}function I0(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let l=[...n,o],d=typeof i.id=="string"?i.id:l.join("-");if(Ke(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ke(!r[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),QS(i)){let h=Ut({},i,t(i),{id:d});return r[d]=h,h}else{let h=Ut({},i,t(i),{id:d,children:void 0});return r[d]=h,i.children&&(h.children=I0(i.children,t,l,r)),h}})}function na(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ws(t):t,i=fi(r.pathname||"/",n);if(i==null)return null;let o=wb(e);JS(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let h=uA(i);l=lA(o[d],h)}return l}function qS(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function wb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Ke(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=ki([r,h.relativePath]),x=n.concat(h);o.children&&o.children.length>0&&(Ke(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),wb(o.children,t,x,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:oA(p,o.index),routesMeta:x})};return e.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,l);else for(let h of bb(o.path))i(o,l,h)}),t}function bb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=bb(r.join("/")),d=[];return d.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&d.push(...l),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function JS(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eA=/^:[\w-]+$/,tA=3,nA=2,rA=1,iA=10,sA=-2,_m=e=>e==="*";function oA(e,t){let n=e.split("/"),r=n.length;return n.some(_m)&&(r+=sA),t&&(r+=nA),n.filter(i=>!_m(i)).reduce((i,o)=>i+(eA.test(o)?tA:o===""?rA:iA),r)}function aA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lA(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],h=l===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",x=T0({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p);if(!x)return null;Object.assign(r,x.params);let w=d.route;o.push({params:r,pathname:ki([i,x.pathname]),pathnameBase:hA(ki([i,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(i=ki([i,x.pathnameBase]))}return o}function T0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,x,w)=>{let{paramName:C,isOptional:E}=x;if(C==="*"){let I=d[w]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const _=d[w];return E&&!_?p[C]=void 0:p[C]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:e}}function cA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ba(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function uA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ba(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ws(e):e;return{pathname:n?n.startsWith("/")?n:fA(n,t):t,search:gA(r),hash:pA(i)}}function fA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ah(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hg(e,t){let n=vb(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gg(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ws(e):(i=Ut({},e),Ke(!i.pathname||!i.pathname.includes("?"),ah("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),ah("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),ah("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,d;if(l==null)d=n;else{let w=t.length-1;if(!r&&l.startsWith("..")){let C=l.split("/");for(;C[0]==="..";)C.shift(),w-=1;i.pathname=C.join("/")}d=w>=0?t[w]:"/"}let h=dA(i,d),p=l&&l!=="/"&&l.endsWith("/"),x=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||x)&&(h.pathname+="/"),h}const ki=e=>e.join("/").replace(/\/\/+/g,"/"),hA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class N0 extends Error{}class mA{constructor(t,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Ke(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((o,l)=>r=l),this.controller=new AbortController;let i=()=>r(new N0("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((o,l)=>{let[d,h]=l;return Object.assign(o,{[d]:this.trackPromise(d,h)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(t,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,void 0,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){if(this.controller.signal.aborted&&r instanceof N0)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r===void 0&&i===void 0){let o=new Error('Deferred data for key "'+n+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(t,"_error",{get:()=>o}),this.emit(!1,n),Promise.reject(o)}return i===void 0?(Object.defineProperty(t,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,n),i)}emit(t,n){this.subscribers.forEach(r=>r(t,n))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(o=>{t.removeEventListener("abort",r),(o||this.done)&&i(o)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Ke(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:yA(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function xA(e){return e instanceof Promise&&e._tracked===!0}function yA(e){if(!xA(e))return e;if(e._error)throw e._error;return e._data}const il=function(t,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n;return new mA(t,r)},Er=function(t,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",t),new Response(null,Ut({},r,{headers:i}))};class pg{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function mg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cb=["post","put","patch","delete"],wA=new Set(Cb),bA=["get",...Cb],vA=new Set(bA),CA=new Set([301,302,303,307,308]),EA=new Set([307,308]),lh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AA=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Eb="remix-router-transitions";function _A(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Ke(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let W=e.detectErrorBoundary;i=$=>({hasErrorBoundary:W($)})}else i=AA;let o={},l=I0(e.routes,i,void 0,o),d,h=e.basename||"/",p=e.unstable_dataStrategy||OA,x=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),w=null,C=new Set,E=null,_=null,I=null,D=e.hydrationData!=null,O=na(l,e.history.location,h),M=null;if(O==null){let W=jr(404,{pathname:e.history.location.pathname}),{matches:$,route:Q}=Pm(l);O=$,M={[Q.id]:W}}let R,P=O.some(W=>W.route.lazy),F=O.some(W=>W.route.loader);if(P)R=!1;else if(!F)R=!0;else if(x.v7_partialHydration){let W=e.hydrationData?e.hydrationData.loaderData:null,$=e.hydrationData?e.hydrationData.errors:null,Q=le=>le.route.loader?typeof le.route.loader=="function"&&le.route.loader.hydrate===!0?!1:W&&W[le.route.id]!==void 0||$&&$[le.route.id]!==void 0:!0;if($){let le=O.findIndex(Ee=>$[Ee.route.id]!==void 0);R=O.slice(0,le+1).every(Q)}else R=O.every(Q)}else R=e.hydrationData!=null;let z,A={historyAction:e.history.action,location:e.history.location,matches:O,initialized:R,navigation:lh,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||M,fetchers:new Map,blockers:new Map},j=hn.Pop,U=!1,J,ce=!1,se=new Map,xe=null,Oe=!1,X=!1,ke=[],be=[],oe=new Map,ge=0,pe=-1,Pe=new Map,Ae=new Set,Ue=new Map,Ie=new Map,ze=new Set,ye=new Map,mt=new Map,at=!1;function Vt(){if(w=e.history.listen(W=>{let{action:$,location:Q,delta:le}=W;if(at){at=!1;return}ba(mt.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ee=ne({currentLocation:A.location,nextLocation:Q,historyAction:$});if(Ee&&le!=null){at=!0,e.history.go(le*-1),H(Ee,{state:"blocked",location:Q,proceed(){H(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),e.history.go(le)},reset(){let Te=new Map(A.blockers);Te.set(Ee,sl),nt({blockers:Te})}});return}return Gn($,Q)}),n){HA(t,se);let W=()=>VA(t,se);t.addEventListener("pagehide",W),xe=()=>t.removeEventListener("pagehide",W)}return A.initialized||Gn(hn.Pop,A.location,{initialHydration:!0}),z}function mn(){w&&w(),xe&&xe(),C.clear(),J&&J.abort(),A.fetchers.forEach((W,$)=>Wt($)),A.blockers.forEach((W,$)=>q($))}function st(W){return C.add(W),()=>C.delete(W)}function nt(W,$){$===void 0&&($={}),A=Ut({},A,W);let Q=[],le=[];x.v7_fetcherPersist&&A.fetchers.forEach((Ee,Te)=>{Ee.state==="idle"&&(ze.has(Te)?le.push(Te):Q.push(Te))}),[...C].forEach(Ee=>Ee(A,{deletedFetchers:le,unstable_viewTransitionOpts:$.viewTransitionOpts,unstable_flushSync:$.flushSync===!0})),x.v7_fetcherPersist&&(Q.forEach(Ee=>A.fetchers.delete(Ee)),le.forEach(Ee=>Wt(Ee)))}function We(W,$,Q){var le,Ee;let{flushSync:Te}=Q===void 0?{}:Q,Ne=A.actionData!=null&&A.navigation.formMethod!=null&&ni(A.navigation.formMethod)&&A.navigation.state==="loading"&&((le=W.state)==null?void 0:le._isRedirect)!==!0,_e;$.actionData?Object.keys($.actionData).length>0?_e=$.actionData:_e=null:Ne?_e=A.actionData:_e=null;let $e=$.loaderData?km(A.loaderData,$.loaderData,$.matches||[],$.errors):A.loaderData,Le=A.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((ue,xt)=>Le.set(xt,sl)));let Mt=U===!0||A.navigation.formMethod!=null&&ni(A.navigation.formMethod)&&((Ee=W.state)==null?void 0:Ee._isRedirect)!==!0;d&&(l=d,d=void 0),Oe||j===hn.Pop||(j===hn.Push?e.history.push(W,W.state):j===hn.Replace&&e.history.replace(W,W.state));let wt;if(j===hn.Pop){let ue=se.get(A.location.pathname);ue&&ue.has(W.pathname)?wt={currentLocation:A.location,nextLocation:W}:se.has(W.pathname)&&(wt={currentLocation:W,nextLocation:A.location})}else if(ce){let ue=se.get(A.location.pathname);ue?ue.add(W.pathname):(ue=new Set([W.pathname]),se.set(A.location.pathname,ue)),wt={currentLocation:A.location,nextLocation:W}}nt(Ut({},$,{actionData:_e,loaderData:$e,historyAction:j,location:W,initialized:!0,navigation:lh,revalidation:"idle",restoreScrollPosition:je(W,$.matches||A.matches),preventScrollReset:Mt,blockers:Le}),{viewTransitionOpts:wt,flushSync:Te===!0}),j=hn.Pop,U=!1,ce=!1,Oe=!1,X=!1,ke=[],be=[]}async function Kr(W,$){if(typeof W=="number"){e.history.go(W);return}let Q=O0(A.location,A.matches,h,x.v7_prependBasename,W,x.v7_relativeSplatPath,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:le,submission:Ee,error:Te}=Im(x.v7_normalizeFormMethod,!1,Q,$),Ne=A.location,_e=sc(A.location,le,$&&$.state);_e=Ut({},_e,e.history.encodeLocation(_e));let $e=$&&$.replace!=null?$.replace:void 0,Le=hn.Push;$e===!0?Le=hn.Replace:$e===!1||Ee!=null&&ni(Ee.formMethod)&&Ee.formAction===A.location.pathname+A.location.search&&(Le=hn.Replace);let Mt=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,wt=($&&$.unstable_flushSync)===!0,ue=ne({currentLocation:Ne,nextLocation:_e,historyAction:Le});if(ue){H(ue,{state:"blocked",location:_e,proceed(){H(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Kr(W,$)},reset(){let xt=new Map(A.blockers);xt.set(ue,sl),nt({blockers:xt})}});return}return await Gn(Le,_e,{submission:Ee,pendingError:Te,preventScrollReset:Mt,replace:$&&$.replace,enableViewTransition:$&&$.unstable_viewTransition,flushSync:wt})}function er(){if(xi(),nt({revalidation:"loading"}),A.navigation.state!=="submitting"){if(A.navigation.state==="idle"){Gn(A.historyAction,A.location,{startUninterruptedRevalidation:!0});return}Gn(j||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation})}}async function Gn(W,$,Q){J&&J.abort(),J=null,j=W,Oe=(Q&&Q.startUninterruptedRevalidation)===!0,Fe(A.location,A.matches),U=(Q&&Q.preventScrollReset)===!0,ce=(Q&&Q.enableViewTransition)===!0;let le=d||l,Ee=Q&&Q.overrideNavigation,Te=na(le,$,h),Ne=(Q&&Q.flushSync)===!0;if(!Te){let ue=jr(404,{pathname:$.pathname}),{matches:xt,route:qt}=Pm(le);he(),We($,{matches:xt,loaderData:{},errors:{[qt.id]:ue}},{flushSync:Ne});return}if(A.initialized&&!X&&PA(A.location,$)&&!(Q&&Q.submission&&ni(Q.submission.formMethod))){We($,{matches:Te},{flushSync:Ne});return}J=new AbortController;let _e=zo(e.history,$,J.signal,Q&&Q.submission),$e;if(Q&&Q.pendingError)$e=[Rl(Te).route.id,{type:zt.error,error:Q.pendingError}];else if(Q&&Q.submission&&ni(Q.submission.formMethod)){let ue=await Zt(_e,$,Q.submission,Te,{replace:Q.replace,flushSync:Ne});if(ue.shortCircuited)return;$e=ue.pendingActionResult,Ee=ch($,Q.submission),Ne=!1,_e=zo(e.history,_e.url,_e.signal)}let{shortCircuited:Le,loaderData:Mt,errors:wt}=await ht(_e,$,Te,Ee,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ne,$e);Le||(J=null,We($,Ut({matches:Te},Lm($e),{loaderData:Mt,errors:wt})))}async function Zt(W,$,Q,le,Ee){Ee===void 0&&(Ee={}),xi();let Te=UA($,Q);nt({navigation:Te},{flushSync:Ee.flushSync===!0});let Ne,_e=D0(le,$);if(!_e.route.action&&!_e.route.lazy)Ne={type:zt.error,error:jr(405,{method:W.method,pathname:$.pathname,routeId:_e.route.id})};else if(Ne=(await mi("action",W,[_e],le))[0],W.signal.aborted)return{shortCircuited:!0};if(lo(Ne)){let $e;return Ee&&Ee.replace!=null?$e=Ee.replace:$e=Mm(Ne.response.headers.get("Location"),new URL(W.url),h)===A.location.pathname+A.location.search,await Nn(W,Ne,{submission:Q,replace:$e}),{shortCircuited:!0}}if(ao(Ne))throw jr(400,{type:"defer-action"});if(zr(Ne)){let $e=Rl(le,_e.route.id);return(Ee&&Ee.replace)!==!0&&(j=hn.Push),{pendingActionResult:[$e.route.id,Ne]}}return{pendingActionResult:[_e.route.id,Ne]}}async function ht(W,$,Q,le,Ee,Te,Ne,_e,$e,Le){let Mt=le||ch($,Ee),wt=Ee||Te||Fm(Mt),ue=d||l,[xt,qt]=Tm(e.history,A,Q,wt,$,x.v7_partialHydration&&_e===!0,x.unstable_skipActionErrorRevalidation,X,ke,be,ze,Ue,Ae,ue,h,Le);if(he(Be=>!(Q&&Q.some(Cn=>Cn.route.id===Be))||xt&&xt.some(Cn=>Cn.route.id===Be)),pe=++ge,xt.length===0&&qt.length===0){let Be=_t();return We($,Ut({matches:Q,loaderData:{},errors:Le&&zr(Le[1])?{[Le[0]]:Le[1].error}:null},Lm(Le),Be?{fetchers:new Map(A.fetchers)}:{}),{flushSync:$e}),{shortCircuited:!0}}if(!Oe&&(!x.v7_partialHydration||!_e)){qt.forEach(Cn=>{let rn=A.fetchers.get(Cn.key),sn=ol(void 0,rn?rn.data:void 0);A.fetchers.set(Cn.key,sn)});let Be;Le&&!zr(Le[1])?Be={[Le[0]]:Le[1].data}:A.actionData&&(Object.keys(A.actionData).length===0?Be=null:Be=A.actionData),nt(Ut({navigation:Mt},Be!==void 0?{actionData:Be}:{},qt.length>0?{fetchers:new Map(A.fetchers)}:{}),{flushSync:$e})}qt.forEach(Be=>{oe.has(Be.key)&&Bn(Be.key),Be.controller&&oe.set(Be.key,Be.controller)});let dn=()=>qt.forEach(Be=>Bn(Be.key));J&&J.signal.addEventListener("abort",dn);let{loaderResults:$n,fetcherResults:Zr}=await Xn(A.matches,Q,xt,qt,W);if(W.signal.aborted)return{shortCircuited:!0};J&&J.signal.removeEventListener("abort",dn),qt.forEach(Be=>oe.delete(Be.key));let Qr=Bm([...$n,...Zr]);if(Qr){if(Qr.idx>=xt.length){let Be=qt[Qr.idx-xt.length].key;Ae.add(Be)}return await Nn(W,Qr.result,{replace:Ne}),{shortCircuited:!0}}let{loaderData:On,errors:Dr}=Rm(A,Q,xt,$n,Le,qt,Zr,ye);ye.forEach((Be,Cn)=>{Be.subscribe(rn=>{(rn||Be.done)&&ye.delete(Cn)})}),x.v7_partialHydration&&_e&&A.errors&&Object.entries(A.errors).filter(Be=>{let[Cn]=Be;return!xt.some(rn=>rn.route.id===Cn)}).forEach(Be=>{let[Cn,rn]=Be;Dr=Object.assign(Dr||{},{[Cn]:rn})});let Ro=_t(),Kn=Se(pe),fn=Ro||Kn||qt.length>0;return Ut({loaderData:On,errors:Dr},fn?{fetchers:new Map(A.fetchers)}:{})}function rt(W,$,Q,le){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");oe.has(W)&&Bn(W);let Ee=(le&&le.unstable_flushSync)===!0,Te=d||l,Ne=O0(A.location,A.matches,h,x.v7_prependBasename,Q,x.v7_relativeSplatPath,$,le==null?void 0:le.relative),_e=na(Te,Ne,h);if(!_e){pr(W,$,jr(404,{pathname:Ne}),{flushSync:Ee});return}let{path:$e,submission:Le,error:Mt}=Im(x.v7_normalizeFormMethod,!0,Ne,le);if(Mt){pr(W,$,Mt,{flushSync:Ee});return}let wt=D0(_e,$e);if(U=(le&&le.preventScrollReset)===!0,Le&&ni(Le.formMethod)){pi(W,$,$e,wt,_e,Ee,Le);return}Ue.set(W,{routeId:$,path:$e}),De(W,$,$e,wt,_e,Ee,Le)}async function pi(W,$,Q,le,Ee,Te,Ne){if(xi(),Ue.delete(W),!le.route.action&&!le.route.lazy){let sn=jr(405,{method:Ne.formMethod,pathname:Q,routeId:$});pr(W,$,sn,{flushSync:Te});return}let _e=A.fetchers.get(W);Qt(W,zA(Ne,_e),{flushSync:Te});let $e=new AbortController,Le=zo(e.history,Q,$e.signal,Ne);oe.set(W,$e);let Mt=ge,ue=(await mi("action",Le,[le],Ee))[0];if(Le.signal.aborted){oe.get(W)===$e&&oe.delete(W);return}if(x.v7_fetcherPersist&&ze.has(W)){if(lo(ue)||zr(ue)){Qt(W,fs(void 0));return}}else{if(lo(ue))if(oe.delete(W),pe>Mt){Qt(W,fs(void 0));return}else return Ae.add(W),Qt(W,ol(Ne)),Nn(Le,ue,{fetcherSubmission:Ne});if(zr(ue)){pr(W,$,ue.error);return}}if(ao(ue))throw jr(400,{type:"defer-action"});let xt=A.navigation.location||A.location,qt=zo(e.history,xt,$e.signal),dn=d||l,$n=A.navigation.state!=="idle"?na(dn,A.navigation.location,h):A.matches;Ke($n,"Didn't find any matches after fetcher action");let Zr=++ge;Pe.set(W,Zr);let Qr=ol(Ne,ue.data);A.fetchers.set(W,Qr);let[On,Dr]=Tm(e.history,A,$n,Ne,xt,!1,x.unstable_skipActionErrorRevalidation,X,ke,be,ze,Ue,Ae,dn,h,[le.route.id,ue]);Dr.filter(sn=>sn.key!==W).forEach(sn=>{let fe=sn.key,Nc=A.fetchers.get(fe),Ft=ol(void 0,Nc?Nc.data:void 0);A.fetchers.set(fe,Ft),oe.has(fe)&&Bn(fe),sn.controller&&oe.set(fe,sn.controller)}),nt({fetchers:new Map(A.fetchers)});let Ro=()=>Dr.forEach(sn=>Bn(sn.key));$e.signal.addEventListener("abort",Ro);let{loaderResults:Kn,fetcherResults:fn}=await Xn(A.matches,$n,On,Dr,qt);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",Ro),Pe.delete(W),oe.delete(W),Dr.forEach(sn=>oe.delete(sn.key));let Be=Bm([...Kn,...fn]);if(Be){if(Be.idx>=On.length){let sn=Dr[Be.idx-On.length].key;Ae.add(sn)}return Nn(qt,Be.result)}let{loaderData:Cn,errors:rn}=Rm(A,A.matches,On,Kn,void 0,Dr,fn,ye);if(A.fetchers.has(W)){let sn=fs(ue.data);A.fetchers.set(W,sn)}Se(Zr),A.navigation.state==="loading"&&Zr>pe?(Ke(j,"Expected pending action"),J&&J.abort(),We(A.navigation.location,{matches:$n,loaderData:Cn,errors:rn,fetchers:new Map(A.fetchers)})):(nt({errors:rn,loaderData:km(A.loaderData,Cn,$n,rn),fetchers:new Map(A.fetchers)}),X=!1)}async function De(W,$,Q,le,Ee,Te,Ne){let _e=A.fetchers.get(W);Qt(W,ol(Ne,_e?_e.data:void 0),{flushSync:Te});let $e=new AbortController,Le=zo(e.history,Q,$e.signal);oe.set(W,$e);let Mt=ge,ue=(await mi("loader",Le,[le],Ee))[0];if(ao(ue)&&(ue=await Ib(ue,Le.signal,!0)||ue),oe.get(W)===$e&&oe.delete(W),!Le.signal.aborted){if(ze.has(W)){Qt(W,fs(void 0));return}if(lo(ue))if(pe>Mt){Qt(W,fs(void 0));return}else{Ae.add(W),await Nn(Le,ue);return}if(zr(ue)){pr(W,$,ue.error);return}Ke(!ao(ue),"Unhandled fetcher deferred data"),Qt(W,fs(ue.data))}}async function Nn(W,$,Q){let{submission:le,fetcherSubmission:Ee,replace:Te}=Q===void 0?{}:Q;$.response.headers.has("X-Remix-Revalidate")&&(X=!0);let Ne=$.response.headers.get("Location");Ke(Ne,"Expected a Location header on the redirect Response"),Ne=Mm(Ne,new URL(W.url),h);let _e=sc(A.location,Ne,{_isRedirect:!0});if(n){let xt=!1;if($.response.headers.has("X-Remix-Reload-Document"))xt=!0;else if(xg.test(Ne)){const qt=e.history.createURL(Ne);xt=qt.origin!==t.location.origin||fi(qt.pathname,h)==null}if(xt){Te?t.location.replace(Ne):t.location.assign(Ne);return}}J=null;let $e=Te===!0?hn.Replace:hn.Push,{formMethod:Le,formAction:Mt,formEncType:wt}=A.navigation;!le&&!Ee&&Le&&Mt&&wt&&(le=Fm(A.navigation));let ue=le||Ee;if(EA.has($.response.status)&&ue&&ni(ue.formMethod))await Gn($e,_e,{submission:Ut({},ue,{formAction:Ne}),preventScrollReset:U});else{let xt=ch(_e,le);await Gn($e,_e,{overrideNavigation:xt,fetcherSubmission:Ee,preventScrollReset:U})}}async function mi(W,$,Q,le){try{let Ee=await MA(p,W,$,Q,le,o,i);return await Promise.all(Ee.map((Te,Ne)=>{if(BA(Te)){let _e=Te.result;return{type:zt.redirect,response:kA(_e,$,Q[Ne].route.id,le,h,x.v7_relativeSplatPath)}}return RA(Te)}))}catch(Ee){return Q.map(()=>({type:zt.error,error:Ee}))}}async function Xn(W,$,Q,le,Ee){let[Te,...Ne]=await Promise.all([Q.length?mi("loader",Ee,Q,$):[],...le.map(_e=>{if(_e.matches&&_e.match&&_e.controller){let $e=zo(e.history,_e.path,_e.controller.signal);return mi("loader",$e,[_e.match],_e.matches).then(Le=>Le[0])}else return Promise.resolve({type:zt.error,error:jr(404,{pathname:_e.path})})})]);return await Promise.all([jm(W,Q,Te,Te.map(()=>Ee.signal),!1,A.loaderData),jm(W,le.map(_e=>_e.match),Ne,le.map(_e=>_e.controller?_e.controller.signal:null),!0)]),{loaderResults:Te,fetcherResults:Ne}}function xi(){X=!0,ke.push(...he()),Ue.forEach((W,$)=>{oe.has($)&&(be.push($),Bn($))})}function Qt(W,$,Q){Q===void 0&&(Q={}),A.fetchers.set(W,$),nt({fetchers:new Map(A.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function pr(W,$,Q,le){le===void 0&&(le={});let Ee=Rl(A.matches,$);Wt(W),nt({errors:{[Ee.route.id]:Q},fetchers:new Map(A.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function mr(W){return x.v7_fetcherPersist&&(Ie.set(W,(Ie.get(W)||0)+1),ze.has(W)&&ze.delete(W)),A.fetchers.get(W)||SA}function Wt(W){let $=A.fetchers.get(W);oe.has(W)&&!($&&$.state==="loading"&&Pe.has(W))&&Bn(W),Ue.delete(W),Pe.delete(W),Ae.delete(W),ze.delete(W),A.fetchers.delete(W)}function Do(W){if(x.v7_fetcherPersist){let $=(Ie.get(W)||0)-1;$<=0?(Ie.delete(W),ze.add(W)):Ie.set(W,$)}else Wt(W);nt({fetchers:new Map(A.fetchers)})}function Bn(W){let $=oe.get(W);Ke($,"Expected fetch controller: "+W),$.abort(),oe.delete(W)}function Bi(W){for(let $ of W){let Q=mr($),le=fs(Q.data);A.fetchers.set($,le)}}function _t(){let W=[],$=!1;for(let Q of Ae){let le=A.fetchers.get(Q);Ke(le,"Expected fetcher: "+Q),le.state==="loading"&&(Ae.delete(Q),W.push(Q),$=!0)}return Bi(W),$}function Se(W){let $=[];for(let[Q,le]of Pe)if(le<W){let Ee=A.fetchers.get(Q);Ke(Ee,"Expected fetcher: "+Q),Ee.state==="loading"&&(Bn(Q),Pe.delete(Q),$.push(Q))}return Bi($),$.length>0}function Yt(W,$){let Q=A.blockers.get(W)||sl;return mt.get(W)!==$&&mt.set(W,$),Q}function q(W){A.blockers.delete(W),mt.delete(W)}function H(W,$){let Q=A.blockers.get(W)||sl;Ke(Q.state==="unblocked"&&$.state==="blocked"||Q.state==="blocked"&&$.state==="blocked"||Q.state==="blocked"&&$.state==="proceeding"||Q.state==="blocked"&&$.state==="unblocked"||Q.state==="proceeding"&&$.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+$.state);let le=new Map(A.blockers);le.set(W,$),nt({blockers:le})}function ne(W){let{currentLocation:$,nextLocation:Q,historyAction:le}=W;if(mt.size===0)return;mt.size>1&&ba(!1,"A router only supports one blocker at a time");let Ee=Array.from(mt.entries()),[Te,Ne]=Ee[Ee.length-1],_e=A.blockers.get(Te);if(!(_e&&_e.state==="proceeding")&&Ne({currentLocation:$,nextLocation:Q,historyAction:le}))return Te}function he(W){let $=[];return ye.forEach((Q,le)=>{(!W||W(le))&&(Q.cancel(),$.push(le),ye.delete(le))}),$}function ee(W,$,Q){if(E=W,I=$,_=Q||null,!D&&A.navigation===lh){D=!0;let le=je(A.location,A.matches);le!=null&&nt({restoreScrollPosition:le})}return()=>{E=null,I=null,_=null}}function te(W,$){return _&&_(W,$.map(le=>qS(le,A.loaderData)))||W.key}function Fe(W,$){if(E&&I){let Q=te(W,$);E[Q]=I()}}function je(W,$){if(E){let Q=te(W,$),le=E[Q];if(typeof le=="number")return le}return null}function Ze(W){o={},d=I0(W,i,void 0,o)}return z={get basename(){return h},get future(){return x},get state(){return A},get routes(){return l},get window(){return t},initialize:Vt,subscribe:st,enableScrollRestoration:ee,navigate:Kr,fetch:rt,revalidate:er,createHref:W=>e.history.createHref(W),encodeLocation:W=>e.history.encodeLocation(W),getFetcher:mr,deleteFetcher:Do,dispose:mn,getBlocker:Yt,deleteBlocker:q,_internalFetchControllers:oe,_internalActiveDeferreds:ye,_internalSetRoutes:Ze},z}function IA(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function O0(e,t,n,r,i,o,l,d){let h,p;if(l){h=[];for(let w of t)if(h.push(w),w.route.id===l){p=w;break}}else h=t,p=t[t.length-1];let x=gg(i||".",hg(h,o),fi(e.pathname,n)||e.pathname,d==="path");return i==null&&(x.search=e.search,x.hash=e.hash),(i==null||i===""||i===".")&&p&&p.route.index&&!yg(x.search)&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(x.pathname=x.pathname==="/"?n:ki([n,x.pathname])),Ls(x)}function Im(e,t,n,r){if(!r||!IA(r))return{path:n};if(r.formMethod&&!FA(r.formMethod))return{path:n,error:jr(405,{method:r.formMethod})};let i=()=>({path:n,error:jr(400,{type:"invalid-body"})}),o=r.formMethod||"get",l=e?o.toUpperCase():o.toLowerCase(),d=Ab(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ni(l))return i();let C=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,_)=>{let[I,D]=_;return""+E+I+"="+D+`
`},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:d,formEncType:r.formEncType,formData:void 0,json:void 0,text:C}}}else if(r.formEncType==="application/json"){if(!ni(l))return i();try{let C=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:d,formEncType:r.formEncType,formData:void 0,json:C,text:void 0}}}catch{return i()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let h,p;if(r.formData)h=M0(r.formData),p=r.formData;else if(r.body instanceof FormData)h=M0(r.body),p=r.body;else if(r.body instanceof URLSearchParams)h=r.body,p=Dm(h);else if(r.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(r.body),p=Dm(h)}catch{return i()}let x={formMethod:l,formAction:d,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ni(x.formMethod))return{path:n,submission:x};let w=Ws(n);return t&&w.search&&yg(w.search)&&h.append("index",""),w.search="?"+h,{path:Ls(w),submission:x}}function TA(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Tm(e,t,n,r,i,o,l,d,h,p,x,w,C,E,_,I){let D=I?zr(I[1])?I[1].error:I[1].data:void 0,O=e.createURL(t.location),M=e.createURL(i),R=I&&zr(I[1])?I[0]:void 0,P=R?TA(n,R):n,F=I?I[1].statusCode:void 0,z=l&&F&&F>=400,A=P.filter((U,J)=>{let{route:ce}=U;if(ce.lazy)return!0;if(ce.loader==null)return!1;if(o)return typeof ce.loader!="function"||ce.loader.hydrate?!0:t.loaderData[ce.id]===void 0&&(!t.errors||t.errors[ce.id]===void 0);if(NA(t.loaderData,t.matches[J],U)||h.some(Oe=>Oe===U.route.id))return!0;let se=t.matches[J],xe=U;return Nm(U,Ut({currentUrl:O,currentParams:se.params,nextUrl:M,nextParams:xe.params},r,{actionResult:D,unstable_actionStatus:F,defaultShouldRevalidate:z?!1:d||O.pathname+O.search===M.pathname+M.search||O.search!==M.search||Sb(se,xe)}))}),j=[];return w.forEach((U,J)=>{if(o||!n.some(X=>X.route.id===U.routeId)||x.has(J))return;let ce=na(E,U.path,_);if(!ce){j.push({key:J,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let se=t.fetchers.get(J),xe=D0(ce,U.path),Oe=!1;C.has(J)?Oe=!1:p.includes(J)?Oe=!0:se&&se.state!=="idle"&&se.data===void 0?Oe=d:Oe=Nm(xe,Ut({currentUrl:O,currentParams:t.matches[t.matches.length-1].params,nextUrl:M,nextParams:n[n.length-1].params},r,{actionResult:D,unstable_actionStatus:F,defaultShouldRevalidate:z?!1:d})),Oe&&j.push({key:J,routeId:U.routeId,path:U.path,matches:ce,match:xe,controller:new AbortController})}),[A,j]}function NA(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function Sb(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Nm(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Om(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Ke(i,"No route found in manifest");let o={};for(let l in r){let h=i[l]!==void 0&&l!=="hasErrorBoundary";ba(!h,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!h&&!ZS.has(l)&&(o[l]=r[l])}Object.assign(i,o),Object.assign(i,Ut({},t(i),{lazy:void 0}))}function OA(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function MA(e,t,n,r,i,o,l,d){let h=r.reduce((w,C)=>w.add(C.route.id),new Set),p=new Set,x=await e({matches:i.map(w=>{let C=h.has(w.route.id);return Ut({},w,{shouldLoad:C,resolve:_=>(p.add(w.route.id),C?DA(t,n,w,o,l,_,d):Promise.resolve({type:zt.data,result:void 0}))})}),request:n,params:i[0].params,context:d});return i.forEach(w=>Ke(p.has(w.route.id),'`match.resolve()` was not called for route id "'+w.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),x.filter((w,C)=>h.has(i[C].route.id))}async function DA(e,t,n,r,i,o,l){let d,h,p=x=>{let w,C=new Promise((I,D)=>w=D);h=()=>w(),t.signal.addEventListener("abort",h);let E=I=>typeof x!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):x({request:t,params:n.params,context:l},...I!==void 0?[I]:[]),_;return o?_=o(I=>E(I)):_=(async()=>{try{return{type:"data",result:await E()}}catch(I){return{type:"error",result:I}}})(),Promise.race([_,C])};try{let x=n.route[e];if(n.route.lazy)if(x){let w,[C]=await Promise.all([p(x).catch(E=>{w=E}),Om(n.route,i,r)]);if(w!==void 0)throw w;d=C}else if(await Om(n.route,i,r),x=n.route[e],x)d=await p(x);else if(e==="action"){let w=new URL(t.url),C=w.pathname+w.search;throw jr(405,{method:t.method,pathname:C,routeId:n.route.id})}else return{type:zt.data,result:void 0};else if(x)d=await p(x);else{let w=new URL(t.url),C=w.pathname+w.search;throw jr(404,{pathname:C})}Ke(d.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(x){return{type:zt.error,result:x}}finally{h&&t.signal.removeEventListener("abort",h)}return d}async function RA(e){let{result:t,type:n,status:r}=e;if(_b(t)){let l;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?l=null:l=await t.json():l=await t.text()}catch(d){return{type:zt.error,error:d}}return n===zt.error?{type:zt.error,error:new pg(t.status,t.statusText,l),statusCode:t.status,headers:t.headers}:{type:zt.data,data:l,statusCode:t.status,headers:t.headers}}if(n===zt.error)return{type:zt.error,error:t,statusCode:mg(t)?t.status:r};if(jA(t)){var i,o;return{type:zt.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}return{type:zt.data,data:t,statusCode:r}}function kA(e,t,n,r,i,o){let l=e.headers.get("Location");if(Ke(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!xg.test(l)){let d=r.slice(0,r.findIndex(h=>h.route.id===n)+1);l=O0(new URL(t.url),d,i,!0,l,o),e.headers.set("Location",l)}return e}function Mm(e,t,n){if(xg.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=fi(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function zo(e,t,n,r){let i=e.createURL(Ab(t)).toString(),o={signal:n};if(r&&ni(r.formMethod)){let{formMethod:l,formEncType:d}=r;o.method=l.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=M0(r.formData):o.body=r.formData}return new Request(i,o)}function M0(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Dm(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function LA(e,t,n,r,i,o){let l={},d=null,h,p=!1,x={},w=r&&zr(r[1])?r[1].error:void 0;return n.forEach((C,E)=>{let _=t[E].route.id;if(Ke(!lo(C),"Cannot handle redirect results in processLoaderData"),zr(C)){let I=C.error;w!==void 0&&(I=w,w=void 0),d=d||{};{let D=Rl(e,_);d[D.route.id]==null&&(d[D.route.id]=I)}l[_]=void 0,p||(p=!0,h=mg(C.error)?C.error.status:500),C.headers&&(x[_]=C.headers)}else ao(C)?(i.set(_,C.deferredData),l[_]=C.deferredData.data,C.statusCode!=null&&C.statusCode!==200&&!p&&(h=C.statusCode),C.headers&&(x[_]=C.headers)):(l[_]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(h=C.statusCode),C.headers&&(x[_]=C.headers))}),w!==void 0&&r&&(d={[r[0]]:w},l[r[0]]=void 0),{loaderData:l,errors:d,statusCode:h||200,loaderHeaders:x}}function Rm(e,t,n,r,i,o,l,d){let{loaderData:h,errors:p}=LA(t,n,r,i,d);for(let x=0;x<o.length;x++){let{key:w,match:C,controller:E}=o[x];Ke(l!==void 0&&l[x]!==void 0,"Did not find corresponding fetcher result");let _=l[x];if(!(E&&E.signal.aborted))if(zr(_)){let I=Rl(e.matches,C==null?void 0:C.route.id);p&&p[I.route.id]||(p=Ut({},p,{[I.route.id]:_.error})),e.fetchers.delete(w)}else if(lo(_))Ke(!1,"Unhandled fetcher revalidation redirect");else if(ao(_))Ke(!1,"Unhandled fetcher deferred data");else{let I=fs(_.data);e.fetchers.set(w,I)}}return{loaderData:h,errors:p}}function km(e,t,n,r){let i=Ut({},t);for(let o of n){let l=o.route.id;if(t.hasOwnProperty(l)?t[l]!==void 0&&(i[l]=t[l]):e[l]!==void 0&&o.route.loader&&(i[l]=e[l]),r&&r.hasOwnProperty(l))break}return i}function Lm(e){return e?zr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Rl(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Pm(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function jr(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,l="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(l="Bad Request",i&&n&&r?d="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?d="defer() is not supported in actions":o==="invalid-body"&&(d="Unable to encode submission body")):e===403?(l="Forbidden",d='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",d='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",i&&n&&r?d="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(d='Invalid request method "'+i.toUpperCase()+'"')),new pg(e||500,l,new Error(d),!0)}function Bm(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(lo(n))return{result:n,idx:t}}}function Ab(e){let t=typeof e=="string"?Ws(e):e;return Ls(Ut({},t,{hash:""}))}function PA(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function BA(e){return _b(e.result)&&CA.has(e.result.status)}function ao(e){return e.type===zt.deferred}function zr(e){return e.type===zt.error}function lo(e){return(e&&e.type)===zt.redirect}function jA(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function _b(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function FA(e){return vA.has(e.toLowerCase())}function ni(e){return wA.has(e.toLowerCase())}async function jm(e,t,n,r,i,o){for(let l=0;l<n.length;l++){let d=n[l],h=t[l];if(!h)continue;let p=e.find(w=>w.route.id===h.route.id),x=p!=null&&!Sb(p,h)&&(o&&o[h.route.id])!==void 0;if(ao(d)&&(i||x)){let w=r[l];Ke(w,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ib(d,w,i).then(C=>{C&&(n[l]=C||n[l])})}}}async function Ib(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:zt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:zt.error,error:i}}return{type:zt.data,data:e.deferredData.data}}}function yg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function D0(e,t){let n=typeof t=="string"?Ws(t).search:t.search;if(e[e.length-1].route.index&&yg(n||""))return e[e.length-1];let r=vb(e);return r[r.length-1]}function Fm(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:l}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function ch(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function UA(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ol(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function zA(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function fs(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function HA(e,t){try{let n=e.sessionStorage.getItem(Eb);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function VA(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Eb,JSON.stringify(n))}catch(r){ba(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}const wc=V.createContext(null),wg=V.createContext(null),R0=V.createContext(null),Li=V.createContext(null),bg=V.createContext(null),ns=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Tb=V.createContext(null);function WA(e,t){let{relative:n}=t===void 0?{}:t;bc()||Ke(!1);let{basename:r,navigator:i}=V.useContext(Li),{hash:o,pathname:l,search:d}=vc(e,{relative:n}),h=l;return r!=="/"&&(h=l==="/"?r:ki([r,l])),i.createHref({pathname:h,search:d,hash:o})}function bc(){return V.useContext(bg)!=null}function Ys(){return bc()||Ke(!1),V.useContext(bg).location}function Nb(e){V.useContext(Li).static||V.useLayoutEffect(e)}function Jd(){let{isDataRoute:e}=V.useContext(ns);return e?r4():YA()}function YA(){bc()||Ke(!1);let e=V.useContext(wc),{basename:t,future:n,navigator:r}=V.useContext(Li),{matches:i}=V.useContext(ns),{pathname:o}=Ys(),l=JSON.stringify(hg(i,n.v7_relativeSplatPath)),d=V.useRef(!1);return Nb(()=>{d.current=!0}),V.useCallback(function(p,x){if(x===void 0&&(x={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let w=gg(p,JSON.parse(l),o,x.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:ki([t,w.pathname])),(x.replace?r.replace:r.push)(w,x.state,x)},[t,r,l,o,e])}const Ob=V.createContext(null);function Mb(){return V.useContext(Ob)}function GA(e){let t=V.useContext(ns).outlet;return t&&V.createElement(Ob.Provider,{value:e},t)}function vc(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=V.useContext(Li),{matches:i}=V.useContext(ns),{pathname:o}=Ys(),l=JSON.stringify(hg(i,r.v7_relativeSplatPath));return V.useMemo(()=>gg(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function XA(e,t,n,r){bc()||Ke(!1);let{navigator:i}=V.useContext(Li),{matches:o}=V.useContext(ns),l=o[o.length-1],d=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let p=Ys(),x;x=p;let w=x.pathname||"/",C=w;if(h!=="/"){let I=h.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=na(e,{pathname:C});return qA(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:ki([h,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:ki([h,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r)}function $A(){let e=Rb(),t=mg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,null)}const KA=V.createElement($A,null);class ZA extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?V.createElement(ns.Provider,{value:this.props.routeContext},V.createElement(Tb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QA(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(wc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(ns.Provider,{value:t},r)}function qA(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let l=e,d=(i=n)==null?void 0:i.errors;if(d!=null){let x=l.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);x>=0||Ke(!1),l=l.slice(0,Math.min(l.length,x+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<l.length;x++){let w=l[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=x),w.route.id){let{loaderData:C,errors:E}=n,_=w.route.loader&&C[w.route.id]===void 0&&(!E||E[w.route.id]===void 0);if(w.route.lazy||_){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((x,w,C)=>{let E,_=!1,I=null,D=null;n&&(E=d&&w.route.id?d[w.route.id]:void 0,I=w.route.errorElement||KA,h&&(p<0&&C===0?(_=!0,D=null):p===C&&(_=!0,D=w.route.hydrateFallbackElement||null)));let O=t.concat(l.slice(0,C+1)),M=()=>{let R;return E?R=I:_?R=D:w.route.Component?R=V.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=x,V.createElement(QA,{match:w,routeContext:{outlet:x,matches:O,isDataRoute:n!=null},children:R})};return n&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?V.createElement(ZA,{location:n.location,revalidation:n.revalidation,component:I,error:E,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):M()},null)}var Db=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Db||{}),Ps=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ps||{});function JA(e){let t=V.useContext(wc);return t||Ke(!1),t}function vg(e){let t=V.useContext(wg);return t||Ke(!1),t}function e4(e){let t=V.useContext(ns);return t||Ke(!1),t}function ef(e){let t=e4(),n=t.matches[t.matches.length-1];return n.route.id||Ke(!1),n.route.id}function t4(){return ef(Ps.UseRouteId)}function No(){return vg(Ps.UseNavigation).navigation}function Cg(){let e=vg(Ps.UseLoaderData),t=ef(Ps.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function Rb(){var e;let t=V.useContext(Tb),n=vg(Ps.UseRouteError),r=ef(Ps.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function n4(){let e=V.useContext(R0);return e==null?void 0:e._data}function r4(){let{router:e}=JA(Db.UseNavigateStable),t=ef(Ps.UseNavigateStable),n=V.useRef(!1);return Nb(()=>{n.current=!0}),V.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,md({fromRouteId:t},o)))},[e,t])}function i4(e){return GA(e.context)}function kt(e){Ke(!1)}function s4(e){let{basename:t="/",children:n=null,location:r,navigationType:i=hn.Pop,navigator:o,static:l=!1,future:d}=e;bc()&&Ke(!1);let h=t.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:h,navigator:o,static:l,future:md({v7_relativeSplatPath:!1},d)}),[h,d,o,l]);typeof r=="string"&&(r=Ws(r));let{pathname:x="/",search:w="",hash:C="",state:E=null,key:_="default"}=r,I=V.useMemo(()=>{let D=fi(x,h);return D==null?null:{location:{pathname:D,search:w,hash:C,state:E,key:_},navigationType:i}},[h,x,w,C,E,_,i]);return I==null?null:V.createElement(Li.Provider,{value:p},V.createElement(bg.Provider,{children:n,value:I}))}function Eg(e){let{children:t,errorElement:n,resolve:r}=e;return V.createElement(a4,{resolve:r,errorElement:n},V.createElement(l4,null,t))}var Br=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Br||{});const o4=new Promise(()=>{});class a4 extends V.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){console.error("<Await> caught the following error during render",t,n)}render(){let{children:t,errorElement:n,resolve:r}=this.props,i=null,o=Br.pending;if(!(r instanceof Promise))o=Br.success,i=Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>r});else if(this.state.error){o=Br.error;let l=this.state.error;i=Promise.reject().catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>l})}else r._tracked?(i=r,o="_error"in i?Br.error:"_data"in i?Br.success:Br.pending):(o=Br.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),i=r.then(l=>Object.defineProperty(r,"_data",{get:()=>l}),l=>Object.defineProperty(r,"_error",{get:()=>l})));if(o===Br.error&&i._error instanceof N0)throw o4;if(o===Br.error&&!n)throw i._error;if(o===Br.error)return V.createElement(R0.Provider,{value:i,children:n});if(o===Br.success)return V.createElement(R0.Provider,{value:i,children:t});throw i}}function l4(e){let{children:t}=e,n=n4(),r=typeof t=="function"?t(n):t;return V.createElement(V.Fragment,null,r)}function k0(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;let o=[...t,i];if(r.type===V.Fragment){n.push.apply(n,k0(r.props.children,o));return}r.type!==kt&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=k0(r.props.children,o)),n.push(l)}),n}function c4(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:V.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:V.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:V.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(this,arguments)}function Sg(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const Mu="get",uh="application/x-www-form-urlencoded";function tf(e){return e!=null&&typeof e.tagName=="string"}function u4(e){return tf(e)&&e.tagName.toLowerCase()==="button"}function d4(e){return tf(e)&&e.tagName.toLowerCase()==="form"}function f4(e){return tf(e)&&e.tagName.toLowerCase()==="input"}function h4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g4(e,t){return e.button===0&&(!t||t==="_self")&&!h4(e)}function L0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function p4(e,t){let n=L0(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}let Jc=null;function m4(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}const x4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dh(e){return e!=null&&!x4.has(e)?null:e}function y4(e,t){let n,r,i,o,l;if(d4(e)){let d=e.getAttribute("action");r=d?fi(d,t):null,n=e.getAttribute("method")||Mu,i=dh(e.getAttribute("enctype"))||uh,o=new FormData(e)}else if(u4(e)||f4(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(r=h?fi(h,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||Mu,i=dh(e.getAttribute("formenctype"))||dh(d.getAttribute("enctype"))||uh,o=new FormData(d,e),!m4()){let{name:p,type:x,value:w}=e;if(x==="image"){let C=p?p+".":"";o.append(C+"x","0"),o.append(C+"y","0")}else p&&o.append(p,w)}}else{if(tf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mu,r=null,i=uh,l=e}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}const w4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],b4=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],v4=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"],C4="6";try{window.__reactRouterVersion=C4}catch{}function E4(e,t){return _A({basename:void 0,future:Bs({},void 0,{v7_prependBasename:!0}),history:XS({window:void 0}),hydrationData:S4(),routes:e,mapRouteProperties:c4,unstable_dataStrategy:void 0,window:void 0}).initialize()}function S4(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Bs({},t,{errors:A4(t.errors)})),t}function A4(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new pg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const kb=V.createContext({isTransitioning:!1}),_4=V.createContext(new Map),I4="startTransition",Um=DC[I4],T4="flushSync",zm=VS[T4];function N4(e){Um?Um(e):e()}function al(e){zm?zm(e):e()}class O4{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function M4(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=V.useState(n.state),[l,d]=V.useState(),[h,p]=V.useState({isTransitioning:!1}),[x,w]=V.useState(),[C,E]=V.useState(),[_,I]=V.useState(),D=V.useRef(new Map),{v7_startTransition:O}=r||{},M=V.useCallback(A=>{O?N4(A):A()},[O]),R=V.useCallback((A,j)=>{let{deletedFetchers:U,unstable_flushSync:J,unstable_viewTransitionOpts:ce}=j;U.forEach(xe=>D.current.delete(xe)),A.fetchers.forEach((xe,Oe)=>{xe.data!==void 0&&D.current.set(Oe,xe.data)});let se=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!ce||se){J?al(()=>o(A)):M(()=>o(A));return}if(J){al(()=>{C&&(x&&x.resolve(),C.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let xe=n.window.document.startViewTransition(()=>{al(()=>o(A))});xe.finished.finally(()=>{al(()=>{w(void 0),E(void 0),d(void 0),p({isTransitioning:!1})})}),al(()=>E(xe));return}C?(x&&x.resolve(),C.skipTransition(),I({state:A,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(d(A),p({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,C,x,D,M]);V.useLayoutEffect(()=>n.subscribe(R),[n,R]),V.useEffect(()=>{h.isTransitioning&&!h.flushSync&&w(new O4)},[h]),V.useEffect(()=>{if(x&&l&&n.window){let A=l,j=x.promise,U=n.window.document.startViewTransition(async()=>{M(()=>o(A)),await j});U.finished.finally(()=>{w(void 0),E(void 0),d(void 0),p({isTransitioning:!1})}),E(U)}},[M,l,x,n.window]),V.useEffect(()=>{x&&l&&i.location.key===l.location.key&&x.resolve()},[x,C,i.location,l]),V.useEffect(()=>{!h.isTransitioning&&_&&(d(_.state),p({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),I(void 0))},[h.isTransitioning,_]),V.useEffect(()=>{},[]);let P=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,j,U)=>n.navigate(A,{state:j,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(A,j,U)=>n.navigate(A,{replace:!0,state:j,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),F=n.basename||"/",z=V.useMemo(()=>({router:n,navigator:P,static:!1,basename:F}),[n,P,F]);return V.createElement(V.Fragment,null,V.createElement(wc.Provider,{value:z},V.createElement(wg.Provider,{value:i},V.createElement(_4.Provider,{value:D.current},V.createElement(kb.Provider,{value:h},V.createElement(s4,{basename:F,location:i.location,navigationType:i.historyAction,navigator:P,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?V.createElement(D4,{routes:n.routes,future:n.future,state:i}):t))))),null)}function D4(e){let{routes:t,future:n,state:r}=e;return XA(t,void 0,r,n)}const R4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=V.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:d,target:h,to:p,preventScrollReset:x,unstable_viewTransition:w}=t,C=Sg(t,w4),{basename:E}=V.useContext(Li),_,I=!1;if(typeof p=="string"&&k4.test(p)&&(_=p,R4))try{let R=new URL(window.location.href),P=p.startsWith("//")?new URL(R.protocol+p):new URL(p),F=fi(P.pathname,E);P.origin===R.origin&&F!=null?p=F+P.search+P.hash:I=!0}catch{}let D=WA(p,{relative:i}),O=P4(p,{replace:l,state:d,target:h,preventScrollReset:x,relative:i,unstable_viewTransition:w});function M(R){r&&r(R),R.defaultPrevented||O(R)}return V.createElement("a",Bs({},C,{href:_||D,onClick:I||o?r:M,ref:n,target:h}))}),L4=V.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:l=!1,style:d,to:h,unstable_viewTransition:p,children:x}=t,w=Sg(t,b4),C=vc(h,{relative:w.relative}),E=Ys(),_=V.useContext(wg),{navigator:I,basename:D}=V.useContext(Li),O=_!=null&&H4(C)&&p===!0,M=I.encodeLocation?I.encodeLocation(C).pathname:C.pathname,R=E.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(R=R.toLowerCase(),P=P?P.toLowerCase():null,M=M.toLowerCase()),P&&D&&(P=fi(P,D)||P);const F=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let z=R===M||!l&&R.startsWith(M)&&R.charAt(F)==="/",A=P!=null&&(P===M||!l&&P.startsWith(M)&&P.charAt(M.length)==="/"),j={isActive:z,isPending:A,isTransitioning:O},U=z?r:void 0,J;typeof o=="function"?J=o(j):J=[o,z?"active":null,A?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let ce=typeof d=="function"?d(j):d;return V.createElement(an,Bs({},w,{"aria-current":U,className:J,ref:n,style:ce,to:h,unstable_viewTransition:p}),typeof x=="function"?x(j):x)}),ka=V.forwardRef((e,t)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:o,state:l,method:d=Mu,action:h,onSubmit:p,relative:x,preventScrollReset:w,unstable_viewTransition:C}=e,E=Sg(e,v4),_=U4(),I=z4(h,{relative:x}),D=d.toLowerCase()==="get"?"get":"post",O=M=>{if(p&&p(M),M.defaultPrevented)return;M.preventDefault();let R=M.nativeEvent.submitter,P=(R==null?void 0:R.getAttribute("formmethod"))||d;_(R||M.currentTarget,{fetcherKey:n,method:P,navigate:r,replace:o,state:l,relative:x,preventScrollReset:w,unstable_viewTransition:C})};return V.createElement("form",Bs({ref:t,method:D,action:I,onSubmit:i?p:O},E))});var xd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xd||(xd={}));var Hm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hm||(Hm={}));function Lb(e){let t=V.useContext(wc);return t||Ke(!1),t}function P4(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:d}=t===void 0?{}:t,h=Jd(),p=Ys(),x=vc(e,{relative:l});return V.useCallback(w=>{if(g4(w,n)){w.preventDefault();let C=r!==void 0?r:Ls(p)===Ls(x);h(e,{replace:C,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:d})}},[p,h,x,r,i,n,e,o,l,d])}function La(e){let t=V.useRef(L0(e)),n=V.useRef(!1),r=Ys(),i=V.useMemo(()=>p4(r.search,n.current?null:t.current),[r.search]),o=Jd(),l=V.useCallback((d,h)=>{const p=L0(typeof d=="function"?d(i):d);n.current=!0,o("?"+p,h)},[o,i]);return[i,l]}function B4(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let j4=0,F4=()=>"__"+String(++j4)+"__";function U4(){let{router:e}=Lb(xd.UseSubmit),{basename:t}=V.useContext(Li),n=t4();return V.useCallback(function(r,i){i===void 0&&(i={}),B4();let{action:o,method:l,encType:d,formData:h,body:p}=y4(r,t);if(i.navigate===!1){let x=i.fetcherKey||F4();e.fetch(x,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||d,unstable_flushSync:i.unstable_flushSync})}else e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,unstable_flushSync:i.unstable_flushSync,unstable_viewTransition:i.unstable_viewTransition})},[e,t,n])}function z4(e,t){let{relative:n}=t===void 0?{}:t,{basename:r}=V.useContext(Li),i=V.useContext(ns);i||Ke(!1);let[o]=i.matches.slice(-1),l=Bs({},vc(e||".",{relative:n})),d=Ys();if(e==null){l.search=d.search;let h=new URLSearchParams(l.search);h.has("index")&&h.get("index")===""&&(h.delete("index"),l.search=h.toString()?"?"+h.toString():"")}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:ki([r,l.pathname])),Ls(l)}function H4(e,t){t===void 0&&(t={});let n=V.useContext(kb);n==null&&Ke(!1);let{basename:r}=Lb(xd.useViewTransitionState),i=vc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=fi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=fi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return T0(i.pathname,l)!=null||T0(i.pathname,o)!=null}let V4={data:""},W4=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||V4,Y4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,G4=/\/\*[^]*?\*\/|  +/g,Vm=/\n+/g,ys=(e,t)=>{let n="",r="",i="";for(let o in e){let l=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?ys(l,o):o+"{"+ys(l,o[1]=="k"?"":t)+"}":typeof l=="object"?r+=ys(l,t?t.replace(/([^,])+/g,d=>o.replace(/(^:.*)|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,d):d?d+" "+h:h)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ys.p?ys.p(o,l):o+":"+l+";")}return n+(t&&i?t+"{"+i+"}":i)+r},ji={},Pb=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Pb(e[n]);return t}return e},X4=(e,t,n,r,i)=>{let o=Pb(e),l=ji[o]||(ji[o]=(h=>{let p=0,x=11;for(;p<h.length;)x=101*x+h.charCodeAt(p++)>>>0;return"go"+x})(o));if(!ji[l]){let h=o!==e?e:(p=>{let x,w,C=[{}];for(;x=Y4.exec(p.replace(G4,""));)x[4]?C.shift():x[3]?(w=x[3].replace(Vm," ").trim(),C.unshift(C[0][w]=C[0][w]||{})):C[0][x[1]]=x[2].replace(Vm," ").trim();return C[0]})(e);ji[l]=ys(i?{["@keyframes "+l]:h}:h,n?"":"."+l)}let d=n&&ji.g?ji.g:null;return n&&(ji.g=ji[l]),((h,p,x,w)=>{w?p.data=p.data.replace(w,h):p.data.indexOf(h)===-1&&(p.data=x?h+p.data:p.data+h)})(ji[l],t,r,d),l},$4=(e,t,n)=>e.reduce((r,i,o)=>{let l=t[o];if(l&&l.call){let d=l(n),h=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=h?"."+h:d&&typeof d=="object"?d.props?"":ys(d,""):d===!1?"":d}return r+i+(l??"")},"");function nf(e){let t=this||{},n=e.call?e(t.p):e;return X4(n.unshift?n.raw?$4(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,W4(t.target),t.g,t.o,t.k)}let Bb,P0,B0;nf.bind({g:1});let es=nf.bind({k:1});function K4(e,t,n,r){ys.p=t,Bb=e,P0=n,B0=r}function Gs(e,t){let n=this||{};return function(){let r=arguments;function i(o,l){let d=Object.assign({},o),h=d.className||i.className;n.p=Object.assign({theme:P0&&P0()},d),n.o=/ *go\d+/.test(h),d.className=nf.apply(n,r)+(h?" "+h:"");let p=e;return e[0]&&(p=d.as||e,delete d.as),B0&&p[0]&&B0(d),Bb(p,d)}return i}}var Z4=e=>typeof e=="function",yd=(e,t)=>Z4(e)?e(t):e,Q4=(()=>{let e=0;return()=>(++e).toString()})(),jb=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),q4=20,Du=new Map,J4=1e3,Wm=e=>{if(Du.has(e))return;let t=setTimeout(()=>{Du.delete(e),Oo({type:4,toastId:e})},J4);Du.set(e,t)},e_=e=>{let t=Du.get(e);t&&clearTimeout(t)},j0=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,q4)};case 1:return t.toast.id&&e_(t.toast.id),{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return e.toasts.find(o=>o.id===n.id)?j0(e,{type:1,toast:n}):j0(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Wm(r):e.toasts.forEach(o=>{Wm(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ru=[],ku={toasts:[],pausedAt:void 0},Oo=e=>{ku=j0(ku,e),Ru.forEach(t=>{t(ku)})},t_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},n_=(e={})=>{let[t,n]=V.useState(ku);V.useEffect(()=>(Ru.push(n),()=>{let i=Ru.indexOf(n);i>-1&&Ru.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var o,l;return{...e,...e[i.type],...i,duration:i.duration||((o=e[i.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||t_[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:r}},r_=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Q4()}),Cc=e=>(t,n)=>{let r=r_(t,e,n);return Oo({type:2,toast:r}),r.id},_r=(e,t)=>Cc("blank")(e,t);_r.error=Cc("error");_r.success=Cc("success");_r.loading=Cc("loading");_r.custom=Cc("custom");_r.dismiss=e=>{Oo({type:3,toastId:e})};_r.remove=e=>Oo({type:4,toastId:e});_r.promise=(e,t,n)=>{let r=_r.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(_r.success(yd(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{_r.error(yd(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var i_=(e,t)=>{Oo({type:1,toast:{id:e,height:t}})},s_=()=>{Oo({type:5,time:Date.now()})},o_=e=>{let{toasts:t,pausedAt:n}=n_(e);V.useEffect(()=>{if(n)return;let o=Date.now(),l=t.map(d=>{if(d.duration===1/0)return;let h=(d.duration||0)+d.pauseDuration-(o-d.createdAt);if(h<0){d.visible&&_r.dismiss(d.id);return}return setTimeout(()=>_r.dismiss(d.id),h)});return()=>{l.forEach(d=>d&&clearTimeout(d))}},[t,n]);let r=V.useCallback(()=>{n&&Oo({type:6,time:Date.now()})},[n]),i=V.useCallback((o,l)=>{let{reverseOrder:d=!1,gutter:h=8,defaultPosition:p}=l||{},x=t.filter(E=>(E.position||p)===(o.position||p)&&E.height),w=x.findIndex(E=>E.id===o.id),C=x.filter((E,_)=>_<w&&E.visible).length;return x.filter(E=>E.visible).slice(...d?[C+1]:[0,C]).reduce((E,_)=>E+(_.height||0)+h,0)},[t]);return{toasts:t,handlers:{updateHeight:i_,startPause:s_,endPause:r,calculateOffset:i}}},a_=es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,l_=es`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,c_=es`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,u_=Gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${a_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${l_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${c_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,d_=es`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,f_=Gs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${d_} 1s linear infinite;
`,h_=es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,g_=es`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,p_=Gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${h_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${g_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,m_=Gs("div")`
  position: absolute;
`,x_=Gs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,y_=es`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,w_=Gs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${y_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,b_=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?V.createElement(w_,null,t):t:n==="blank"?null:V.createElement(x_,null,V.createElement(f_,{...r}),n!=="loading"&&V.createElement(m_,null,n==="error"?V.createElement(u_,{...r}):V.createElement(p_,{...r})))},v_=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,C_=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,E_="0%{opacity:0;} 100%{opacity:1;}",S_="0%{opacity:1;} 100%{opacity:0;}",A_=Gs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,__=Gs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,I_=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=jb()?[E_,S_]:[v_(n),C_(n)];return{animation:t?`${es(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${es(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},T_=V.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?I_(e.position||t||"top-center",e.visible):{opacity:0},o=V.createElement(b_,{toast:e}),l=V.createElement(__,{...e.ariaProps},yd(e.message,e));return V.createElement(A_,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:l}):V.createElement(V.Fragment,null,o,l))});K4(V.createElement);var N_=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=V.useCallback(l=>{if(l){let d=()=>{let h=l.getBoundingClientRect().height;r(e,h)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return V.createElement("div",{ref:o,className:t,style:n},i)},O_=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},M_=nf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,eu=16,Ag=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:h}=o_(n);return V.createElement("div",{style:{position:"fixed",zIndex:9999,top:eu,left:eu,right:eu,bottom:eu,pointerEvents:"none",...o},className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},d.map(p=>{let x=p.position||t,w=h.calculateOffset(p,{reverseOrder:e,gutter:r,defaultPosition:t}),C=O_(x,w);return V.createElement(N_,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?M_:"",style:C},p.type==="custom"?yd(p.message,p):i?i(p):V.createElement(T_,{toast:p,position:x}))}))},de=_r,Fb={exports:{}};(()=>{var e={181:(i,o,l)=>{var d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,x=/^0o[0-7]+$/i,w=parseInt,C=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,E=typeof self=="object"&&self&&self.Object===Object&&self,_=C||E||Function("return this")(),I=Object.prototype.toString,D=Math.max,O=Math.min,M=function(){return _.Date.now()};function R(F){var z=typeof F;return!!F&&(z=="object"||z=="function")}function P(F){if(typeof F=="number")return F;if(function(j){return typeof j=="symbol"||function(U){return!!U&&typeof U=="object"}(j)&&I.call(j)=="[object Symbol]"}(F))return NaN;if(R(F)){var z=typeof F.valueOf=="function"?F.valueOf():F;F=R(z)?z+"":z}if(typeof F!="string")return F===0?F:+F;F=F.replace(d,"");var A=p.test(F);return A||x.test(F)?w(F.slice(2),A?2:8):h.test(F)?NaN:+F}i.exports=function(F,z,A){var j,U,J,ce,se,xe,Oe=0,X=!1,ke=!1,be=!0;if(typeof F!="function")throw new TypeError("Expected a function");function oe(Ue){var Ie=j,ze=U;return j=U=void 0,Oe=Ue,ce=F.apply(ze,Ie)}function ge(Ue){var Ie=Ue-xe;return xe===void 0||Ie>=z||Ie<0||ke&&Ue-Oe>=J}function pe(){var Ue=M();if(ge(Ue))return Pe(Ue);se=setTimeout(pe,function(Ie){var ze=z-(Ie-xe);return ke?O(ze,J-(Ie-Oe)):ze}(Ue))}function Pe(Ue){return se=void 0,be&&j?oe(Ue):(j=U=void 0,ce)}function Ae(){var Ue=M(),Ie=ge(Ue);if(j=arguments,U=this,xe=Ue,Ie){if(se===void 0)return function(ze){return Oe=ze,se=setTimeout(pe,z),X?oe(ze):ce}(xe);if(ke)return se=setTimeout(pe,z),oe(xe)}return se===void 0&&(se=setTimeout(pe,z)),ce}return z=P(z)||0,R(A)&&(X=!!A.leading,J=(ke="maxWait"in A)?D(P(A.maxWait)||0,z):J,be="trailing"in A?!!A.trailing:be),Ae.cancel=function(){se!==void 0&&clearTimeout(se),Oe=0,j=xe=U=se=void 0},Ae.flush=function(){return se===void 0?ce:Pe(M())},Ae}},858:(i,o,l)=>{var d="Expected a function",h=NaN,p="[object Symbol]",x=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,E=/^0o[0-7]+$/i,_=parseInt,I=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,D=typeof self=="object"&&self&&self.Object===Object&&self,O=I||D||Function("return this")(),M=Object.prototype.toString,R=Math.max,P=Math.min,F=function(){return O.Date.now()};function z(j){var U=typeof j;return!!j&&(U=="object"||U=="function")}function A(j){if(typeof j=="number")return j;if(function(ce){return typeof ce=="symbol"||function(se){return!!se&&typeof se=="object"}(ce)&&M.call(ce)==p}(j))return h;if(z(j)){var U=typeof j.valueOf=="function"?j.valueOf():j;j=z(U)?U+"":U}if(typeof j!="string")return j===0?j:+j;j=j.replace(x,"");var J=C.test(j);return J||E.test(j)?_(j.slice(2),J?2:8):w.test(j)?h:+j}i.exports=function(j,U,J){var ce=!0,se=!0;if(typeof j!="function")throw new TypeError(d);return z(J)&&(ce="leading"in J?!!J.leading:ce,se="trailing"in J?!!J.trailing:se),function(xe,Oe,X){var ke,be,oe,ge,pe,Pe,Ae=0,Ue=!1,Ie=!1,ze=!0;if(typeof xe!="function")throw new TypeError(d);function ye(st){var nt=ke,We=be;return ke=be=void 0,Ae=st,ge=xe.apply(We,nt)}function mt(st){var nt=st-Pe;return Pe===void 0||nt>=Oe||nt<0||Ie&&st-Ae>=oe}function at(){var st=F();if(mt(st))return Vt(st);pe=setTimeout(at,function(nt){var We=Oe-(nt-Pe);return Ie?P(We,oe-(nt-Ae)):We}(st))}function Vt(st){return pe=void 0,ze&&ke?ye(st):(ke=be=void 0,ge)}function mn(){var st=F(),nt=mt(st);if(ke=arguments,be=this,Pe=st,nt){if(pe===void 0)return function(We){return Ae=We,pe=setTimeout(at,Oe),Ue?ye(We):ge}(Pe);if(Ie)return pe=setTimeout(at,Oe),ye(Pe)}return pe===void 0&&(pe=setTimeout(at,Oe)),ge}return Oe=A(Oe)||0,z(X)&&(Ue=!!X.leading,oe=(Ie="maxWait"in X)?R(A(X.maxWait)||0,Oe):oe,ze="trailing"in X?!!X.trailing:ze),mn.cancel=function(){pe!==void 0&&clearTimeout(pe),Ae=0,ke=Pe=be=pe=void 0},mn.flush=function(){return pe===void 0?ge:Vt(F())},mn}(j,U,{leading:ce,maxWait:U,trailing:se})}},694:(i,o,l)=>{var d=l(925);function h(){}function p(){}p.resetWarningCache=h,i.exports=function(){function x(E,_,I,D,O,M){if(M!==d){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}function w(){return x}x.isRequired=x;var C={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:w,element:x,elementType:x,instanceOf:w,node:x,objectOf:w,oneOf:w,oneOfType:w,shape:w,exact:w,checkPropTypes:p,resetWarningCache:h};return C.PropTypes=C,C}},556:(i,o,l)=>{i.exports=l(694)()},925:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(i){var o=t[i];if(o!==void 0)return o.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,n),l.exports}n.n=i=>{var o=i&&i.__esModule?()=>i.default:()=>i;return n.d(o,{a:o}),o},n.d=(i,o)=>{for(var l in o)n.o(o,l)&&!n.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:o[l]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>De,LazyLoadImage:()=>Yt,trackWindowScroll:()=>Ue});const i=V;var o=n.n(i),l=n(556);function d(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function h(q){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},h(q)}function p(q,H){var ne=Object.keys(q);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(q);H&&(he=he.filter(function(ee){return Object.getOwnPropertyDescriptor(q,ee).enumerable})),ne.push.apply(ne,he)}return ne}function x(q,H,ne){return(H=C(H))in q?Object.defineProperty(q,H,{value:ne,enumerable:!0,configurable:!0,writable:!0}):q[H]=ne,q}function w(q,H){for(var ne=0;ne<H.length;ne++){var he=H[ne];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(q,C(he.key),he)}}function C(q){var H=function(ne,he){if(h(ne)!="object"||!ne)return ne;var ee=ne[Symbol.toPrimitive];if(ee!==void 0){var te=ee.call(ne,"string");if(h(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(q);return h(H)=="symbol"?H:H+""}function E(q,H,ne){return H=I(H),function(he,ee){if(ee&&(h(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(he)}(q,_()?Reflect.construct(H,ne||[],I(q).constructor):H.apply(q,ne))}function _(){try{var q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!q})()}function I(q){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},I(q)}function D(q,H){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,he){return ne.__proto__=he,ne},D(q,H)}var O=function(q){q.forEach(function(H){H.isIntersecting&&H.target.onVisible()})},M={},R=function(q){function H(ee){var te;if(function(je,Ze){if(!(je instanceof Ze))throw new TypeError("Cannot call a class as a function")}(this,H),(te=E(this,H,[ee])).supportsObserver=!ee.scrollPosition&&ee.useIntersectionObserver&&d(),te.supportsObserver){var Fe=ee.threshold;te.observer=function(je){return M[je]=M[je]||new IntersectionObserver(O,{rootMargin:je+"px"}),M[je]}(Fe)}return te}return function(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&D(ee,te)}(H,q),ne=H,he=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,te=this.placeholder.getBoundingClientRect(),Fe=this.placeholder.style,je=parseInt(Fe.getPropertyValue("margin-left"),10)||0,Ze=parseInt(Fe.getPropertyValue("margin-top"),10)||0;return{bottom:ee.y+te.bottom+Ze,left:ee.x+te.left+je,right:ee.x+te.right+je,top:ee.y+te.top+Ze}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var ee=this.props,te=ee.scrollPosition,Fe=ee.threshold,je=this.getPlaceholderBoundingBox(te),Ze=te.y+window.innerHeight,W=te.x,$=te.x+window.innerWidth,Q=te.y;return Q-Fe<=je.bottom&&Ze+Fe>=je.top&&W-Fe<=je.right&&$+Fe>=je.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var ee=this,te=this.props,Fe=te.className,je=te.height,Ze=te.placeholder,W=te.style,$=te.width;if(Ze&&typeof Ze.type!="function")return o().cloneElement(Ze,{ref:function(le){return ee.placeholder=le}});var Q=function(le){for(var Ee=1;Ee<arguments.length;Ee++){var Te=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?p(Object(Te),!0).forEach(function(Ne){x(le,Ne,Te[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(Te)):p(Object(Te)).forEach(function(Ne){Object.defineProperty(le,Ne,Object.getOwnPropertyDescriptor(Te,Ne))})}return le}({display:"inline-block"},W);return $!==void 0&&(Q.width=$),je!==void 0&&(Q.height=je),o().createElement("span",{className:Fe,ref:function(le){return ee.placeholder=le},style:Q},Ze)}}],he&&w(ne.prototype,he),Object.defineProperty(ne,"prototype",{writable:!1}),ne;var ne,he}(o().Component);R.propTypes={onVisible:l.PropTypes.func.isRequired,className:l.PropTypes.string,height:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string]),placeholder:l.PropTypes.element,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,scrollPosition:l.PropTypes.shape({x:l.PropTypes.number.isRequired,y:l.PropTypes.number.isRequired}),width:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string])},R.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const P=R;var F=n(181),z=n.n(F),A=n(858),j=n.n(A),U=function(q){var H=getComputedStyle(q,null);return H.getPropertyValue("overflow")+H.getPropertyValue("overflow-y")+H.getPropertyValue("overflow-x")};const J=function(q){if(!(q instanceof HTMLElement))return window;for(var H=q;H&&H instanceof HTMLElement;){if(/(scroll|auto)/.test(U(H)))return H;H=H.parentNode}return window};function ce(q){return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},ce(q)}var se=["delayMethod","delayTime"];function xe(){return xe=Object.assign?Object.assign.bind():function(q){for(var H=1;H<arguments.length;H++){var ne=arguments[H];for(var he in ne)({}).hasOwnProperty.call(ne,he)&&(q[he]=ne[he])}return q},xe.apply(null,arguments)}function Oe(q,H){for(var ne=0;ne<H.length;ne++){var he=H[ne];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(q,X(he.key),he)}}function X(q){var H=function(ne,he){if(ce(ne)!="object"||!ne)return ne;var ee=ne[Symbol.toPrimitive];if(ee!==void 0){var te=ee.call(ne,"string");if(ce(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(q);return ce(H)=="symbol"?H:H+""}function ke(q,H,ne){return H=ge(H),be(q,oe()?Reflect.construct(H,ne||[],ge(q).constructor):H.apply(q,ne))}function be(q,H){if(H&&(ce(H)=="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}(q)}function oe(){try{var q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oe=function(){return!!q})()}function ge(q){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},ge(q)}function pe(q,H){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,he){return ne.__proto__=he,ne},pe(q,H)}var Pe=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},Ae=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const Ue=function(q){var H=function(ne){function he(Fe){var je;if(function(W,$){if(!(W instanceof $))throw new TypeError("Cannot call a class as a function")}(this,he),(je=ke(this,he,[Fe])).useIntersectionObserver=Fe.useIntersectionObserver&&d(),je.useIntersectionObserver)return be(je);var Ze=je.onChangeScroll.bind(je);return Fe.delayMethod==="debounce"?je.delayedScroll=z()(Ze,Fe.delayTime):Fe.delayMethod==="throttle"&&(je.delayedScroll=j()(Ze,Fe.delayTime)),je.state={scrollPosition:{x:Pe(),y:Ae()}},je.baseComponentRef=o().createRef(),je}return function(Fe,je){if(typeof je!="function"&&je!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(je&&je.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Object.defineProperty(Fe,"prototype",{writable:!1}),je&&pe(Fe,je)}(he,ne),ee=he,te=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||J(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=J(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:Pe(),y:Ae()}})}},{key:"render",value:function(){var Fe=this.props,je=(Fe.delayMethod,Fe.delayTime,function(W,$){if(W==null)return{};var Q,le,Ee=function(Ne,_e){if(Ne==null)return{};var $e={};for(var Le in Ne)if({}.hasOwnProperty.call(Ne,Le)){if(_e.indexOf(Le)>=0)continue;$e[Le]=Ne[Le]}return $e}(W,$);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(W);for(le=0;le<Te.length;le++)Q=Te[le],$.indexOf(Q)>=0||{}.propertyIsEnumerable.call(W,Q)&&(Ee[Q]=W[Q])}return Ee}(Fe,se)),Ze=this.useIntersectionObserver?null:this.state.scrollPosition;return o().createElement(q,xe({forwardRef:this.baseComponentRef,scrollPosition:Ze},je))}}],te&&Oe(ee.prototype,te),Object.defineProperty(ee,"prototype",{writable:!1}),ee;var ee,te}(o().Component);return H.propTypes={delayMethod:l.PropTypes.oneOf(["debounce","throttle"]),delayTime:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool},H.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},H};function Ie(q){return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Ie(q)}function ze(q,H){for(var ne=0;ne<H.length;ne++){var he=H[ne];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(q,ye(he.key),he)}}function ye(q){var H=function(ne,he){if(Ie(ne)!="object"||!ne)return ne;var ee=ne[Symbol.toPrimitive];if(ee!==void 0){var te=ee.call(ne,"string");if(Ie(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(q);return Ie(H)=="symbol"?H:H+""}function mt(q,H,ne){return H=Vt(H),function(he,ee){if(ee&&(Ie(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(he)}(q,at()?Reflect.construct(H,ne||[],Vt(q).constructor):H.apply(q,ne))}function at(){try{var q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(at=function(){return!!q})()}function Vt(q){return Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Vt(q)}function mn(q,H){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,he){return ne.__proto__=he,ne},mn(q,H)}var st=function(q){function H(ee){return function(te,Fe){if(!(te instanceof Fe))throw new TypeError("Cannot call a class as a function")}(this,H),mt(this,H,[ee])}return function(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&mn(ee,te)}(H,q),ne=H,(he=[{key:"render",value:function(){return o().createElement(P,this.props)}}])&&ze(ne.prototype,he),Object.defineProperty(ne,"prototype",{writable:!1}),ne;var ne,he}(o().Component);const nt=Ue(st);function We(q){return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},We(q)}function Kr(q,H){for(var ne=0;ne<H.length;ne++){var he=H[ne];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(q,er(he.key),he)}}function er(q){var H=function(ne,he){if(We(ne)!="object"||!ne)return ne;var ee=ne[Symbol.toPrimitive];if(ee!==void 0){var te=ee.call(ne,"string");if(We(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(q);return We(H)=="symbol"?H:H+""}function Gn(q,H,ne){return H=ht(H),function(he,ee){if(ee&&(We(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(he)}(q,Zt()?Reflect.construct(H,ne||[],ht(q).constructor):H.apply(q,ne))}function Zt(){try{var q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zt=function(){return!!q})()}function ht(q){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},ht(q)}function rt(q,H){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,he){return ne.__proto__=he,ne},rt(q,H)}var pi=function(q){function H(ee){var te;(function($,Q){if(!($ instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,H),te=Gn(this,H,[ee]);var Fe=ee.afterLoad,je=ee.beforeLoad,Ze=ee.scrollPosition,W=ee.visibleByDefault;return te.state={visible:W},W&&(je(),Fe()),te.onVisible=te.onVisible.bind(te),te.isScrollTracked=!!(Ze&&Number.isFinite(Ze.x)&&Ze.x>=0&&Number.isFinite(Ze.y)&&Ze.y>=0),te}return function(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&rt(ee,te)}(H,q),ne=H,(he=[{key:"componentDidUpdate",value:function(ee,te){te.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var ee=this.props,te=ee.className,Fe=ee.delayMethod,je=ee.delayTime,Ze=ee.height,W=ee.placeholder,$=ee.scrollPosition,Q=ee.style,le=ee.threshold,Ee=ee.useIntersectionObserver,Te=ee.width;return this.isScrollTracked||Ee&&d()?o().createElement(P,{className:te,height:Ze,onVisible:this.onVisible,placeholder:W,scrollPosition:$,style:Q,threshold:le,useIntersectionObserver:Ee,width:Te}):o().createElement(nt,{className:te,delayMethod:Fe,delayTime:je,height:Ze,onVisible:this.onVisible,placeholder:W,style:Q,threshold:le,width:Te})}}])&&Kr(ne.prototype,he),Object.defineProperty(ne,"prototype",{writable:!1}),ne;var ne,he}(o().Component);pi.propTypes={afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool},pi.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const De=pi;function Nn(q){return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},Nn(q)}var mi=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Xn(q,H){var ne=Object.keys(q);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(q);H&&(he=he.filter(function(ee){return Object.getOwnPropertyDescriptor(q,ee).enumerable})),ne.push.apply(ne,he)}return ne}function xi(q){for(var H=1;H<arguments.length;H++){var ne=arguments[H]!=null?arguments[H]:{};H%2?Xn(Object(ne),!0).forEach(function(he){Qt(q,he,ne[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ne)):Xn(Object(ne)).forEach(function(he){Object.defineProperty(q,he,Object.getOwnPropertyDescriptor(ne,he))})}return q}function Qt(q,H,ne){return(H=Wt(H))in q?Object.defineProperty(q,H,{value:ne,enumerable:!0,configurable:!0,writable:!0}):q[H]=ne,q}function pr(){return pr=Object.assign?Object.assign.bind():function(q){for(var H=1;H<arguments.length;H++){var ne=arguments[H];for(var he in ne)({}).hasOwnProperty.call(ne,he)&&(q[he]=ne[he])}return q},pr.apply(null,arguments)}function mr(q,H){for(var ne=0;ne<H.length;ne++){var he=H[ne];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(q,Wt(he.key),he)}}function Wt(q){var H=function(ne,he){if(Nn(ne)!="object"||!ne)return ne;var ee=ne[Symbol.toPrimitive];if(ee!==void 0){var te=ee.call(ne,"string");if(Nn(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(q);return Nn(H)=="symbol"?H:H+""}function Do(q,H,ne){return H=Bi(H),function(he,ee){if(ee&&(Nn(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}(he)}(q,Bn()?Reflect.construct(H,ne||[],Bi(q).constructor):H.apply(q,ne))}function Bn(){try{var q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bn=function(){return!!q})()}function Bi(q){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},Bi(q)}function _t(q,H){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,he){return ne.__proto__=he,ne},_t(q,H)}var Se=function(q){function H(ee){var te;return function(Fe,je){if(!(Fe instanceof je))throw new TypeError("Cannot call a class as a function")}(this,H),(te=Do(this,H,[ee])).state={loaded:!1},te}return function(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),te&&_t(ee,te)}(H,q),ne=H,he=[{key:"onImageLoad",value:function(){var ee=this;return this.state.loaded?null:function(te){ee.props.onLoad(te),ee.props.afterLoad(),ee.setState({loaded:!0})}}},{key:"getImg",value:function(){var ee=this.props,te=(ee.afterLoad,ee.beforeLoad,ee.delayMethod,ee.delayTime,ee.effect,ee.placeholder,ee.placeholderSrc,ee.scrollPosition,ee.threshold,ee.useIntersectionObserver,ee.visibleByDefault,ee.wrapperClassName,ee.wrapperProps,function(Fe,je){if(Fe==null)return{};var Ze,W,$=function(le,Ee){if(le==null)return{};var Te={};for(var Ne in le)if({}.hasOwnProperty.call(le,Ne)){if(Ee.indexOf(Ne)>=0)continue;Te[Ne]=le[Ne]}return Te}(Fe,je);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(Fe);for(W=0;W<Q.length;W++)Ze=Q[W],je.indexOf(Ze)>=0||{}.propertyIsEnumerable.call(Fe,Ze)&&($[Ze]=Fe[Ze])}return $}(ee,mi));return o().createElement("img",pr({},te,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var ee=this.props,te=ee.beforeLoad,Fe=ee.className,je=ee.delayMethod,Ze=ee.delayTime,W=ee.height,$=ee.placeholder,Q=ee.scrollPosition,le=ee.style,Ee=ee.threshold,Te=ee.useIntersectionObserver,Ne=ee.visibleByDefault,_e=ee.width;return o().createElement(De,{beforeLoad:te,className:Fe,delayMethod:je,delayTime:Ze,height:W,placeholder:$,scrollPosition:Q,style:le,threshold:Ee,useIntersectionObserver:Te,visibleByDefault:Ne,width:_e},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(ee){var te=this.props,Fe=te.effect,je=te.height,Ze=te.placeholderSrc,W=te.width,$=te.wrapperClassName,Q=te.wrapperProps,le=this.state.loaded,Ee=le?" lazy-load-image-loaded":"",Te=le||!Ze?{}:{backgroundImage:"url(".concat(Ze,")"),backgroundSize:"100% 100%"};return o().createElement("span",pr({className:$+" lazy-load-image-background "+Fe+Ee,style:xi(xi({},Te),{},{color:"transparent",display:"inline-block",height:je,width:W})},Q),ee)}},{key:"render",value:function(){var ee=this.props,te=ee.effect,Fe=ee.placeholderSrc,je=ee.visibleByDefault,Ze=ee.wrapperClassName,W=ee.wrapperProps,$=this.getLazyLoadImage();return(te||Fe)&&!je||Ze||W?this.getWrappedLazyLoadImage($):$}}],he&&mr(ne.prototype,he),Object.defineProperty(ne,"prototype",{writable:!1}),ne;var ne,he}(o().Component);Se.propTypes={onLoad:l.PropTypes.func,afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,delayMethod:l.PropTypes.string,delayTime:l.PropTypes.number,effect:l.PropTypes.string,placeholderSrc:l.PropTypes.string,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool,wrapperClassName:l.PropTypes.string,wrapperProps:l.PropTypes.object},Se.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Yt=Se})(),Fb.exports=r})();var vn=Fb.exports;const Mi="/assets/%E2%80%94Pngtree%E2%80%94ktp%20residents%20identity%20card%20id_8928715-DKYhXDCi.png",Ir="/assets/icon-7797704_1280-sm2lsMAG.png";var D_=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],ll=(e,t)=>{var n="";for(let r=1;r<=t;r++){let i=Math.floor(e)/Math.pow(83,t-r)%83;n+=D_[Math.floor(i)]}return n},fh=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},hh=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.trunc(t*12.92*255+.5):Math.trunc((1.055*Math.pow(t,.4166666666666667)-.055)*255+.5)},R_=e=>e<0?-1:1,gh=(e,t)=>R_(e)*Math.pow(Math.abs(e),t),Ym=class extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}},Gm=4,k_=(e,t,n,r)=>{let i=0,o=0,l=0,d=t*Gm;for(let p=0;p<t;p++){let x=Gm*p;for(let w=0;w<n;w++){let C=x+w*d,E=r(p,w);i+=E*fh(e[C]),o+=E*fh(e[C+1]),l+=E*fh(e[C+2])}}let h=1/(t*n);return[i*h,o*h,l*h]},L_=e=>{let t=hh(e[0]),n=hh(e[1]),r=hh(e[2]);return(t<<16)+(n<<8)+r},P_=(e,t)=>{let n=Math.floor(Math.max(0,Math.min(18,Math.floor(gh(e[0]/t,.5)*9+9.5)))),r=Math.floor(Math.max(0,Math.min(18,Math.floor(gh(e[1]/t,.5)*9+9.5)))),i=Math.floor(Math.max(0,Math.min(18,Math.floor(gh(e[2]/t,.5)*9+9.5))));return n*19*19+r*19+i},B_=(e,t,n,r,i)=>{if(r<1||r>9||i<1||i>9)throw new Ym("BlurHash must have between 1 and 9 components");if(t*n*4!==e.length)throw new Ym("Width and height must match the pixels array");let o=[];for(let w=0;w<i;w++)for(let C=0;C<r;C++){let E=C==0&&w==0?1:2,_=k_(e,t,n,(I,D)=>E*Math.cos(Math.PI*C*I/t)*Math.cos(Math.PI*w*D/n));o.push(_)}let l=o[0],d=o.slice(1),h="",p=r-1+(i-1)*9;h+=ll(p,1);let x;if(d.length>0){let w=Math.max(...d.map(E=>Math.max(...E))),C=Math.floor(Math.max(0,Math.min(82,Math.floor(w*166-.5))));x=(C+1)/166,h+=ll(C,1)}else x=1,h+=ll(0,1);return h+=ll(L_(l),4),d.forEach(w=>{h+=ll(P_(w,x),2)}),h},j_=B_;const F_=typeof OffscreenCanvas<"u",U_=async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error(`Network response was not ok: ${t.statusText}`);const n=await t.blob();return await createImageBitmap(n)}catch(t){throw new Error(`Failed to load image: ${t.message}`)}},z_=async e=>{if(F_){const n=new OffscreenCanvas(e.width,e.height).getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height)}else{const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height)}},Hn=async e=>{try{const t=await U_(e),n=await z_(t);return j_(n.data,n.width,n.height,4,4)}catch(t){throw new Error(`Failed to encode image to Blurhash: ${t.message}`)}};function H_({progress:e}){return v.jsxs("div",{className:"mt-3 mb-2",children:[v.jsxs("h3",{className:`text-center fs-4 fw-bold ${e<=30?"text-danger":e>30&&e<=60?"text-warning":"text-success"}`,children:[e,"%"]}),v.jsx("meter",{min:0,max:100,value:e,low:30,high:60,optimum:80,className:"w-100",style:{height:"30px"}})]})}const va=ut.memo(H_);function _g(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=i=>{n(i)}})}function Ub(e,t){return function(){return e.apply(t,arguments)}}const{toString:V_}=Object.prototype,{getPrototypeOf:Ig}=Object,rf=(e=>t=>{const n=V_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gi=e=>(e=e.toLowerCase(),t=>rf(t)===e),sf=e=>t=>typeof t===e,{isArray:Pa}=Array,oc=sf("undefined");function W_(e){return e!==null&&!oc(e)&&e.constructor!==null&&!oc(e.constructor)&&Yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zb=gi("ArrayBuffer");function Y_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zb(e.buffer),t}const G_=sf("string"),Yr=sf("function"),Hb=sf("number"),of=e=>e!==null&&typeof e=="object",X_=e=>e===!0||e===!1,Lu=e=>{if(rf(e)!=="object")return!1;const t=Ig(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$_=gi("Date"),K_=gi("File"),Z_=gi("Blob"),Q_=gi("FileList"),q_=e=>of(e)&&Yr(e.pipe),J_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yr(e.append)&&((t=rf(e))==="formdata"||t==="object"&&Yr(e.toString)&&e.toString()==="[object FormData]"))},eI=gi("URLSearchParams"),[tI,nI,rI,iI]=["ReadableStream","Request","Response","Headers"].map(gi),sI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ec(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Pa(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let d;for(r=0;r<l;r++)d=o[r],t.call(null,e[d],d,e)}}function Vb(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Wb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yb=e=>!oc(e)&&e!==Wb;function F0(){const{caseless:e}=Yb(this)&&this||{},t={},n=(r,i)=>{const o=e&&Vb(t,i)||i;Lu(t[o])&&Lu(r)?t[o]=F0(t[o],r):Lu(r)?t[o]=F0({},r):Pa(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ec(arguments[r],n);return t}const oI=(e,t,n,{allOwnKeys:r}={})=>(Ec(t,(i,o)=>{n&&Yr(i)?e[o]=Ub(i,n):e[o]=i},{allOwnKeys:r}),e),aI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),lI=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},cI=(e,t,n,r)=>{let i,o,l;const d={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)l=i[o],(!r||r(l,e,t))&&!d[l]&&(t[l]=e[l],d[l]=!0);e=n!==!1&&Ig(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},uI=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},dI=e=>{if(!e)return null;if(Pa(e))return e;let t=e.length;if(!Hb(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},fI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ig(Uint8Array)),hI=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},gI=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},pI=gi("HTMLFormElement"),mI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Xm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xI=gi("RegExp"),Gb=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ec(n,(i,o)=>{let l;(l=t(i,o,e))!==!1&&(r[o]=l||i)}),Object.defineProperties(e,r)},yI=e=>{Gb(e,(t,n)=>{if(Yr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Yr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wI=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Pa(e)?r(e):r(String(e).split(t)),n},bI=()=>{},vI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,ph="abcdefghijklmnopqrstuvwxyz",$m="0123456789",Xb={DIGIT:$m,ALPHA:ph,ALPHA_DIGIT:ph+ph.toUpperCase()+$m},CI=(e=16,t=Xb.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function EI(e){return!!(e&&Yr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const SI=e=>{const t=new Array(10),n=(r,i)=>{if(of(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Pa(r)?[]:{};return Ec(r,(l,d)=>{const h=n(l,i+1);!oc(h)&&(o[d]=h)}),t[i]=void 0,o}}return r};return n(e,0)},AI=gi("AsyncFunction"),_I=e=>e&&(of(e)||Yr(e))&&Yr(e.then)&&Yr(e.catch),ae={isArray:Pa,isArrayBuffer:zb,isBuffer:W_,isFormData:J_,isArrayBufferView:Y_,isString:G_,isNumber:Hb,isBoolean:X_,isObject:of,isPlainObject:Lu,isReadableStream:tI,isRequest:nI,isResponse:rI,isHeaders:iI,isUndefined:oc,isDate:$_,isFile:K_,isBlob:Z_,isRegExp:xI,isFunction:Yr,isStream:q_,isURLSearchParams:eI,isTypedArray:fI,isFileList:Q_,forEach:Ec,merge:F0,extend:oI,trim:sI,stripBOM:aI,inherits:lI,toFlatObject:cI,kindOf:rf,kindOfTest:gi,endsWith:uI,toArray:dI,forEachEntry:hI,matchAll:gI,isHTMLForm:pI,hasOwnProperty:Xm,hasOwnProp:Xm,reduceDescriptors:Gb,freezeMethods:yI,toObjectSet:wI,toCamelCase:mI,noop:bI,toFiniteNumber:vI,findKey:Vb,global:Wb,isContextDefined:Yb,ALPHABET:Xb,generateString:CI,isSpecCompliantForm:EI,toJSONObject:SI,isAsyncFn:AI,isThenable:_I};function qe(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ae.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $b=qe.prototype,Kb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Kb[e]={value:e}});Object.defineProperties(qe,Kb);Object.defineProperty($b,"isAxiosError",{value:!0});qe.from=(e,t,n,r,i,o)=>{const l=Object.create($b);return ae.toFlatObject(e,l,function(h){return h!==Error.prototype},d=>d!=="isAxiosError"),qe.call(l,e.message,t,n,r,i),l.cause=e,l.name=e.name,o&&Object.assign(l,o),l};const II=null;function U0(e){return ae.isPlainObject(e)||ae.isArray(e)}function Zb(e){return ae.endsWith(e,"[]")?e.slice(0,-2):e}function Km(e,t,n){return e?e.concat(t).map(function(i,o){return i=Zb(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function TI(e){return ae.isArray(e)&&!e.some(U0)}const NI=ae.toFlatObject(ae,{},null,function(t){return/^is[A-Z]/.test(t)});function af(e,t,n){if(!ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,D){return!ae.isUndefined(D[I])});const r=n.metaTokens,i=n.visitor||x,o=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(t);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(ae.isDate(_))return _.toISOString();if(!h&&ae.isBlob(_))throw new qe("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(_)||ae.isTypedArray(_)?h&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function x(_,I,D){let O=_;if(_&&!D&&typeof _=="object"){if(ae.endsWith(I,"{}"))I=r?I:I.slice(0,-2),_=JSON.stringify(_);else if(ae.isArray(_)&&TI(_)||(ae.isFileList(_)||ae.endsWith(I,"[]"))&&(O=ae.toArray(_)))return I=Zb(I),O.forEach(function(R,P){!(ae.isUndefined(R)||R===null)&&t.append(l===!0?Km([I],P,o):l===null?I:I+"[]",p(R))}),!1}return U0(_)?!0:(t.append(Km(D,I,o),p(_)),!1)}const w=[],C=Object.assign(NI,{defaultVisitor:x,convertValue:p,isVisitable:U0});function E(_,I){if(!ae.isUndefined(_)){if(w.indexOf(_)!==-1)throw Error("Circular reference detected in "+I.join("."));w.push(_),ae.forEach(_,function(O,M){(!(ae.isUndefined(O)||O===null)&&i.call(t,O,ae.isString(M)?M.trim():M,I,C))===!0&&E(O,I?I.concat(M):[M])}),w.pop()}}if(!ae.isObject(e))throw new TypeError("data must be an object");return E(e),t}function Zm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Tg(e,t){this._pairs=[],e&&af(e,this,t)}const Qb=Tg.prototype;Qb.append=function(t,n){this._pairs.push([t,n])};Qb.toString=function(t){const n=t?function(r){return t.call(this,r,Zm)}:Zm;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function OI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qb(e,t,n){if(!t)return e;const r=n&&n.encode||OI,i=n&&n.serialize;let o;if(i?o=i(t,n):o=ae.isURLSearchParams(t)?t.toString():new Tg(t,n).toString(r),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Qm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ae.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Jb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MI=typeof URLSearchParams<"u"?URLSearchParams:Tg,DI=typeof FormData<"u"?FormData:null,RI=typeof Blob<"u"?Blob:null,kI={isBrowser:!0,classes:{URLSearchParams:MI,FormData:DI,Blob:RI},protocols:["http","https","file","blob","url","data"]},Ng=typeof window<"u"&&typeof document<"u",LI=(e=>Ng&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),PI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BI=Ng&&window.location.href||"http://localhost",jI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ng,hasStandardBrowserEnv:LI,hasStandardBrowserWebWorkerEnv:PI,origin:BI},Symbol.toStringTag,{value:"Module"})),li={...jI,...kI};function FI(e,t){return af(e,new li.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return li.isNode&&ae.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function UI(e){return ae.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zI(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function ev(e){function t(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),h=o>=n.length;return l=!l&&ae.isArray(i)?i.length:l,h?(ae.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!d):((!i[l]||!ae.isObject(i[l]))&&(i[l]=[]),t(n,r,i[l],o)&&ae.isArray(i[l])&&(i[l]=zI(i[l])),!d)}if(ae.isFormData(e)&&ae.isFunction(e.entries)){const n={};return ae.forEachEntry(e,(r,i)=>{t(UI(r),i,n,0)}),n}return null}function HI(e,t,n){if(ae.isString(e))try{return(t||JSON.parse)(e),ae.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Sc={transitional:Jb,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ae.isObject(t);if(o&&ae.isHTMLForm(t)&&(t=new FormData(t)),ae.isFormData(t))return i?JSON.stringify(ev(t)):t;if(ae.isArrayBuffer(t)||ae.isBuffer(t)||ae.isStream(t)||ae.isFile(t)||ae.isBlob(t)||ae.isReadableStream(t))return t;if(ae.isArrayBufferView(t))return t.buffer;if(ae.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return FI(t,this.formSerializer).toString();if((d=ae.isFileList(t))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return af(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),HI(t)):t}],transformResponse:[function(t){const n=this.transitional||Sc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(t)||ae.isReadableStream(t))return t;if(t&&ae.isString(t)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(d){if(l)throw d.name==="SyntaxError"?qe.from(d,qe.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:li.classes.FormData,Blob:li.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],e=>{Sc.headers[e]={}});const VI=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WI=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||t[n]&&VI[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},qm=Symbol("internals");function cl(e){return e&&String(e).trim().toLowerCase()}function Pu(e){return e===!1||e==null?e:ae.isArray(e)?e.map(Pu):String(e)}function YI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const GI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function mh(e,t,n,r,i){if(ae.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!ae.isString(t)){if(ae.isString(r))return t.indexOf(r)!==-1;if(ae.isRegExp(r))return r.test(t)}}function XI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function $I(e,t){const n=ae.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,l){return this[r].call(this,t,i,o,l)},configurable:!0})})}class gr{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(d,h,p){const x=cl(h);if(!x)throw new Error("header name must be a non-empty string");const w=ae.findKey(i,x);(!w||i[w]===void 0||p===!0||p===void 0&&i[w]!==!1)&&(i[w||h]=Pu(d))}const l=(d,h)=>ae.forEach(d,(p,x)=>o(p,x,h));if(ae.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(ae.isString(t)&&(t=t.trim())&&!GI(t))l(WI(t),n);else if(ae.isHeaders(t))for(const[d,h]of t.entries())o(h,d,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=cl(t),t){const r=ae.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return YI(i);if(ae.isFunction(n))return n.call(this,i,r);if(ae.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=cl(t),t){const r=ae.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||mh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(l){if(l=cl(l),l){const d=ae.findKey(r,l);d&&(!n||mh(r,r[d],d,n))&&(delete r[d],i=!0)}}return ae.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||mh(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return ae.forEach(this,(i,o)=>{const l=ae.findKey(r,o);if(l){n[l]=Pu(i),delete n[o];return}const d=t?XI(o):String(o).trim();d!==o&&delete n[o],n[d]=Pu(i),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ae.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&ae.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[qm]=this[qm]={accessors:{}}).accessors,i=this.prototype;function o(l){const d=cl(l);r[d]||($I(i,l),r[d]=!0)}return ae.isArray(t)?t.forEach(o):o(t),this}}gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(gr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ae.freezeMethods(gr);function xh(e,t){const n=this||Sc,r=t||n,i=gr.from(r.headers);let o=r.data;return ae.forEach(e,function(d){o=d.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function tv(e){return!!(e&&e.__CANCEL__)}function Ba(e,t,n){qe.call(this,e??"canceled",qe.ERR_CANCELED,t,n),this.name="CanceledError"}ae.inherits(Ba,qe,{__CANCEL__:!0});function nv(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new qe("Request failed with status code "+n.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function KI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ZI(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,l;return t=t!==void 0?t:1e3,function(h){const p=Date.now(),x=r[o];l||(l=p),n[i]=h,r[i]=p;let w=o,C=0;for(;w!==i;)C+=n[w++],w=w%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),p-l<t)return;const E=x&&p-x;return E?Math.round(C*1e3/E):void 0}}function QI(e,t){let n=0;const r=1e3/t;let i=null;return function(){const l=this===!0,d=Date.now();if(l||d-n>r)return i&&(clearTimeout(i),i=null),n=d,e.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),e.apply(null,arguments)),r-(d-n)))}}const wd=(e,t,n=3)=>{let r=0;const i=ZI(50,250);return QI(o=>{const l=o.loaded,d=o.lengthComputable?o.total:void 0,h=l-r,p=i(h),x=l<=d;r=l;const w={loaded:l,total:d,progress:d?l/d:void 0,bytes:h,rate:p||void 0,estimated:p&&d&&x?(d-l)/p:void 0,event:o,lengthComputable:d!=null};w[t?"download":"upload"]=!0,e(w)},n)},qI=li.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let l=o;return t&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(l){const d=ae.isString(l)?i(l):l;return d.protocol===r.protocol&&d.host===r.host}}():function(){return function(){return!0}}(),JI=li.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const l=[e+"="+encodeURIComponent(t)];ae.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ae.isString(r)&&l.push("path="+r),ae.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function eT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rv(e,t){return e&&!eT(t)?tT(e,t):t}const Jm=e=>e instanceof gr?{...e}:e;function So(e,t){t=t||{};const n={};function r(p,x,w){return ae.isPlainObject(p)&&ae.isPlainObject(x)?ae.merge.call({caseless:w},p,x):ae.isPlainObject(x)?ae.merge({},x):ae.isArray(x)?x.slice():x}function i(p,x,w){if(ae.isUndefined(x)){if(!ae.isUndefined(p))return r(void 0,p,w)}else return r(p,x,w)}function o(p,x){if(!ae.isUndefined(x))return r(void 0,x)}function l(p,x){if(ae.isUndefined(x)){if(!ae.isUndefined(p))return r(void 0,p)}else return r(void 0,x)}function d(p,x,w){if(w in t)return r(p,x);if(w in e)return r(void 0,p)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(p,x)=>i(Jm(p),Jm(x),!0)};return ae.forEach(Object.keys(Object.assign({},e,t)),function(x){const w=h[x]||i,C=w(e[x],t[x],x);ae.isUndefined(C)&&w!==d||(n[x]=C)}),n}const iv=e=>{const t=So({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:d}=t;t.headers=l=gr.from(l),t.url=qb(rv(t.baseURL,t.url),e.params,e.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let h;if(ae.isFormData(n)){if(li.hasStandardBrowserEnv||li.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[p,...x]=h?h.split(";").map(w=>w.trim()).filter(Boolean):[];l.setContentType([p||"multipart/form-data",...x].join("; "))}}if(li.hasStandardBrowserEnv&&(r&&ae.isFunction(r)&&(r=r(t)),r||r!==!1&&qI(t.url))){const p=i&&o&&JI.read(o);p&&l.set(i,p)}return t},nT=typeof XMLHttpRequest<"u",rT=nT&&function(e){return new Promise(function(n,r){const i=iv(e);let o=i.data;const l=gr.from(i.headers).normalize();let{responseType:d}=i,h;function p(){i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function w(){if(!x)return;const E=gr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),I={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:E,config:e,request:x};nv(function(O){n(O),p()},function(O){r(O),p()},I),x=null}"onloadend"in x?x.onloadend=w:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(w)},x.onabort=function(){x&&(r(new qe("Request aborted",qe.ECONNABORTED,i,x)),x=null)},x.onerror=function(){r(new qe("Network Error",qe.ERR_NETWORK,i,x)),x=null},x.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||Jb;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new qe(_,I.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,i,x)),x=null},o===void 0&&l.setContentType(null),"setRequestHeader"in x&&ae.forEach(l.toJSON(),function(_,I){x.setRequestHeader(I,_)}),ae.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),d&&d!=="json"&&(x.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&x.addEventListener("progress",wd(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",wd(i.onUploadProgress)),(i.cancelToken||i.signal)&&(h=E=>{x&&(r(!E||E.type?new Ba(null,e,x):E),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const C=KI(i.url);if(C&&li.protocols.indexOf(C)===-1){r(new qe("Unsupported protocol "+C+":",qe.ERR_BAD_REQUEST,e));return}x.send(o||null)})},iT=(e,t)=>{let n=new AbortController,r;const i=function(h){if(!r){r=!0,l();const p=h instanceof Error?h:this.reason;n.abort(p instanceof qe?p:new Ba(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{i(new qe(`timeout ${t} of ms exceeded`,qe.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(h=>{h&&(h.removeEventListener?h.removeEventListener("abort",i):h.unsubscribe(i))}),e=null)};e.forEach(h=>h&&h.addEventListener&&h.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=l,[d,()=>{o&&clearTimeout(o),o=null}]},sT=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},oT=async function*(e,t,n){for await(const r of e)yield*sT(ArrayBuffer.isView(r)?r:await n(String(r)),t)},ex=(e,t,n,r,i)=>{const o=oT(e,t,i);let l=0;return new ReadableStream({type:"bytes",async pull(d){const{done:h,value:p}=await o.next();if(h){d.close(),r();return}let x=p.byteLength;n&&n(l+=x),d.enqueue(new Uint8Array(p))},cancel(d){return r(d),o.return()}},{highWaterMark:2})},tx=(e,t)=>{const n=e!=null;return r=>setTimeout(()=>t({lengthComputable:n,total:e,loaded:r}))},lf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sv=lf&&typeof ReadableStream=="function",z0=lf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),aT=sv&&(()=>{let e=!1;const t=new Request(li.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),nx=64*1024,H0=sv&&!!(()=>{try{return ae.isReadableStream(new Response("").body)}catch{}})(),bd={stream:H0&&(e=>e.body)};lf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!bd[t]&&(bd[t]=ae.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new qe(`Response type '${t}' is not supported`,qe.ERR_NOT_SUPPORT,r)})})})(new Response);const lT=async e=>{if(e==null)return 0;if(ae.isBlob(e))return e.size;if(ae.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(ae.isArrayBufferView(e))return e.byteLength;if(ae.isURLSearchParams(e)&&(e=e+""),ae.isString(e))return(await z0(e)).byteLength},cT=async(e,t)=>{const n=ae.toFiniteNumber(e.getContentLength());return n??lT(t)},uT=lf&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:d,onUploadProgress:h,responseType:p,headers:x,withCredentials:w="same-origin",fetchOptions:C}=iv(e);p=p?(p+"").toLowerCase():"text";let[E,_]=i||o||l?iT([i,o],l):[],I,D;const O=()=>{!I&&setTimeout(()=>{E&&E.unsubscribe()}),I=!0};let M;try{if(h&&aT&&n!=="get"&&n!=="head"&&(M=await cT(x,r))!==0){let z=new Request(t,{method:"POST",body:r,duplex:"half"}),A;ae.isFormData(r)&&(A=z.headers.get("content-type"))&&x.setContentType(A),z.body&&(r=ex(z.body,nx,tx(M,wd(h)),null,z0))}ae.isString(w)||(w=w?"cors":"omit"),D=new Request(t,{...C,signal:E,method:n.toUpperCase(),headers:x.normalize().toJSON(),body:r,duplex:"half",withCredentials:w});let R=await fetch(D);const P=H0&&(p==="stream"||p==="response");if(H0&&(d||P)){const z={};["status","statusText","headers"].forEach(j=>{z[j]=R[j]});const A=ae.toFiniteNumber(R.headers.get("content-length"));R=new Response(ex(R.body,nx,d&&tx(A,wd(d,!0)),P&&O,z0),z)}p=p||"text";let F=await bd[ae.findKey(bd,p)||"text"](R,e);return!P&&O(),_&&_(),await new Promise((z,A)=>{nv(z,A,{data:F,headers:gr.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:D})})}catch(R){throw O(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,e,D),{cause:R.cause||R}):qe.from(R,R&&R.code,e,D)}}),V0={http:II,xhr:rT,fetch:uT};ae.forEach(V0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rx=e=>`- ${e}`,dT=e=>ae.isFunction(e)||e===null||e===!1,ov={getAdapter:e=>{e=ae.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let l;if(r=n,!dT(n)&&(r=V0[(l=String(n)).toLowerCase()],r===void 0))throw new qe(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(rx).join(`
`):" "+rx(o[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:V0};function yh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ba(null,e)}function ix(e){return yh(e),e.headers=gr.from(e.headers),e.data=xh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ov.getAdapter(e.adapter||Sc.adapter)(e).then(function(r){return yh(e),r.data=xh.call(e,e.transformResponse,r),r.headers=gr.from(r.headers),r},function(r){return tv(r)||(yh(e),r&&r.response&&(r.response.data=xh.call(e,e.transformResponse,r.response),r.response.headers=gr.from(r.response.headers))),Promise.reject(r)})}const av="1.7.2",Og={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Og[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const sx={};Og.transitional=function(t,n,r){function i(o,l){return"[Axios v"+av+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,d)=>{if(t===!1)throw new qe(i(l," has been removed"+(n?" in "+n:"")),qe.ERR_DEPRECATED);return n&&!sx[l]&&(sx[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,l,d):!0}};function fT(e,t,n){if(typeof e!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],l=t[o];if(l){const d=e[o],h=d===void 0||l(d,o,e);if(h!==!0)throw new qe("option "+o+" must be "+h,qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qe("Unknown option "+o,qe.ERR_BAD_OPTION)}}const W0={assertOptions:fT,validators:Og},cs=W0.validators;class po{constructor(t){this.defaults=t,this.interceptors={request:new Qm,response:new Qm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=So(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&W0.assertOptions(r,{silentJSONParsing:cs.transitional(cs.boolean),forcedJSONParsing:cs.transitional(cs.boolean),clarifyTimeoutError:cs.transitional(cs.boolean)},!1),i!=null&&(ae.isFunction(i)?n.paramsSerializer={serialize:i}:W0.assertOptions(i,{encode:cs.function,serialize:cs.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ae.merge(o.common,o[n.method]);o&&ae.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),n.headers=gr.concat(l,o);const d=[];let h=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(n)===!1||(h=h&&I.synchronous,d.unshift(I.fulfilled,I.rejected))});const p=[];this.interceptors.response.forEach(function(I){p.push(I.fulfilled,I.rejected)});let x,w=0,C;if(!h){const _=[ix.bind(this),void 0];for(_.unshift.apply(_,d),_.push.apply(_,p),C=_.length,x=Promise.resolve(n);w<C;)x=x.then(_[w++],_[w++]);return x}C=d.length;let E=n;for(w=0;w<C;){const _=d[w++],I=d[w++];try{E=_(E)}catch(D){I.call(this,D);break}}try{x=ix.call(this,E)}catch(_){return Promise.reject(_)}for(w=0,C=p.length;w<C;)x=x.then(p[w++],p[w++]);return x}getUri(t){t=So(this.defaults,t);const n=rv(t.baseURL,t.url);return qb(n,t.params,t.paramsSerializer)}}ae.forEach(["delete","get","head","options"],function(t){po.prototype[t]=function(n,r){return this.request(So(r||{},{method:t,url:n,data:(r||{}).data}))}});ae.forEach(["post","put","patch"],function(t){function n(r){return function(o,l,d){return this.request(So(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}po.prototype[t]=n(),po.prototype[t+"Form"]=n(!0)});class Mg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(d=>{r.subscribe(d),o=d}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},t(function(o,l,d){r.reason||(r.reason=new Ba(o,l,d),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Mg(function(i){t=i}),cancel:t}}}function hT(e){return function(n){return e.apply(null,n)}}function gT(e){return ae.isObject(e)&&e.isAxiosError===!0}const Y0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Y0).forEach(([e,t])=>{Y0[t]=e});function lv(e){const t=new po(e),n=Ub(po.prototype.request,t);return ae.extend(n,po.prototype,t,{allOwnKeys:!0}),ae.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return lv(So(e,i))},n}const Ge=lv(Sc);Ge.Axios=po;Ge.CanceledError=Ba;Ge.CancelToken=Mg;Ge.isCancel=tv;Ge.VERSION=av;Ge.toFormData=af;Ge.AxiosError=qe;Ge.Cancel=Ge.CanceledError;Ge.all=function(t){return Promise.all(t)};Ge.spread=hT;Ge.isAxiosError=gT;Ge.mergeConfig=So;Ge.AxiosHeaders=gr;Ge.formToJSON=e=>ev(ae.isHTMLForm(e)?new FormData(e):e);Ge.getAdapter=ov.getAdapter;Ge.HttpStatusCode=Y0;Ge.default=Ge;Ge.defaults.timeout=3e5;async function pT(e){var t;try{const{data:n}=await Ge.post("/api/user/signup",e);if(n.status==="success")return{status:"success",message:"Your have successfully signed up..."}}catch(n){return(t=n.response)==null?void 0:t.data}}async function mT(e){var t;try{const{data:n}=await Ge.get(`/api/user/code?email=${e}`);return n}catch(n){return(t=n.response)==null?void 0:t.data}}async function xT(e,t){var n;try{const{data:r}=await Ge.post(`/api/user/login?code=${t}`,e);if(r.status==="success")return{status:"success",message:"login was successful..."}}catch(r){return(n=r.response)==null?void 0:n.data}}async function yT(e){var t;try{const n=await un(),{data:r}=await Ge.patch("/api/user/details",e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${n}`}});return r}catch(n){return(t=n.response)==null?void 0:t.data}}async function wT(e){var t;try{const n=await un(),{data:r}=await Ge.get(`/api/user/${e}`,{headers:{Authorization:`Bearer ${n}`}});return r}catch(n){return(t=n.response)==null?void 0:t.data}}async function un(){var e;try{return(await Ge.get("/token")).data.data.token}catch(t){return(e=t.response)==null?void 0:e.data}}async function bT(){var e;try{const{data:t}=await Ge.get("/logout");return t}catch(t){return(e=t.response)==null?void 0:e.data}}async function vT(e,t){var n;try{const{data:r}=await Ge.post(`/api/admin/login?code=${t}`,e);if(r.status==="success")return{status:"success",message:"login was successful..."}}catch(r){return(n=r.response)==null?void 0:n.data}}async function CT(e){var t;try{const{data:n}=await Ge.get(`/api/admin/code?email=${e}`);return n}catch(n){return(t=n.response)==null?void 0:t.data}}async function ET(e){var t;try{const n=await un(),{data:r}=await Ge.get(`/api/admin/${e}`,{headers:{Authorization:`Bearer ${n}`}});return r}catch(n){return(t=n.response)==null?void 0:t.data}}async function ST(){var e;try{const t=await un(),{data:n}=await Ge.get("/api/admin/all/users?sort=+createdAt",{headers:{Authorization:`Bearer ${t}`}});return n.data}catch(t){return(e=t.response)==null?void 0:e.data}}async function AT(e){var t;try{const n=await un();return(await Ge.patch(`/api/admin/suspend/${e}`,{},{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}async function _T(e){var t;try{const n=await un();return(await Ge.patch(`/api/admin/unsuspend/${e}`,{},{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}async function IT(e){var t;try{const n=await un();return(await Ge.post("/api/admin/add",e,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}async function TT(e){var t;try{const n=await un();return(await Ge.patch("/api/admin/details",e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}async function NT(e,t){var n;try{const r=await un();return(await Ge.patch(`/api/admin/password?code=${e}`,t,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){return(n=r.response)==null?void 0:n.data}}async function OT(){var e;try{const t=await un();return(await Ge.get("/api/admin/otp",{headers:{Authorization:`Bearer ${t}`}})).data}catch(t){return(e=t.response)==null?void 0:e.data}}async function MT(e){var t;try{const n=await un(),{data:r}=await Ge.patch(`/api/admin/checkIn/student/${e}`,{},{headers:{Authorization:`Bearer ${n}`}});return r}catch(n){return(t=n.response)==null?void 0:t.data}}async function DT(e){var t;try{const n=await un(),{data:r}=await Ge.patch(`/api/admin/checkOut/student/${e}`,{},{headers:{Authorization:`Bearer ${n}`}});return r}catch(n){return(t=n.response)==null?void 0:t.data}}async function RT(e){var t;try{const n=await un(),{data:r}=await Ge.patch(`/api/admin/verified/status/${e}`,{},{headers:{Authorization:`Bearer ${n}`}});return r}catch(n){return(t=n.response)==null?void 0:t.data}}async function kT(e){var t;try{const n=await un();return(await Ge.get(`/api/book${e}`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}async function cv(e){var t,n;try{const r=await un(),i=await Ge.get(`/api/book/book-set${e}`,{headers:{Authorization:`Bearer ${r}`}});return(t=i==null?void 0:i.data)==null?void 0:t.data}catch(r){return(n=r.response)==null?void 0:n.data}}async function LT(e){var t;try{const n=await un();return(await Ge.post("/api/book",e,{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}async function PT(e,t){var n;try{const r=await un();return(await Ge.patch(`/api/book/${t}`,e,{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){return(n=r.response)==null?void 0:n.data}}async function BT(e){var t;try{const n=await un();return(await Ge.post(`/api/book/read/${e}`,{},{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}async function jT(e){var t;try{const n=await un();return(await Ge.post(`/api/book/borrow/${e}`,{},{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}async function FT(e,t){var n;try{const r=await un();return(await Ge.patch(`/api/book/return/${e}?userId=${t}`,{},{headers:{Authorization:`Bearer ${r}`}})).data}catch(r){return(n=r.response)==null?void 0:n.data}}async function UT(e){var t;try{const n=await un();return(await Ge.patch(`/api/book/complete/${e}`,{},{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return(t=n.response)==null?void 0:t.data}}const ox=e=>{let t;const n=new Set,r=(p,x)=>{const w=typeof p=="function"?p(t):p;if(!Object.is(w,t)){const C=t;t=x??(typeof w!="object"||w===null)?w:Object.assign({},t,w),n.forEach(E=>E(t,C))}},i=()=>t,d={setState:r,getState:i,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p))},h=t=e(r,i,d);return d},zT=e=>e?ox(e):ox,HT=e=>e;function VT(e,t=HT){const n=ut.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return ut.useDebugValue(n),n}const ax=e=>{const t=zT(e),n=r=>VT(t,r);return Object.assign(n,t),n},cf=e=>e?ax(e):ax,ja=cf(e=>({state:localStorage.getItem("isLoggedIn")||!1,login:()=>{localStorage.setItem("isLoggedIn",!0),e({state:!0})},logout:()=>{localStorage.setItem("isLoggedIn",!1),e({state:!1})}})),kl=cf(e=>({state:{all:[],read:[],borrow:[]},toggler:!1,refresh:async()=>{let t=window.location.href,n="";new URL(t).searchParams.get("id")?new URL(t).searchParams.delete("id"):n=new URL(t).searchParams.toString();const r=await kT(`?${n}`);if(r.status==="success")e({state:r.data,toggler:!0});else return de.error(r.message||"Unable to fetch library books from server, please wait...")}}));cf(e=>({state:{},toggler:!1,refresh:async()=>{let t=window.location.href,n=n=new URL(t).searchParams.toString();const r=await cv(`?${n}`);if(console.log(r),r.status==="success")e({state:r.data,toggler:!0});else return de.error(r.message||"Unable to fetch student library books from server, please wait...")}}));const uv=cf(e=>({state:{},setUser:t=>e(()=>({state:t}))})),Ao="/assets/_2e96d92c-9019-455f-9b14-c271e831b95c-DNhhzyow.png",WT=async({request:e})=>{const t=await e.formData(),n=t.get("name"),r=t.get("matricNo"),i=t.get("email"),o=t.get("profileImg"),l=t.get("department"),d=t.get("IDCard");if(!n)return de.error("Please enter the name field.");if(!i)return de.error("Please enter the email field.");if(!r)return de.error("Please enter the matricNo field.");if(o.size<=0)return de.error("Please upload your profile Image.");if(!l)return de.error("Please enter the department field.");if(d.size<=0)return de.error("Please upload a valid library ID Card.");const h=new FormData;h.append("name",n),h.append("email",i),h.append("matricNo",r),h.append("profileImg",o),h.append("department",l),h.append("IDCard",d);const p=de.loading("Creating user..."),x=await pT(h);if(de.remove(p),x.status==="success"&&x.message){de.success(x.message);const w=ja.getState().login;throw w(),Er("/profile")}else return de.error(x.message),null};function YT(){const[e,t]=V.useState(""),[n,r]=V.useState(0),i=No();ut.useEffect(()=>(document.body.classList.add("signup-background"),()=>{document.body.classList.remove("signup-background")}),[]);function o(l){const{name:d,type:h,files:p}=l.target,x=["image/jpeg","image/png","image/webp"];if(h==="file"&&p[0]){const w=p[0];if(x.includes(w.type))if(d==="IDCard"){const C=new FileReader;C.onprogress=E=>{if(E.lengthComputable){const _=Math.round(E.loaded/E.total*100);r(_)}},C.readAsDataURL(w)}else(async()=>{const E=await _g(w);t(E)})();else{de.error("Invalid image format. Please upload a valid image file.");return}}}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"form-container shadow",children:[v.jsx(Ag,{position:"top-center",reverseOrder:!1}),v.jsx("div",{className:"mx-auto d-flex justify-content-center mb-4",style:{height:"80px",width:"80px"},children:v.jsx(vn.LazyLoadImage,{src:Ao,placeholderSrc:async()=>await Hn(Ao),effect:"blur",alt:"logo img",className:"rounded-circle w-100"})}),v.jsx("p",{className:"form-title text-light text-center fw-bold fs-2",children:"Library Sign Up Form"}),v.jsxs(ka,{method:"POST",className:"text-mute fw-medium row g-3",encType:"multipart/form-data",children:[v.jsxs("div",{className:"col-12 d-flex",children:[v.jsx("label",{htmlFor:"profileImg",className:"text-center justify-content-center mx-auto",style:{cursor:"pointer"},children:v.jsx(vn.LazyLoadImage,{src:e||Ir,placeholderSrc:async()=>await Hn(e||Ir),effect:"blur",alt:"profile img",className:"rounded-circle border-5 border border-secondary",width:"120px",height:"120px"})}),v.jsx("input",{type:"file",id:"profileImg",onChange:o,accept:"image/*",name:"profileImg",className:"d-none"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"name",className:"form-label",children:"Full-name"}),v.jsx("input",{type:"text",name:"name",className:"form-control form-control-sm",id:"name"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"matricNo",className:"form-label",children:"Matric No"}),v.jsx("input",{type:"number",name:"matricNo",className:"form-control form-control-sm",id:"matricNo"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",name:"email",className:"form-control form-control-sm",id:"email"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"department",className:"form-label",children:"Department"}),v.jsx("input",{type:"text",name:"department",className:"form-control form-control-sm",id:"department"})]}),v.jsxs("div",{className:"col-12 border border-secondary rounded-3 shadow mt-4",children:[v.jsxs("label",{htmlFor:"IDCard",className:"form-label d-inline-flex",style:{cursor:"pointer"},children:[v.jsx(vn.LazyLoadImage,{src:Mi,placeholderSrc:async()=>await Hn(Mi),effect:"blur",alt:"id img",className:"rounded-3 w-75 mx-auto"}),v.jsx("p",{className:"text-nowrap align-self-center",children:"Click To Upload Library ID Card"})]}),v.jsx("input",{type:"file",id:"IDCard",accept:"image/*",onChange:o,name:"IDCard",className:"d-none"})]}),v.jsx("button",{type:"submit",disabled:i.state==="submitting",className:`btn ${i.state==="submitting"?"btn-secondary":"btn-primary"} rounded-3 p-2 text-light border-0`,children:"Submit"}),v.jsx(va,{progress:n}),v.jsx(an,{to:"/login",className:"signup-image-link text-center text-dark",children:"I am already member"})]})]})})}const GT="/assets/%E2%80%94Pngtree%E2%80%94ilustration%20boy%20uaing%20binoculars%20equipment_7694297-DX5Lk-x7.png";function XT(){const e=Rb();return v.jsxs("div",{className:"bg-transparent d-flex flex-column my-5 py-5",children:[v.jsxs("div",{className:"rounded-3 d-flex justify-content-center align-items-center bg-secondary p-4 mx-auto mt-5 mb-4 shadow-lg",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"fw-bold text-warning fs-3 text-wrap",children:[e.message||"An error occured try again in a few moment time.","...!!"]}),v.jsxs("pre",{className:"fs-4",children:[v.jsx("span",{className:"text-danger",children:e.statusCode||404})," - ",e.status||"error"]})]}),v.jsx("img",{src:GT,alt:"",style:{height:"100px",width:"100px"}})]}),v.jsx(L4,{to:"..",relative:"path",id:"link",className:"text-light py-2 px-4 rounded shadow border-0 mx-auto bg-warning bg-gradient mt-5 fw-medium",children:"Return Back To Previous Page"})]})}const $T=({courseId:e,buttonText:t,title:n,children:r,footer:i,bStyles:o,cancelAction:l})=>{const[d,h]=V.useState(!1),[p,x]=V.useState(""),[w,C]=V.useState(!1),E=V.useCallback(O=>{w?(l&&l(),x("")):x(O.currentTarget.id),C(M=>!M)},[w]);V.useEffect(()=>{const O=M=>{M.key==="Escape"&&E()};return w&&document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[w,E]),V.useEffect(()=>{if(w&&p===e.toString()){if(!document.getElementById("dummy")){const O=document.createElement("div");O.setAttribute("id","dummy"),document.body.appendChild(O)}h(!0)}else h(!1);w?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[w,p,e]);const _=v.jsx("div",{id:`pay${e}`,className:"moda-overlay",children:v.jsxs("div",{className:"moda-container",onClick:O=>O.stopPropagation(),children:[v.jsxs("div",{className:"moda-header",children:[v.jsx("h2",{children:n}),v.jsx("button",{className:"moda-close",onClick:E,children:"×"})]}),v.jsx("div",{className:"moda-body",children:r}),i&&v.jsx("div",{className:"moda-footer",children:i})]})}),I=v.jsx("div",{id:"super-overlay",style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(128, 128, 128, 0.7)",backdropFilter:"blur(5px)",zIndex:"999",pointerEvents:"none"}}),D=d?document.getElementById("dummy"):v.jsx(v.Fragment,{});return v.jsxs(v.Fragment,{children:[v.jsx("button",{id:e,type:"button",onClick:E,className:`px-3 text-center py-1 ${o||"border-0 bg-warning text-dark rounded-pill"}`,children:t}),d&&w&&p===e?v.jsxs(v.Fragment,{children:[_0.createPortal(I,D),_0.createPortal(_,D)]}):v.jsx(v.Fragment,{})]})},Ca=ut.memo($T);var cr=function(){return cr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},cr.apply(this,arguments)};function ac(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Lt="-ms-",Ll="-moz-",vt="-webkit-",dv="comm",uf="rule",Dg="decl",KT="@import",fv="@keyframes",ZT="@layer",hv=Math.abs,Rg=String.fromCharCode,G0=Object.assign;function QT(e,t){return _n(e,0)^45?(((t<<2^_n(e,0))<<2^_n(e,1))<<2^_n(e,2))<<2^_n(e,3):0}function gv(e){return e.trim()}function Vi(e,t){return(e=t.exec(e))?e[0]:e}function tt(e,t,n){return e.replace(t,n)}function Bu(e,t,n){return e.indexOf(t,n)}function _n(e,t){return e.charCodeAt(t)|0}function Ea(e,t,n){return e.slice(t,n)}function Ni(e){return e.length}function pv(e){return e.length}function wl(e,t){return t.push(e),e}function qT(e,t){return e.map(t).join("")}function lx(e,t){return e.filter(function(n){return!Vi(n,t)})}var df=1,Sa=1,mv=0,$r=0,gn=0,Fa="";function ff(e,t,n,r,i,o,l,d){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:df,column:Sa,length:l,return:"",siblings:d}}function hs(e,t){return G0(ff("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Ho(e){for(;e.root;)e=hs(e.root,{children:[e]});wl(e,e.siblings)}function JT(){return gn}function e8(){return gn=$r>0?_n(Fa,--$r):0,Sa--,gn===10&&(Sa=1,df--),gn}function ci(){return gn=$r<mv?_n(Fa,$r++):0,Sa++,gn===10&&(Sa=1,df++),gn}function mo(){return _n(Fa,$r)}function ju(){return $r}function hf(e,t){return Ea(Fa,e,t)}function X0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function t8(e){return df=Sa=1,mv=Ni(Fa=e),$r=0,[]}function n8(e){return Fa="",e}function wh(e){return gv(hf($r-1,$0(e===91?e+2:e===40?e+1:e)))}function r8(e){for(;(gn=mo())&&gn<33;)ci();return X0(e)>2||X0(gn)>3?"":" "}function i8(e,t){for(;--t&&ci()&&!(gn<48||gn>102||gn>57&&gn<65||gn>70&&gn<97););return hf(e,ju()+(t<6&&mo()==32&&ci()==32))}function $0(e){for(;ci();)switch(gn){case e:return $r;case 34:case 39:e!==34&&e!==39&&$0(gn);break;case 40:e===41&&$0(e);break;case 92:ci();break}return $r}function s8(e,t){for(;ci()&&e+gn!==57;)if(e+gn===84&&mo()===47)break;return"/*"+hf(t,$r-1)+"*"+Rg(e===47?e:ci())}function o8(e){for(;!X0(mo());)ci();return hf(e,$r)}function a8(e){return n8(Fu("",null,null,null,[""],e=t8(e),0,[0],e))}function Fu(e,t,n,r,i,o,l,d,h){for(var p=0,x=0,w=l,C=0,E=0,_=0,I=1,D=1,O=1,M=0,R="",P=i,F=o,z=r,A=R;D;)switch(_=M,M=ci()){case 40:if(_!=108&&_n(A,w-1)==58){Bu(A+=tt(wh(M),"&","&\f"),"&\f",hv(p?d[p-1]:0))!=-1&&(O=-1);break}case 34:case 39:case 91:A+=wh(M);break;case 9:case 10:case 13:case 32:A+=r8(_);break;case 92:A+=i8(ju()-1,7);continue;case 47:switch(mo()){case 42:case 47:wl(l8(s8(ci(),ju()),t,n,h),h);break;default:A+="/"}break;case 123*I:d[p++]=Ni(A)*O;case 125*I:case 59:case 0:switch(M){case 0:case 125:D=0;case 59+x:O==-1&&(A=tt(A,/\f/g,"")),E>0&&Ni(A)-w&&wl(E>32?ux(A+";",r,n,w-1,h):ux(tt(A," ","")+";",r,n,w-2,h),h);break;case 59:A+=";";default:if(wl(z=cx(A,t,n,p,x,i,d,R,P=[],F=[],w,o),o),M===123)if(x===0)Fu(A,t,z,z,P,o,w,d,F);else switch(C===99&&_n(A,3)===110?100:C){case 100:case 108:case 109:case 115:Fu(e,z,z,r&&wl(cx(e,z,z,0,0,i,d,R,i,P=[],w,F),F),i,F,w,d,r?P:F);break;default:Fu(A,z,z,z,[""],F,0,d,F)}}p=x=E=0,I=O=1,R=A="",w=l;break;case 58:w=1+Ni(A),E=_;default:if(I<1){if(M==123)--I;else if(M==125&&I++==0&&e8()==125)continue}switch(A+=Rg(M),M*I){case 38:O=x>0?1:(A+="\f",-1);break;case 44:d[p++]=(Ni(A)-1)*O,O=1;break;case 64:mo()===45&&(A+=wh(ci())),C=mo(),x=w=Ni(R=A+=o8(ju())),M++;break;case 45:_===45&&Ni(A)==2&&(I=0)}}return o}function cx(e,t,n,r,i,o,l,d,h,p,x,w){for(var C=i-1,E=i===0?o:[""],_=pv(E),I=0,D=0,O=0;I<r;++I)for(var M=0,R=Ea(e,C+1,C=hv(D=l[I])),P=e;M<_;++M)(P=gv(D>0?E[M]+" "+R:tt(R,/&\f/g,E[M])))&&(h[O++]=P);return ff(e,t,n,i===0?uf:d,h,p,x,w)}function l8(e,t,n,r){return ff(e,t,n,dv,Rg(JT()),Ea(e,2,-2),0,r)}function ux(e,t,n,r,i){return ff(e,t,n,Dg,Ea(e,0,r),Ea(e,r+1,-1),r,i)}function xv(e,t,n){switch(QT(e,t)){case 5103:return vt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vt+e+e;case 4789:return Ll+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vt+e+Ll+e+Lt+e+e;case 5936:switch(_n(e,t+11)){case 114:return vt+e+Lt+tt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vt+e+Lt+tt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vt+e+Lt+tt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return vt+e+Lt+e+e;case 6165:return vt+e+Lt+"flex-"+e+e;case 5187:return vt+e+tt(e,/(\w+).+(:[^]+)/,vt+"box-$1$2"+Lt+"flex-$1$2")+e;case 5443:return vt+e+Lt+"flex-item-"+tt(e,/flex-|-self/g,"")+(Vi(e,/flex-|baseline/)?"":Lt+"grid-row-"+tt(e,/flex-|-self/g,""))+e;case 4675:return vt+e+Lt+"flex-line-pack"+tt(e,/align-content|flex-|-self/g,"")+e;case 5548:return vt+e+Lt+tt(e,"shrink","negative")+e;case 5292:return vt+e+Lt+tt(e,"basis","preferred-size")+e;case 6060:return vt+"box-"+tt(e,"-grow","")+vt+e+Lt+tt(e,"grow","positive")+e;case 4554:return vt+tt(e,/([^-])(transform)/g,"$1"+vt+"$2")+e;case 6187:return tt(tt(tt(e,/(zoom-|grab)/,vt+"$1"),/(image-set)/,vt+"$1"),e,"")+e;case 5495:case 3959:return tt(e,/(image-set\([^]*)/,vt+"$1$`$1");case 4968:return tt(tt(e,/(.+:)(flex-)?(.*)/,vt+"box-pack:$3"+Lt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vt+e+e;case 4200:if(!Vi(e,/flex-|baseline/))return Lt+"grid-column-align"+Ea(e,t)+e;break;case 2592:case 3360:return Lt+tt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,i){return t=i,Vi(r.props,/grid-\w+-end/)})?~Bu(e+(n=n[t].value),"span",0)?e:Lt+tt(e,"-start","")+e+Lt+"grid-row-span:"+(~Bu(n,"span",0)?Vi(n,/\d+/):+Vi(n,/\d+/)-+Vi(e,/\d+/))+";":Lt+tt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return Vi(r.props,/grid-\w+-start/)})?e:Lt+tt(tt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return tt(e,/(.+)-inline(.+)/,vt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(e)-1-t>6)switch(_n(e,t+1)){case 109:if(_n(e,t+4)!==45)break;case 102:return tt(e,/(.+:)(.+)-([^]+)/,"$1"+vt+"$2-$3$1"+Ll+(_n(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Bu(e,"stretch",0)?xv(tt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return tt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,l,d,h,p){return Lt+i+":"+o+p+(l?Lt+i+"-span:"+(d?h:+h-+o)+p:"")+e});case 4949:if(_n(e,t+6)===121)return tt(e,":",":"+vt)+e;break;case 6444:switch(_n(e,_n(e,14)===45?18:11)){case 120:return tt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+vt+(_n(e,14)===45?"inline-":"")+"box$3$1"+vt+"$2$3$1"+Lt+"$2box$3")+e;case 100:return tt(e,":",":"+Lt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return tt(e,"scroll-","scroll-snap-")+e}return e}function vd(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function c8(e,t,n,r){switch(e.type){case ZT:if(e.children.length)break;case KT:case Dg:return e.return=e.return||e.value;case dv:return"";case fv:return e.return=e.value+"{"+vd(e.children,r)+"}";case uf:if(!Ni(e.value=e.props.join(",")))return""}return Ni(n=vd(e.children,r))?e.return=e.value+"{"+n+"}":""}function u8(e){var t=pv(e);return function(n,r,i,o){for(var l="",d=0;d<t;d++)l+=e[d](n,r,i,o)||"";return l}}function d8(e){return function(t){t.root||(t=t.return)&&e(t)}}function f8(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Dg:e.return=xv(e.value,e.length,n);return;case fv:return vd([hs(e,{value:tt(e.value,"@","@"+vt)})],r);case uf:if(e.length)return qT(n=e.props,function(i){switch(Vi(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ho(hs(e,{props:[tt(i,/:(read-\w+)/,":"+Ll+"$1")]})),Ho(hs(e,{props:[i]})),G0(e,{props:lx(n,r)});break;case"::placeholder":Ho(hs(e,{props:[tt(i,/:(plac\w+)/,":"+vt+"input-$1")]})),Ho(hs(e,{props:[tt(i,/:(plac\w+)/,":"+Ll+"$1")]})),Ho(hs(e,{props:[tt(i,/:(plac\w+)/,Lt+"input-$1")]})),Ho(hs(e,{props:[i]})),G0(e,{props:lx(n,r)});break}return""})}}var h8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vr={},Aa=typeof process<"u"&&vr!==void 0&&(vr.REACT_APP_SC_ATTR||vr.SC_ATTR)||"data-styled",yv="active",wv="data-styled-version",gf="6.1.13",kg=`/*!sc*/
`,Cd=typeof window<"u"&&"HTMLElement"in window,g8=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&vr!==void 0&&vr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&vr.REACT_APP_SC_DISABLE_SPEEDY!==""?vr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&vr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&vr!==void 0&&vr.SC_DISABLE_SPEEDY!==void 0&&vr.SC_DISABLE_SPEEDY!==""&&vr.SC_DISABLE_SPEEDY!=="false"&&vr.SC_DISABLE_SPEEDY),pf=Object.freeze([]),_a=Object.freeze({});function p8(e,t,n){return n===void 0&&(n=_a),e.theme!==n.theme&&e.theme||t||n.theme}var bv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),m8=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,x8=/(^-|-$)/g;function dx(e){return e.replace(m8,"-").replace(x8,"")}var y8=/(a)(d)/gi,tu=52,fx=function(e){return String.fromCharCode(e+(e>25?39:97))};function K0(e){var t,n="";for(t=Math.abs(e);t>tu;t=t/tu|0)n=fx(t%tu)+n;return(fx(t%tu)+n).replace(y8,"$1-$2")}var bh,vv=5381,ra=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Cv=function(e){return ra(vv,e)};function Ev(e){return K0(Cv(e)>>>0)}function w8(e){return e.displayName||e.name||"Component"}function vh(e){return typeof e=="string"&&!0}var Sv=typeof Symbol=="function"&&Symbol.for,Av=Sv?Symbol.for("react.memo"):60115,b8=Sv?Symbol.for("react.forward_ref"):60112,v8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},C8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_v={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},E8=((bh={})[b8]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bh[Av]=_v,bh);function hx(e){return("type"in(t=e)&&t.type.$$typeof)===Av?_v:"$$typeof"in e?E8[e.$$typeof]:v8;var t}var S8=Object.defineProperty,A8=Object.getOwnPropertyNames,gx=Object.getOwnPropertySymbols,_8=Object.getOwnPropertyDescriptor,I8=Object.getPrototypeOf,px=Object.prototype;function Iv(e,t,n){if(typeof t!="string"){if(px){var r=I8(t);r&&r!==px&&Iv(e,r,n)}var i=A8(t);gx&&(i=i.concat(gx(t)));for(var o=hx(e),l=hx(t),d=0;d<i.length;++d){var h=i[d];if(!(h in C8||n&&n[h]||l&&h in l||o&&h in o)){var p=_8(t,h);try{S8(e,h,p)}catch{}}}}return e}function Ia(e){return typeof e=="function"}function Lg(e){return typeof e=="object"&&"styledComponentId"in e}function co(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Z0(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=e[r];return n}function lc(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Q0(e,t,n){if(n===void 0&&(n=!1),!n&&!lc(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Q0(e[r],t[r]);else if(lc(t))for(var r in t)e[r]=Q0(e[r],t[r]);return e}function Pg(e,t){Object.defineProperty(e,"toString",{value:t})}function Ac(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var T8=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;t>=o;)if((o<<=1)<0)throw Ac(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var l=i;l<o;l++)this.groupSizes[l]=0}for(var d=this.indexOfGroup(t+1),h=(l=0,n.length);l<h;l++)this.tag.insertRule(d,n[l])&&(this.groupSizes[t]++,d++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),i=r+n;this.groupSizes[t]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],i=this.indexOfGroup(t),o=i+r,l=i;l<o;l++)n+="".concat(this.tag.getRule(l)).concat(kg);return n},e}(),Uu=new Map,Ed=new Map,zu=1,nu=function(e){if(Uu.has(e))return Uu.get(e);for(;Ed.has(zu);)zu++;var t=zu++;return Uu.set(e,t),Ed.set(t,e),t},N8=function(e,t){zu=t+1,Uu.set(e,t),Ed.set(t,e)},O8="style[".concat(Aa,"][").concat(wv,'="').concat(gf,'"]'),M8=new RegExp("^".concat(Aa,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),D8=function(e,t,n){for(var r,i=n.split(","),o=0,l=i.length;o<l;o++)(r=i[o])&&e.registerName(t,r)},R8=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(kg),i=[],o=0,l=r.length;o<l;o++){var d=r[o].trim();if(d){var h=d.match(M8);if(h){var p=0|parseInt(h[1],10),x=h[2];p!==0&&(N8(x,p),D8(e,x,h[3]),e.getTag().insertRules(p,i)),i.length=0}else i.push(d)}}},mx=function(e){for(var t=document.querySelectorAll(O8),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Aa)!==yv&&(R8(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function k8(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Tv=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(d){var h=Array.from(d.querySelectorAll("style[".concat(Aa,"]")));return h[h.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(Aa,yv),r.setAttribute(wv,gf);var l=k8();return l&&r.setAttribute("nonce",l),n.insertBefore(r,o),r},L8=function(){function e(t){this.element=Tv(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var l=r[i];if(l.ownerNode===n)return l}throw Ac(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),P8=function(){function e(t){this.element=Tv(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),B8=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),xx=Cd,j8={isServer:!Cd,useCSSOMInjection:!g8},Nv=function(){function e(t,n,r){t===void 0&&(t=_a),n===void 0&&(n={});var i=this;this.options=cr(cr({},j8),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&Cd&&xx&&(xx=!1,mx(this)),Pg(this,function(){return function(o){for(var l=o.getTag(),d=l.length,h="",p=function(w){var C=function(O){return Ed.get(O)}(w);if(C===void 0)return"continue";var E=o.names.get(C),_=l.getGroup(w);if(E===void 0||!E.size||_.length===0)return"continue";var I="".concat(Aa,".g").concat(w,'[id="').concat(C,'"]'),D="";E!==void 0&&E.forEach(function(O){O.length>0&&(D+="".concat(O,","))}),h+="".concat(_).concat(I,'{content:"').concat(D,'"}').concat(kg)},x=0;x<d;x++)p(x);return h}(i)})}return e.registerId=function(t){return nu(t)},e.prototype.rehydrate=function(){!this.server&&Cd&&mx(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(cr(cr({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new B8(i):r?new L8(i):new P8(i)}(this.options),new T8(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if(nu(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules(nu(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(nu(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),F8=/&/g,U8=/^\s*\/\/.*$/gm;function Ov(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=Ov(n.children,t)),n})}function z8(e){var t,n,r,i=_a,o=i.options,l=o===void 0?_a:o,d=i.plugins,h=d===void 0?pf:d,p=function(C,E,_){return _.startsWith(n)&&_.endsWith(n)&&_.replaceAll(n,"").length>0?".".concat(t):C},x=h.slice();x.push(function(C){C.type===uf&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(F8,n).replace(r,p))}),l.prefix&&x.push(f8),x.push(c8);var w=function(C,E,_,I){E===void 0&&(E=""),_===void 0&&(_=""),I===void 0&&(I="&"),t=I,n=E,r=new RegExp("\\".concat(n,"\\b"),"g");var D=C.replace(U8,""),O=a8(_||E?"".concat(_," ").concat(E," { ").concat(D," }"):D);l.namespace&&(O=Ov(O,l.namespace));var M=[];return vd(O,u8(x.concat(d8(function(R){return M.push(R)})))),M};return w.hash=h.length?h.reduce(function(C,E){return E.name||Ac(15),ra(C,E.name)},vv).toString():"",w}var H8=new Nv,q0=z8(),Mv=ut.createContext({shouldForwardProp:void 0,styleSheet:H8,stylis:q0});Mv.Consumer;ut.createContext(void 0);function yx(){return V.useContext(Mv)}var Dv=function(){function e(t,n){var r=this;this.inject=function(i,o){o===void 0&&(o=q0);var l=r.name+o.hash;i.hasNameForId(r.id,l)||i.insertRules(r.id,l,o(r.rules,l,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Pg(this,function(){throw Ac(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=q0),this.name+t.hash},e}(),V8=function(e){return e>="A"&&e<="Z"};function wx(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;V8(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Rv=function(e){return e==null||e===!1||e===""},kv=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!Rv(o)&&(Array.isArray(o)&&o.isCss||Ia(o)?r.push("".concat(wx(i),":"),o,";"):lc(o)?r.push.apply(r,ac(ac(["".concat(i," {")],kv(o),!1),["}"],!1)):r.push("".concat(wx(i),": ").concat((t=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in h8||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function xo(e,t,n,r){if(Rv(e))return[];if(Lg(e))return[".".concat(e.styledComponentId)];if(Ia(e)){if(!Ia(o=e)||o.prototype&&o.prototype.isReactComponent||!t)return[e];var i=e(t);return xo(i,t,n,r)}var o;return e instanceof Dv?n?(e.inject(n,r),[e.getName(r)]):[e]:lc(e)?kv(e):Array.isArray(e)?Array.prototype.concat.apply(pf,e.map(function(l){return xo(l,t,n,r)})):[e.toString()]}function W8(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ia(n)&&!Lg(n))return!1}return!0}var Y8=Cv(gf),G8=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&W8(t),this.componentId=n,this.baseHash=ra(Y8,n),this.baseStyle=r,Nv.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=co(i,this.staticRulesId);else{var o=Z0(xo(this.rules,t,n,r)),l=K0(ra(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,l)){var d=r(o,".".concat(l),void 0,this.componentId);n.insertRules(this.componentId,l,d)}i=co(i,l),this.staticRulesId=l}else{for(var h=ra(this.baseHash,r.hash),p="",x=0;x<this.rules.length;x++){var w=this.rules[x];if(typeof w=="string")p+=w;else if(w){var C=Z0(xo(w,t,n,r));h=ra(h,C+x),p+=C}}if(p){var E=K0(h>>>0);n.hasNameForId(this.componentId,E)||n.insertRules(this.componentId,E,r(p,".".concat(E),void 0,this.componentId)),i=co(i,E)}}return i},e}(),Lv=ut.createContext(void 0);Lv.Consumer;var Ch={};function X8(e,t,n){var r=Lg(e),i=e,o=!vh(e),l=t.attrs,d=l===void 0?pf:l,h=t.componentId,p=h===void 0?function(P,F){var z=typeof P!="string"?"sc":dx(P);Ch[z]=(Ch[z]||0)+1;var A="".concat(z,"-").concat(Ev(gf+z+Ch[z]));return F?"".concat(F,"-").concat(A):A}(t.displayName,t.parentComponentId):h,x=t.displayName,w=x===void 0?function(P){return vh(P)?"styled.".concat(P):"Styled(".concat(w8(P),")")}(e):x,C=t.displayName&&t.componentId?"".concat(dx(t.displayName),"-").concat(t.componentId):t.componentId||p,E=r&&i.attrs?i.attrs.concat(d).filter(Boolean):d,_=t.shouldForwardProp;if(r&&i.shouldForwardProp){var I=i.shouldForwardProp;if(t.shouldForwardProp){var D=t.shouldForwardProp;_=function(P,F){return I(P,F)&&D(P,F)}}else _=I}var O=new G8(n,C,r?i.componentStyle:void 0);function M(P,F){return function(z,A,j){var U=z.attrs,J=z.componentStyle,ce=z.defaultProps,se=z.foldedComponentIds,xe=z.styledComponentId,Oe=z.target,X=ut.useContext(Lv),ke=yx(),be=z.shouldForwardProp||ke.shouldForwardProp,oe=p8(A,X,ce)||_a,ge=function(ze,ye,mt){for(var at,Vt=cr(cr({},ye),{className:void 0,theme:mt}),mn=0;mn<ze.length;mn+=1){var st=Ia(at=ze[mn])?at(Vt):at;for(var nt in st)Vt[nt]=nt==="className"?co(Vt[nt],st[nt]):nt==="style"?cr(cr({},Vt[nt]),st[nt]):st[nt]}return ye.className&&(Vt.className=co(Vt.className,ye.className)),Vt}(U,A,oe),pe=ge.as||Oe,Pe={};for(var Ae in ge)ge[Ae]===void 0||Ae[0]==="$"||Ae==="as"||Ae==="theme"&&ge.theme===oe||(Ae==="forwardedAs"?Pe.as=ge.forwardedAs:be&&!be(Ae,pe)||(Pe[Ae]=ge[Ae]));var Ue=function(ze,ye){var mt=yx(),at=ze.generateAndInjectStyles(ye,mt.styleSheet,mt.stylis);return at}(J,ge),Ie=co(se,xe);return Ue&&(Ie+=" "+Ue),ge.className&&(Ie+=" "+ge.className),Pe[vh(pe)&&!bv.has(pe)?"class":"className"]=Ie,Pe.ref=j,V.createElement(pe,Pe)}(R,P,F)}M.displayName=w;var R=ut.forwardRef(M);return R.attrs=E,R.componentStyle=O,R.displayName=w,R.shouldForwardProp=_,R.foldedComponentIds=r?co(i.foldedComponentIds,i.styledComponentId):"",R.styledComponentId=C,R.target=r?i.target:e,Object.defineProperty(R,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(P){this._foldedDefaultProps=r?function(F){for(var z=[],A=1;A<arguments.length;A++)z[A-1]=arguments[A];for(var j=0,U=z;j<U.length;j++)Q0(F,U[j],!0);return F}({},i.defaultProps,P):P}}),Pg(R,function(){return".".concat(R.styledComponentId)}),o&&Iv(R,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),R}function bx(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var vx=function(e){return Object.assign(e,{isCss:!0})};function Pv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ia(e)||lc(e))return vx(xo(bx(pf,ac([e],t,!0))));var r=e;return t.length===0&&r.length===1&&typeof r[0]=="string"?xo(r):vx(xo(bx(r,t)))}function J0(e,t,n){if(n===void 0&&(n=_a),!t)throw Ac(1,t);var r=function(i){for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];return e(t,n,Pv.apply(void 0,ac([i],o,!1)))};return r.attrs=function(i){return J0(e,t,cr(cr({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return J0(e,t,cr(cr({},n),i))},r}var Bv=function(e){return J0(X8,e)},Pi=Bv;bv.forEach(function(e){Pi[e]=Bv(e)});function $8(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Z0(Pv.apply(void 0,ac([e],t,!1))),i=Ev(r);return new Dv(i,r)}function K8(){const[e,t]=V.useState(120);return V.useEffect(()=>{const n=setInterval(()=>{t(r=>r<=0?0:r-1)},1e3);return()=>{clearInterval(n)}},[]),v.jsxs("div",{children:[e," secs remaining"]})}const Bg=ut.memo(K8),Cx=async({request:e})=>{const t=await e.formData(),n=t.get("code"),r=t.get("password"),i=t.get("email");if(!n)return de.error("Please enter the code field.");if(!i)return de.error("Please enter the email field.");if(!r)return de.error("Please enter the password field.");const o=de.loading("Logging in..."),l=await xT({password:r,email:i},n);if(de.remove(o),l.status==="success"&&l.message){de.success(l.message);const d=ja.getState().login;throw d(),Er("/profile")}else return de.error(l.message),null};function Ex(){const[e,t]=V.useState("idle"),[n,r]=V.useState(!1),i=No();ut.useEffect(()=>(document.body.classList.add("signup-background"),()=>{document.body.classList.remove("signup-background")}),[]);const[o,l]=V.useState({miniEmail:"",password:"",code:""});function d(p){const{name:x,value:w}=p.target;l(C=>({...C,[x]:w}))}async function h(){r(!1),t("submitting");const p=de.loading("Sending OTP..."),x=await mT(o.miniEmail);t("idle"),de.remove(p),x.status==="success"&&x.message?(de.success(x.message),r(!0)):de.error(x.message)}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"form-container shadow",children:[v.jsx("div",{className:"mx-auto d-flex justify-content-center mb-4",style:{height:"80px",width:"80px"},children:v.jsx(vn.LazyLoadImage,{src:Ao,placeholderSrc:async()=>await Hn(Ao),effect:"blur",alt:"logo img",className:"rounded-circle w-100"})}),v.jsx("p",{className:"form-title text-light text-center fw-bold fs-2",children:"Library Login Form"}),v.jsxs("div",{className:"col-12",children:[v.jsx("label",{htmlFor:"miniEmail",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",name:"miniEmail",onChange:d,className:"form-control",id:"miniEmail"})]}),v.jsx(Ca,{courseId:"password",title:"LOGIN USING CODE",buttonText:"Login",bStyles:"rounded-3 btn btn-primary text-light py-2 w-100 my-3",footer:v.jsx(v.Fragment,{}),children:v.jsx(Z8,{children:v.jsxs(ka,{method:"POST",children:[v.jsx("label",{htmlFor:"email",children:"Email address"}),v.jsx("input",{type:"text",id:"email",name:"email",value:o.miniEmail,readOnly:!0,style:{pointerEvents:"none"}}),v.jsx("label",{htmlFor:"verification-code",children:"Click the button Get Code"}),v.jsx("span",{className:"text-danger fw-medium",children:n&&v.jsx(Bg,{})}),v.jsxs("div",{className:"get-code",children:[v.jsx("input",{type:"text",id:"verification-code",maxLength:7,name:"code",value:o.code,onChange:d,placeholder:"Enter OTP Code"}),v.jsx("button",{type:"button",disabled:e==="submitting",onClick:h,children:"Get Code"})]}),v.jsx("p",{children:"Check your email and get the verification code"}),v.jsx("label",{htmlFor:"password",children:"Password"}),v.jsx("input",{type:"password",name:"password",id:"password",value:o.password,onChange:d,placeholder:"Enter password"}),v.jsx("button",{type:"submit",disabled:i.state==="submitting",className:`btn ${i.state==="submitting"?"btn-secondary":"btn-primary"} rounded-3 p-2 text-light border-0`,children:"Submit"})]})})}),v.jsx(an,{to:"/sign-up",className:"signup-image-link text-center text-dark",children:"Create Account"})]})})}const Z8=Pi.div`
    font-size: 14px;
    color: #333;
    max-height: 600px;
    overflow-y: scroll;
    label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    input[type='text'],
    input[type='password'] {
        width: calc(100% - 20px);
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
    }

    input[type='text']:disabled {
        background-color: #f0f0f0;
    }

    .get-code {
        display: flex;
        align-items: center;

        input {
            flex: 1;
        }

        button {
            padding: 10px 20px;
            margin-left: 10px;
            border: none;
            background-color: #e0e0e0;
            border-radius: 4px;
            cursor: pointer;
        }
    }
`,jg="/assets/bg-group-1png-DPYl_ooi.jpg";function Q8(){const e=kl(n=>n.state),t=uv(n=>n.state);return v.jsx(J8,{children:v.jsxs("div",{className:"profile-header text-nowrap rounded-3 text-light",style:{background:`url("${jg}")`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",objectFit:"cover"},children:[v.jsx("div",{className:"mx-auto d-flex flex-row flex-nowrap mb-3 justify-content-center align-items-center gap-2 rounded-3",children:v.jsx("div",{className:" bg-transparent border border-0 position-relative",children:v.jsx(vn.LazyLoadImage,{className:"rounded-circle border-5 border border-white",width:"140px",height:"140px",alt:"profile img",src:(t==null?void 0:t.profileImg)||Ir,placeholderSrc:async()=>await Hn((t==null?void 0:t.profileImg)||Ir),effect:"blur"})})}),(t==null?void 0:t.role)==="student"&&v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"fw-medium",children:t==null?void 0:t.name}),v.jsx("p",{className:"fw-medium",children:t==null?void 0:t.department})]}),v.jsx("div",{className:"profile-stats mt-4 gap-2",children:(t==null?void 0:t.role)==="student"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Borrowed"}),v.jsx("p",{children:e==null?void 0:e.borrow.length})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Read"}),v.jsx("p",{children:e==null?void 0:e.read.length})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Status"}),v.jsx("p",{children:t!=null&&t.verified?"Verified":"Not Verified"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Matric No"}),v.jsx("p",{children:t==null?void 0:t.matricNo})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Lecturer"}),v.jsx("p",{className:"",children:t==null?void 0:t.name})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Department"}),v.jsx("p",{className:"",children:t==null?void 0:t.department})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Email"}),v.jsx("p",{children:t==null?void 0:t.email})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Status"}),v.jsx("p",{children:t!=null&&t.verified?"Verified":"Not Verified"})]})]})})]})})}const q8=ut.memo(Q8),J8=Pi.div`
  .profile-header {
    padding: 20px;
    text-align: center;
    height: max-content;
    border-image: fill 0 linear-gradient(rgba(93, 93, 93, 0.003), #161616);
  }
  .profile-stats {
    display: flex;
    justify-content: space-evenly;
    margin-top: 20px;
  }
`,e6=async(e,t)=>{e.preventDefault();const n=de.loading("Logging out..."),r=await bT();de.remove(n);const i=ja.getState().logout;if(i(),r.status==="success")return window.location.href=t==="student"?"/login":"/admin/login";de.remove(n),de.error("An error occured in the server...")};function Eh(){const e=Ys(),t=Cg(),[n]=La();let r="";n.toString()&&!n.get("id")&&(r=`?${n.toString()}`);const i=kl(h=>h.state),o=kl(h=>h.toggler),l=kl(h=>h.refresh),d=uv(h=>h.setUser);return V.useEffect(()=>{d(t==null?void 0:t.user),(async()=>{await l()})()},[r,o]),V.useEffect(()=>{const h=document.querySelectorAll(".arrow"),p=document.querySelector(".bx-menu"),x=document.querySelector(".sidenav"),w=E=>{E.target.parentElement.parentElement.classList.toggle("showMenu")},C=()=>{x.classList.toggle("close")};return h&&h.forEach(E=>{E.addEventListener("click",w)}),p&&p.addEventListener("click",C),()=>{h&&h.forEach(E=>{E.removeEventListener("click",w)}),p&&p.removeEventListener("click",C)}},[t]),v.jsx(Eg,{resolve:t.user,children:h=>v.jsx(v.Fragment,{children:v.jsxs(t6,{children:[v.jsxs("div",{className:"sidenav close",children:[v.jsxs("div",{className:"logo-details",children:[v.jsx("img",{src:Ao,className:"rounded-circle ms-4 me-3",alt:"logo",width:"50px",height:"60px"}),v.jsx("span",{className:"logo_name fs-4",children:"Library"})]}),v.jsxs("ul",{className:"nav-links",children:[(h.role==="admin"||h.role==="sub-admin")&&v.jsxs("li",{children:[v.jsxs(an,{to:"/admin/console/dashboard",children:[v.jsx("i",{className:"bx bx-grid-alt"}),v.jsx("span",{className:"link_name",children:"Dashboard"})]}),v.jsx("ul",{className:"sub-menu blank",children:v.jsx("li",{children:v.jsx(an,{className:"link_name",to:"/admin/console/dashboard",children:"Dashboard"})})})]}),v.jsx("li",{children:v.jsx("div",{className:"iocn-link",children:v.jsxs(an,{to:h.role==="student"?"/profile":"/admin/console/profile",children:[v.jsx("i",{className:"bx bx-cog"}),v.jsx("span",{className:"link_name",children:"Profile"})]})})}),h.role==="student"&&v.jsxs("li",{children:[v.jsxs("div",{className:"iocn-link",children:[v.jsxs(an,{to:"/books/read",children:[v.jsx("i",{className:"bx bxs-book"}),v.jsx("span",{className:"link_name",children:"Books"})]}),v.jsx("i",{className:"bx bxs-chevron-down arrow"})]}),v.jsxs("ul",{className:"sub-menu",children:[v.jsx("li",{children:v.jsx(an,{className:"link_name",to:"/books",children:"Library"})}),v.jsx("li",{children:v.jsx(an,{to:"/books",children:"Library"})}),v.jsx("li",{children:v.jsx(an,{to:"/books/read",children:"Read"})}),v.jsx("li",{children:v.jsx(an,{to:"/books/borrowed",children:"Borrowed"})})]})]}),(h.role==="admin"||h.role==="sub-admin")&&v.jsxs(v.Fragment,{children:[v.jsxs("li",{children:[v.jsxs("div",{className:"iocn-link",children:[v.jsxs(an,{to:"/admin/console/books/library",children:[v.jsx("i",{className:"bx bxs-book"}),v.jsx("span",{className:"link_name text-nowrap",children:"Books Library"})]}),v.jsx("i",{className:"bx bxs-chevron-down arrow"})]}),v.jsxs("ul",{className:"sub-menu text-nowrap",children:[v.jsx("li",{children:v.jsx(an,{className:"link_name text-nowrap",to:"/admin/console/books/library",children:"Books Library"})}),v.jsx("li",{children:v.jsx(an,{to:"/admin/console/books/library",children:"Books Library"})}),v.jsx("li",{children:v.jsx(an,{to:"/admin/console/books/student-books?type=read",children:"Read Books"})}),v.jsx("li",{children:v.jsx(an,{to:"/admin/console/books/student-books?type=borrow",children:"Borrowed Books"})}),v.jsx("li",{children:v.jsx(an,{to:"/admin/console/books/student-books?status=COMPLETED",children:"Completed Books"})}),v.jsx("li",{children:v.jsx(an,{to:"/admin/console/books/student-books?status=READING",children:"Reading Books"})}),v.jsx("li",{children:v.jsx(an,{to:"/admin/console/books/student-books?status=RETURNED",children:"Returned Books"})})]})]}),v.jsx("li",{children:v.jsx("div",{className:"iocn-link",children:v.jsxs(an,{to:"/admin/console/books/new",children:[v.jsx("i",{className:"bx bxs-book-add display-4"}),v.jsx("span",{className:"link_name",children:"Add Books"})]})})}),v.jsxs("li",{children:[v.jsxs("div",{className:"iocn-link",children:[v.jsxs("a",{href:".",children:[v.jsx("i",{className:"bx bx-scan"}),v.jsx("span",{className:"link_name",children:"Scanner"})]}),v.jsx("i",{className:"bx bxs-chevron-down arrow"})]}),v.jsxs("ul",{className:"sub-menu",children:[v.jsx("li",{children:v.jsx("a",{className:"link_name",href:"/admin/console/scan/checkIn",children:"CheckIn Scan"})}),v.jsx("li",{children:v.jsx("a",{href:"/admin/console/scan/checkIn",children:"CheckIn Scan"})}),v.jsx("li",{children:v.jsx("a",{href:"/admin/console/scan/checkOut",children:"CheckOut Scan"})}),v.jsx("li",{children:v.jsx("a",{href:"/admin/console/scan/return",children:"Return Scan"})}),v.jsx("li",{children:v.jsx("a",{href:"/admin/console/scan/verify",children:"Verify Scan"})})]})]})]}),v.jsx("li",{children:v.jsxs("div",{className:"profile-details",children:[v.jsx("div",{className:"profile-content",children:v.jsx("img",{src:h.profileImg||Ir,alt:"profileImg"})}),v.jsxs("div",{className:"name-job",children:[v.jsx("div",{className:"profile_name",children:h.name}),v.jsx("div",{className:"job text-wrap",children:h.department}),v.jsx("div",{className:"job",children:h.matricNo})]}),v.jsx("i",{className:"bx bx-log-out",onClick:p=>e6(p,h.role)})]})})]})]}),v.jsxs("section",{className:"home-section",style:{marginBottom:"4rem"},children:[v.jsxs("div",{className:"home-content",children:[v.jsx("i",{className:"bx bx-menu"}),v.jsx("span",{className:"text"})]}),v.jsxs("div",{className:"px-3",children:[v.jsx(Ag,{position:"top-center",reverseOrder:!1}),e.pathname==="/profile"||e.pathname==="/admin/console/profile"||e.pathname==="/admin/console/"||/\/admin\/console\/scan/.test(e.pathname)?v.jsx(v.Fragment,{}):v.jsx(q8,{}),v.jsx(i4,{context:{user:t.user,books:i}})]})]})]})})})}const t6=Pi.div`
  .form-group {
    margin-bottom: 15px;
  }
`,n6=async({request:e})=>{const t=await e.formData(),n=t.get("name"),r=t.get("matricNo"),i=t.get("email"),o=t.get("profileImg"),l=t.get("department"),d=t.get("IDCard"),h=new FormData;n&&h.append("name",n),i&&h.append("email",i),r&&h.append("matricNo",r),o&&o.size>0&&h.append("profileImg",o),l&&h.append("department",l),d&&d.size>0&&h.append("IDCard",d);const p=de.loading("Making changes..."),x=await yT(h);return de.remove(p),x.status==="success"&&x.message?de.success(x.message):de.error(x.message),null};function r6(){var x,w,C,E,_,I,D,O;const e=Mb(),t=No(),[n,r]=V.useState({name:((x=e.user)==null?void 0:x.name)||"",email:((w=e.user)==null?void 0:w.email)||"",matricNo:((C=e.user)==null?void 0:C.matricNo)||"",department:((E=e.user)==null?void 0:E.department)||""}),[i,o]=V.useState(""),[l,d]=V.useState(0);function h(M){const{name:R,value:P}=M.target;r(F=>({...F,[R]:P}))}function p(M){const{name:R,type:P,files:F}=M.target,z=["image/jpeg","image/png","image/webp"];if(P==="file"&&F[0]){const A=F[0];if(z.includes(A.type))if(R==="IDCard"){const j=new FileReader;j.onprogress=U=>{if(U.lengthComputable){const J=Math.round(U.loaded/U.total*100);d(J)}},j.readAsDataURL(A)}else(async()=>{const U=await _g(A);o(U)})();else{de.error("Invalid image format. Please upload a valid image file.");return}}}return v.jsxs(i6,{children:[v.jsx(Ca,{courseId:"bardodeID",buttonText:"Click to show your barcode",title:"Student Barcode",bStyles:"btn btn-primary border-0 text-light p-3 my-3 rounded-pill w-auto mx-1 shadow text-center",footer:v.jsx(v.Fragment,{}),children:v.jsx("div",{className:"my-3 d-flex mx-auto justify-content-center",children:v.jsx(vn.LazyLoadImage,{className:"shadow rounded-3",height:"250px",width:"250px",alt:"barcode img",src:e.user.barcode,placeholderSrc:async()=>await Hn(e.user.barcode),effect:"blur"})})}),v.jsxs(ka,{method:"PATCH",className:"row g-3",encType:"multipart/form-data",children:[v.jsxs("div",{className:"profile-header text-nowrap rounded-3 text-light",style:{background:`url("${jg}")`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",objectFit:"cover"},children:[v.jsx("div",{className:"mx-auto d-flex flex-row flex-nowrap mb-3 justify-content-center align-items-center gap-2 rounded-3",children:v.jsxs("div",{className:" bg-transparent border border-0 position-relative",children:[v.jsx(vn.LazyLoadImage,{className:"rounded-circle border-5 border border-white",width:"140px",height:"140px",alt:"profile img",src:i||e.user.profileImg||Ir,placeholderSrc:async()=>await Hn(i||e.user.profileImg||Ir),effect:"blur"}),v.jsxs("button",{type:"button",style:{transform:"translate(-55px,-15px)"},className:"position-absolute top-50 mt-5 start-100 badge border border-light rounded-circle bg-white p-2",children:[v.jsx("label",{htmlFor:"profileImg",children:v.jsxs("svg",{width:"24px",height:"24px",viewBox:"0 0 512 512",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",children:[v.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),v.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",v.jsx("title",{children:"Edit Profile Image"})," ",v.jsxs("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[" ",v.jsxs("g",{id:"icon",fill:"#ffc107",transform:"translate(42.666667, 64.000000)",children:[" ",v.jsx("path",{d:"M277.333333,1.42108547e-14 C277.333333,1.42108547e-14 277.681778,0.557511111 278.378667,1.67253333 L278.698667,2.18453333 C279.438222,3.36782222 280.478222,5.03182222 281.818667,7.17653333 L282.458667,8.20053333 C283.891556,10.4931556 285.624889,13.2664889 287.658667,16.5205333 L288.618667,18.0565333 C290.744889,21.4584889 293.171556,25.3411556 295.898667,29.7045333 L297.178667,31.7525333 C299.998222,36.2638222 303.118222,41.2558222 306.538667,46.7285333 L308.138667,49.2885333 C311.003462,53.8722052 314.068069,58.775577 317.332489,63.9986486 L426.666667,64 L426.666667,362.666667 L7.10542736e-15,362.666667 L7.10542736e-15,64 L109.333,64 L149.333333,1.42108547e-14 L277.333333,1.42108547e-14 L277.333333,1.42108547e-14 Z M213.333333,85.3333333 C148.531923,85.3333333 96,137.865256 96,202.666667 C96,267.468077 148.531923,320 213.333333,320 C278.134744,320 330.666667,267.468077 330.666667,202.666667 C330.666667,137.865256 278.134744,85.3333333 213.333333,85.3333333 Z M213.333333,128 C254.570595,128 288,161.429405 288,202.666667 C288,243.903928 254.570595,277.333333 213.333333,277.333333 C172.096072,277.333333 138.666667,243.903928 138.666667,202.666667 C138.666667,161.429405 172.096072,128 213.333333,128 Z M384,106.666667 C372.217925,106.666667 362.666667,116.217925 362.666667,128 C362.666667,139.782075 372.217925,149.333333 384,149.333333 C395.782075,149.333333 405.333333,139.782075 405.333333,128 C405.333333,116.217925 395.782075,106.666667 384,106.666667 Z",id:"Combined-Shape",children:" "})," "]})," "]})," "]})]})}),v.jsx("input",{onChange:p,className:"d-none",type:"file",name:"profileImg",accept:"image/*",id:"profileImg"})]})]})}),v.jsx("p",{className:"fw-medium",children:e.user.name}),v.jsx("p",{className:"fw-medium",children:e.user.department}),v.jsxs("div",{className:"profile-stats mt-4 gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Borrow"}),v.jsx("p",{children:(_=e.books)==null?void 0:_.borrow.length})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Read"}),v.jsx("p",{children:(I=e.books)==null?void 0:I.read.length})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Status"}),v.jsx("p",{children:(D=e.user)!=null&&D.verified?"Verified":"Not Verified"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Matric No"}),v.jsx("p",{children:(O=e.user)==null?void 0:O.matricNo})]})]})]}),v.jsxs("div",{className:"bg-secondary row ms-0 pt-4 rounded-bottom round-3 mb-3 text-light",children:[v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"name",className:"form-label",children:"Full-name"}),v.jsx("input",{type:"text",name:"name",value:n.name,onChange:h,className:"form-control",id:"name"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"matricNo",className:"form-label",children:"Matric No"}),v.jsx("input",{type:"number",name:"matricNo",value:n.matricNo,onChange:h,className:"form-control",id:"matricNo"})]}),v.jsx("div",{className:"my-2"}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",name:"email",value:n.email,onChange:h,className:"form-control",id:"email"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"department",className:"form-label",children:"Department"}),v.jsx("input",{type:"text",name:"department",value:n.department,onChange:h,className:"form-control",id:"department"})]}),v.jsxs("div",{className:"col-12",children:[v.jsx("p",{className:"p-0 m-0 mt-3 mb-1",children:"Click here to upload new ID Card"}),v.jsx("input",{type:"file",className:"form-control",id:"IDCard",accept:"image/*",onChange:p,name:"IDCard"})]}),v.jsx(va,{progress:l}),v.jsx("div",{className:"my-5 d-flex mx-auto justify-content-center",style:{maxHeight:"400px",width:"90%"},children:v.jsx(vn.LazyLoadImage,{className:"shadow rounded-3",height:"100%",width:"100%",alt:"id img",src:e.user.IDCard||Mi,placeholderSrc:async()=>await Hn(e.user.IDCard||Mi),effect:"blur"})}),v.jsx("button",{type:"submit",disabled:t.state==="submitting",className:`btn ${t.state==="submitting"?"btn-secondary":"btn-primary"} rounded-3 p-3 text-light border-0 mt-2 mb-4`,children:"Save Profile"})]})]})]})}const i6=Pi.div`
  .profile-header {
    padding: 20px;
    text-align: center;
    height: max-content;
    border-image: fill 0 linear-gradient(rgba(93, 93, 93, 0.003), #161616);
  }
  .profile-stats {
    display: flex;
    justify-content: space-evenly;
    margin-top: 20px;
  }

`;function s6(){return v.jsx("div",{className:"mt-3",children:v.jsx("div",{id:"notfound",children:v.jsxs("div",{class:"notfound",children:[v.jsx("div",{className:"notfound-404",children:v.jsx("h1",{children:"404"})}),v.jsx("h2",{children:"We are sorry, Page not found!"}),v.jsx("p",{children:"The page you are looking for might have been removed had its name changed or is temporarily unavailable."}),v.jsx(an,{to:"..",relative:"path",children:"Back To Homepage"})]})})})}class bl extends Error{}bl.prototype.name="InvalidTokenError";function o6(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function a6(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return o6(t)}catch{return atob(t)}}function jv(e,t){if(typeof e!="string")throw new bl("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new bl(`Invalid token specified: missing part #${n+1}`);let i;try{i=a6(r)}catch(o){throw new bl(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new bl(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}Ge.defaults.baseURL="http://localhost:5000";async function Fv(){try{const{data:e}=await Ge.get("/token");return e}catch(e){return e.response.data}}async function Sx(){var e,t;try{const n=ja.getState().state,r=await Fv();if(r.status!=="success"||!((e=r.data)!=null&&e.token))throw de.error(r.message||"Authentication failed"),Er("/login");const{id:i}=jv(r.data.token);if(!i)throw Er("/login");const o=await wT(i);if(o.status!=="success")throw de.error(o.message||"Failed to retrieve student data"),Er("/login");if(((t=o.data.user)==null?void 0:t.role)==="student"&&n)return o.data.user;throw de.error("This student does not have access to this page, login and try again..."),Er("/login")}catch{throw Er("/login")}}async function l6(){var e,t;try{const n=ja.getState().state,r=await Fv();if(r.status!=="success"||!((e=r.data)!=null&&e.token))throw de.error(r.message||"Authentication failed"),Er("/admin/login");const{id:i}=jv(r.data.token);if(!i)throw Er("/admin/login");const o=await ET(i);if(o.status!=="success")throw de.error(o.message||"Failed to retrieve admin data"),Er("/admin/login");const l=(t=o.data.user)==null?void 0:t.role;if(l==="admin"||l==="sub-admin"&&n)return o.data.user;throw de.error("This user does not have access to this page..."),Er("/admin/login")}catch{throw Er("/admin/login")}}const c6=async({request:e})=>{const t=await e.formData(),n=t.get("code"),r=t.get("password"),i=t.get("email");if(!n)return de.error("Please enter the code field.");if(!i)return de.error("Please enter the email field.");if(!r)return de.error("Please enter the password field.");const o=de.loading("Logging in..."),l=await vT({password:r,email:i},n);if(de.remove(o),l.status==="success"&&l.message){de.success(l.message);const d=ja.getState().login;throw d(),Er("/admin/console/profile")}else return de.error(l.message),null};function u6(){const[e,t]=V.useState("idle"),[n,r]=V.useState(!1),i=No(),[o,l]=V.useState({miniEmail:"",password:"",code:""});ut.useEffect(()=>(document.body.classList.add("signup-background"),()=>{document.body.classList.remove("signup-background")}),[]);function d(p){const{name:x,value:w}=p.target;l(C=>({...C,[x]:w}))}async function h(){r(!1),t("submitting");const p=de.loading("Sending OTP..."),x=await CT(o.miniEmail);t("idle"),de.remove(p),x.status==="success"&&x.message?(de.success(x.message),r(!0)):de.error(x.message)}return v.jsxs("div",{className:"form-container shadow",children:[v.jsx("div",{className:"mx-auto d-flex justify-content-center mb-4",style:{height:"80px",width:"80px"},children:v.jsx(vn.LazyLoadImage,{src:Ao,placeholderSrc:async()=>await Hn(Ao),effect:"blur",alt:"logo img",className:"rounded-circle w-100"})}),v.jsx("p",{className:"form-title text-light text-center fw-bold fs-2",children:"Admin Library Login Form"}),v.jsxs("div",{className:"col-12",children:[v.jsx("label",{htmlFor:"miniEmail",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",name:"miniEmail",onChange:d,className:"form-control",id:"miniEmail"})]}),v.jsx(Ca,{courseId:"password",title:"LOGIN USING CODE",buttonText:"Login",bStyles:"rounded-3 btn btn-primary text-light py-2 w-100 my-3",footer:v.jsx(v.Fragment,{}),children:v.jsx(d6,{children:v.jsxs(ka,{method:"POST",children:[v.jsx("label",{htmlFor:"email",children:"Email address"}),v.jsx("input",{type:"text",id:"email",name:"email",value:o.miniEmail,readOnly:!0,style:{pointerEvents:"none"}}),v.jsx("label",{htmlFor:"verification-code",children:"Click the button Get Code"}),v.jsx("span",{className:"text-danger fw-medium",children:n&&v.jsx(Bg,{})}),v.jsxs("div",{className:"get-code",children:[v.jsx("input",{type:"text",id:"verification-code",maxLength:7,name:"code",value:o.code,onChange:d,placeholder:"Enter OTP Code"}),v.jsx("button",{type:"button",disabled:e==="submitting",onClick:h,children:"Get Code"})]}),v.jsx("p",{children:"Check your email and get the verification code"}),v.jsx("label",{htmlFor:"password",children:"Password"}),v.jsx("input",{type:"password",name:"password",id:"password",value:o.password,onChange:d,placeholder:"Enter password"}),v.jsx("button",{type:"submit",disabled:i.state==="submitting",className:`btn ${i.state==="submitting"?"btn-secondary":"btn-primary"} rounded-3 p-2 text-light border-0`,children:"Submit"})]})})})]})}const d6=Pi.div`
    font-size: 14px;
    color: #333;
    max-height: 600px;
    overflow-y: scroll;
    label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    input[type='text'],
    input[type='password'] {
        width: calc(100% - 20px);
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
    }

    input[type='text']:disabled {
        background-color: #f0f0f0;
    }

    .get-code {
        display: flex;
        align-items: center;

        input {
            flex: 1;
        }

        button {
            padding: 10px 20px;
            margin-left: 10px;
            border: none;
            background-color: #e0e0e0;
            border-radius: 4px;
            cursor: pointer;
        }
    }
`,Sd=[{name:"Business",value:"business"},{name:"Development",value:"development"},{name:"Finance",value:"finance"},{name:"Engineering",value:"engineering"},{name:"Health & Fitness",value:"health&fitness"},{name:"Lifestyle",value:"lifestyle"},{name:"Art & Design",value:"art&design"},{name:"Data Science",value:"datascience"}],f6=async({request:e})=>{const t=await e.formData(),n=t.get("title"),r=t.get("author"),i=t.get("category"),o=t.get("coverImg");if(!n)return de.error("Please enter the title field.");if(!r)return de.error("Please enter the author field.");if(!i)return de.error("Please enter the category field.");if(o.size<=0)return de.error("Please upload your cover Image.");const l=new FormData;l.append("title",n),l.append("author",r),l.append("category",i),l.append("coverImg",o);const d=de.loading("Creating book..."),h=await LT(l);return de.remove(d),h.status==="success"&&h.message?de.success(h.message):de.error(h.message),null};function h6(){const[e,t]=V.useState(0),n=No(),r=ut.useRef(null);function i(l){const{name:d,type:h,files:p}=l.target,x=["image/jpeg","image/png","image/webp"];if(h==="file"&&p[0]){const w=p[0];if(x.includes(w.type)){const C=new FileReader;C.onprogress=E=>{if(E.lengthComputable){const _=Math.round(E.loaded/E.total*100);t(_)}},C.readAsDataURL(w)}else{de.error("Invalid image format. Please upload a valid image file.");return}}}function o(){r.current.click()}return v.jsxs(ka,{method:"POST",className:"text-mute fw-medium mt-2 mb-5 row g-3 p-3 ",encType:"multipart/form-data",children:[v.jsxs("div",{onClick:o,className:"rounded-3 d-flex align-items-center justify-content-center border border-1 border-secondary shadow mx-auto",style:{height:"400px",width:"100%"},children:[v.jsx("label",{htmlFor:"coverImg",className:"text-center justify-content-center mx-auto",style:{cursor:"pointer"},children:v.jsx("i",{className:"bx bxs-book-add display-4"})}),v.jsx("input",{type:"file",id:"coverImg",ref:r,onChange:i,accept:"image/*",name:"coverImg",className:"d-none"})]}),v.jsx(va,{progress:e}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),v.jsx("input",{type:"text",name:"title",className:"form-control",id:"title"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"author",className:"form-label",children:"Author"}),v.jsx("input",{type:"text",name:"author",className:"form-control",id:"author"})]}),v.jsx("div",{className:"col-12",children:v.jsxs("select",{name:"category",className:"form-select form-select-lg mb-3",id:"category",children:[v.jsx("option",{value:"",disabled:!0,className:"bg-secondary text-light",children:"Open this to select category"}),Sd.map((l,d)=>v.jsx("option",{value:l.value,children:l.name},d))]})}),v.jsx("button",{type:"submit",disabled:n.state==="submitting",className:`btn ${n.state==="submitting"?"btn-secondary":"btn-primary"} rounded-3 p-3 mb-4 text-light border-0`,children:"Create"})]})}const g6=ut.memo(h6),p6=ut.createContext({}),Uv=!0;function m6({baseColor:e,highlightColor:t,width:n,height:r,borderRadius:i,circle:o,direction:l,duration:d,enableAnimation:h=Uv}){const p={};return l==="rtl"&&(p["--animation-direction"]="reverse"),typeof d=="number"&&(p["--animation-duration"]=`${d}s`),h||(p["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(p.width=n),(typeof r=="string"||typeof r=="number")&&(p.height=r),(typeof i=="string"||typeof i=="number")&&(p.borderRadius=i),o&&(p.borderRadius="50%"),typeof e<"u"&&(p["--base-color"]=e),typeof t<"u"&&(p["--highlight-color"]=t),p}function Zs({count:e=1,wrapper:t,className:n,containerClassName:r,containerTestId:i,circle:o=!1,style:l,...d}){var h,p,x;const w=ut.useContext(p6),C={...d};for(const[R,P]of Object.entries(d))typeof P>"u"&&delete C[R];const E={...w,...C,circle:o},_={...l,...m6(E)};let I="react-loading-skeleton";n&&(I+=` ${n}`);const D=(h=E.inline)!==null&&h!==void 0?h:!1,O=[],M=Math.ceil(e);for(let R=0;R<M;R++){let P=_;if(M>e&&R===M-1){const z=(p=P.width)!==null&&p!==void 0?p:"100%",A=e%1,j=typeof z=="number"?z*A:`calc(${z} * ${A})`;P={...P,width:j}}const F=ut.createElement("span",{className:I,style:P,key:R},"‌");D?O.push(F):O.push(ut.createElement(ut.Fragment,{key:R},F,ut.createElement("br",null)))}return ut.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":(x=E.enableAnimation)!==null&&x!==void 0?x:Uv},t?O.map((R,P)=>ut.createElement(t,{key:P},R)):O)}function x6({cards:e}){return Array(e).fill(0).map((t,n)=>v.jsxs("div",{className:"card p-2",style:{width:"16rem"},children:[v.jsx("div",{className:"card-img-top",children:v.jsx(Zs,{height:"100px"})}),v.jsxs("div",{className:"card-body text-start",children:[v.jsxs("div",{className:"d-flex text-nowrap flex-row gap-1",children:[v.jsx("p",{className:"px-2 py-1 rounded-pill w-50 mybg-secondary text-center text-dark",children:v.jsx(Zs,{})}),v.jsx("p",{className:"px-2 py-1 rounded-pill w-50 mybg-secondary text-center text-dark",children:v.jsx(Zs,{})})]}),v.jsx("h5",{className:"card-title",children:v.jsx(Zs,{})}),v.jsx("p",{className:"card-text",children:v.jsx(Zs,{})}),v.jsxs("div",{className:"d-inline-flex justify-content-between gap-3",children:[v.jsx(Zs,{}),v.jsx(Zs,{})]})]})]},n))}const e1=ut.memo(x6);function y6({data:e}){const[t,n]=V.useState(0),[r,i]=La(),o=ut.useRef(null),[l,d]=V.useState({title:(e==null?void 0:e.title)||"",author:(e==null?void 0:e.author)||"",category:(e==null?void 0:e.category)||""}),h=No();function p(C){const{name:E,type:_,files:I,value:D}=C.target,O=["image/jpeg","image/png","image/webp"];if(_==="file"){if(I&&I[0]){const M=I[0];if(O.includes(M.type)){const R=new FileReader;R.onprogress=P=>{if(P.lengthComputable){const F=Math.round(P.loaded/P.total*100);n(F)}},R.readAsDataURL(M)}else{de.error("Invalid image format. Please upload a valid image file.");return}}}else d(M=>({...M,[E]:D}))}async function x(C){C.preventDefault();const E=r.get("id"),_=C.target,I=new FormData(_),D=de.loading("Making changes..."),O=await PT(I,E);return de.remove(D),O.status==="success"&&O.message?de.success(O.message):de.error(O.message),null}function w(){o.current.click()}return v.jsxs("form",{method:"PATCH",onSubmit:x,className:"text-mute fw-medium my-2 row g-3 container",encType:"multipart/form-data",children:[v.jsxs("div",{className:"col-12 d-flex align-items-center border border-1 border-secondary rounded-3 mx-auto",onClick:w,style:{height:"400px",width:"95%"},children:[v.jsx("label",{htmlFor:"coverImg",className:"text-center justify-content-center mx-auto",style:{cursor:"pointer"},children:v.jsx("i",{className:"bx bxs-book-add fs-3"})}),v.jsx("input",{type:"file",ref:o,id:"coverImg",onChange:p,accept:"image/*",name:"coverImg",className:"d-none"})]}),v.jsx(va,{progress:t}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"title",className:"form-label",children:"Title"}),v.jsx("input",{type:"text",name:"title",value:l.title,onChange:p,className:"form-control form-control-sm",id:"title"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"author",className:"form-label",children:"Author"}),v.jsx("input",{type:"text",name:"author",value:l.author,onChange:p,className:"form-control form-control-sm",id:"author"})]}),v.jsx("div",{className:"col-12",children:v.jsxs("select",{name:"category",value:l.category,onChange:p,className:"form-select form-select-lg mb-3",id:"category",children:[v.jsx("option",{value:"",disabled:!0,className:"bg-secondary text-light",children:"Open this to select category"}),Sd.map((C,E)=>v.jsx("option",{value:C.value,children:C.name},E))]})}),v.jsx("button",{type:"submit",disabled:h.state==="submitting",className:`btn ${h.state==="submitting"?"btn-secondary":"btn-primary"} rounded-3 p-2 text-light border-0`,children:"Edit Book"})]})}function w6(e){const[t,n]=La(),[r,i]=V.useState("idle");function o(){n(x=>(x.set("id",e==null?void 0:e.id),x))}function l(){n(x=>(x.delete("id"),x))}async function d(){const x=e==null?void 0:e.id;i("submitting");const w=de.loading("Processing..."),C=await BT(x);return i("idle"),de.remove(w),C.status==="success"?de.success(C.message):de.error(C.message),null}async function h(){const x=e==null?void 0:e.id;i("submitting");const w=de.loading("Processing..."),C=await jT(x);return i("idle"),de.remove(w),C.status==="success"?de.success(C.message):de.error(C.message),null}async function p(){var E,_;const x=(_=(E=e==null?void 0:e.data)==null?void 0:E.book)==null?void 0:_._id;i("submitting");const w=de.loading("Processing..."),C=await UT(x);return i("idle"),de.remove(w),C.status==="success"?de.success(C.message):de.error(C.message),null}return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"card p-2",style:{width:"16rem"},children:[v.jsx(vn.LazyLoadImage,{src:e==null?void 0:e.image,effect:"blur",alt:"card img",height:"180px",className:"card-img-top"}),v.jsxs("div",{className:"card-body text-start",children:[v.jsx("div",{className:"d-flex text-nowrap flex-row gap-1",children:v.jsx("p",{className:"px-2 py-1 rounded-pill w-auto mybg-secondary text-center text-dark text-capitalize",children:e==null?void 0:e.category})}),v.jsx("h5",{className:"card-title text-capitalize",children:e==null?void 0:e.title}),v.jsxs("p",{className:"card-text",children:["By ",v.jsx("span",{className:"text-secondary fw-semibold ",children:e==null?void 0:e.author})]}),(e==null?void 0:e.type)==="all-student"?v.jsxs("div",{className:"d-inline-flex justify-content-between gap-3",children:[v.jsx("button",{id:e==null?void 0:e.id,onClick:d,className:`border-0 rounded-3 btn p-2 text-light ${r==="submitting"?"btn-secondary":"btn-primary"}`,children:"Read"}),v.jsx("button",{id:e==null?void 0:e.id,onClick:h,className:`border-0 rounded-3 btn p-2 text-light ${r==="submitting"?"btn-secondary":"btn-primary"}`,children:"Borrow"})]}):e.type==="read"?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-secondary fw-4",children:e==null?void 0:e.status}),e.status!=="COMPLETED"&&v.jsx("button",{id:e==null?void 0:e.id,onClick:p,disabled:r==="submitting",className:`border-0 rounded-3 btn p-2 text-light ${r==="submitting"?"btn-secondary":"btn-info"}`,children:"Complete Reading"})]}):e.type==="borrow"?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-secondary fw-4",children:e==null?void 0:e.status}),v.jsx(vn.LazyLoadImage,{className:"shadow rounded-3",height:"200px",width:"200px",alt:"barcode img",src:e==null?void 0:e.barcode,effect:"blur"})]}):v.jsx("div",{onClick:o,children:v.jsx(Ca,{courseId:e==null?void 0:e.id,buttonText:"Edit Book",cancelAction:l,title:"Edit Book",bStyles:"btn btn-warning border-0 text-light p-3 rounded-3 w-100 mx-1 shadow",footer:v.jsx(v.Fragment,{}),children:v.jsx("div",{className:"p-3",style:{overflowY:"scroll",height:"500px",width:"100%"},children:v.jsx(y6,{data:e==null?void 0:e.data})})})})]})]})})}const Ax=ut.memo(w6),zv=ut.memo(()=>{let[e,t]=La();const n=Sd.reduce((d,h)=>(d[h.value]=!1,d),{}),[r,i]=V.useState(n);V.useEffect(()=>{var p;const d=((p=e.get("category"))==null?void 0:p.split("*"))||[],h={...n};d.forEach(x=>{h[x]=!0}),i(h)},[e]);const o=d=>{const{name:h,checked:p}=d.target;i(x=>({...x,[h]:p})),t(x=>{var C;const w=((C=x.get("category"))==null?void 0:C.split("*"))||[];if(p)w.includes(h)||w.push(h);else{const E=w.indexOf(h);E>-1&&w.splice(E,1)}return w.length?x.set("category",w.join("*")):x.delete("category"),x})},l=()=>{i(n),t(d=>(d.delete("category"),d))};return v.jsx("div",{children:v.jsxs("div",{className:"rounded-2 bg-secondary text-light my-4 shadow p-2 px-3",children:[v.jsx("p",{className:"fw-bold fs-5 mb-3 mt-2 text-center",children:"Categories"}),v.jsxs("div",{className:"row justify-content-start g-3",children:[v.jsxs("div",{className:"col align-self-start form-check",children:[v.jsx("input",{type:"checkbox",name:"all",checked:Object.values(r).every(Boolean),className:"form-check-input",onChange:l,id:"all_categories"}),v.jsx("label",{htmlFor:"all_categories",className:"form-check-label",children:"All"})]}),Sd.map((d,h)=>v.jsxs("div",{className:"col align-self-start form-check",children:[v.jsx("input",{type:"checkbox",name:d.value,checked:r[d.value],className:"form-check-input",onChange:o,id:d.value}),v.jsx("label",{htmlFor:d.value,className:"form-check-label text-nowrap",children:d.name})]},h))]})]})})});var Hv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var d=arguments[l];d&&(o=i(o,r(d)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var d in o)t.call(o,d)&&o[d]&&(l=i(l,d));return l}function i(o,l){return l?o?o+" "+l:o+l:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Hv);var b6=Hv.exports;const t1=Pd(b6),v6=["xxl","xl","lg","md","sm","xs"],C6="xs",E6=V.createContext({prefixes:{},breakpoints:v6,minBreakpoint:C6});function S6(e,t){const{prefixes:n}=V.useContext(E6);return e||n[t]||t}function A6(e){const t=V.useRef(e);return V.useEffect(()=>{t.current=e},[e]),t}function _6(e){const t=A6(e);return V.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const I6=["as","disabled"];function T6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function N6(e){return!e||e.trim()==="#"}function Vv({tagName:e,disabled:t,href:n,target:r,rel:i,role:o,onClick:l,tabIndex:d=0,type:h}){e||(n!=null||r!=null||i!=null?e="a":e="button");const p={tagName:e};if(e==="button")return[{type:h||"button",disabled:t},p];const x=C=>{if((t||e==="a"&&N6(n))&&C.preventDefault(),t){C.stopPropagation();return}l==null||l(C)},w=C=>{C.key===" "&&(C.preventDefault(),x(C))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:t?void 0:d,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:x,onKeyDown:w},p]}const O6=V.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=T6(e,I6);const[o,{tagName:l}]=Vv(Object.assign({tagName:n,disabled:r},i));return v.jsx(l,Object.assign({},i,o,{ref:t}))});O6.displayName="Button";const M6=["onKeyDown"];function D6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function R6(e){return!e||e.trim()==="#"}const Wv=V.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=D6(e,M6);const[i]=Vv(Object.assign({tagName:"a"},r)),o=_6(l=>{i.onKeyDown(l),n==null||n(l)});return R6(r.href)||r.role==="button"?v.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:o})):v.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});Wv.displayName="Anchor";const Fg=V.forwardRef(({active:e=!1,disabled:t=!1,className:n,style:r,activeLabel:i="(current)",children:o,linkStyle:l,linkClassName:d,as:h=Wv,...p},x)=>{const w=e||t?"span":h;return v.jsx("li",{ref:x,style:r,className:t1(n,"page-item",{active:e,disabled:t}),children:v.jsxs(w,{className:t1("page-link",d),style:l,...p,children:[o,e&&i&&v.jsx("span",{className:"visually-hidden",children:i})]})})});Fg.displayName="PageItem";function _c(e,t,n=e){const r=V.forwardRef(({children:i,...o},l)=>v.jsxs(Fg,{...o,ref:l,children:[v.jsx("span",{"aria-hidden":"true",children:i||t}),v.jsx("span",{className:"visually-hidden",children:n})]}));return r.displayName=e,r}const k6=_c("First","«"),L6=_c("Prev","‹","Previous"),P6=_c("Ellipsis","…","More"),B6=_c("Next","›"),j6=_c("Last","»"),Yv=V.forwardRef(({bsPrefix:e,className:t,size:n,...r},i)=>{const o=S6(e,"pagination");return v.jsx("ul",{ref:i,...r,className:t1(t,o,n&&`${o}-${n}`)})});Yv.displayName="Pagination";const sr=Object.assign(Yv,{First:k6,Prev:L6,Ellipsis:P6,Item:Fg,Next:B6,Last:j6});function F6({data:e,type:t,count:n}){const[r,i]=V.useState(""),[o,l]=V.useState([]),[d,h]=La(),[p,x]=V.useState(1),[w,C]=V.useState([]),E=10,[_,I]=V.useState(E),[D,O]=V.useState(parseInt(d.get("page"))||1),M=A=>{const j=A.target.value;if(i(j),w&&w.length>0){const U=w.filter(J=>J.title?J.title.toLowerCase().includes(j.toLowerCase()):J==null?void 0:J.book.title);l(U.map(J=>J.title?J.title:J==null?void 0:J.book.title))}else l([])},R=A=>{const{id:j}=A.currentTarget,U=o[j];h(J=>(J.delete("id"),r===""?J.delete("search"):J.set("search",U),J)),i(U),l([])},P=A=>{A.preventDefault(),h(j=>(j.delete("id"),r===""?j.delete("search"):j.set("search",r),j))};V.useEffect(()=>{const A=parseInt(d.get("limit"))||E,j=p*A,U=j-A;e&&(C(e.slice(U,j)),I(Math.ceil(e.length/A)))},[e,p,d]);const F=A=>{x(A)},z=A=>{h(j=>{const U=new URLSearchParams(j);return U.set("page",A),U}),O(A)};return v.jsxs("div",{children:[(t===""||t==="all-student")&&v.jsxs(v.Fragment,{children:[v.jsx(zv,{}),v.jsxs("form",{onSubmit:P,className:"position-relative",children:[v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"search",name:"search",value:r,onChange:M,placeholder:"Search for books...",className:"border-end-0 rounded-pill shadow rounded-end pr-2 form-control"}),v.jsx("span",{className:"shadow input-group-text border-0 bg-primary rounded-end-pill p-0 px-2 m-0",children:v.jsx("button",{className:"bg-transparent border-0 px-2 m-0 d-flex mx-auto fw-bold",children:v.jsx("svg",{viewBox:"0 0 24 24",width:"20px",height:"20px",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M15 15L21 21M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]}),o.length>0&&r&&v.jsxs("div",{className:"p-2 suggest-search bg-white rounded-2 mx-auto shadow",children:[v.jsx("em",{className:"text-dark fw-medium fs-6 border-1 my-2 py-2 border-secondary border-bottom",children:"Suggested search"}),v.jsx("div",{style:{height:"70%",overflowY:"scroll"},children:o.map((A,j)=>v.jsx("p",{id:j,onClick:R,title:"Click to search",className:"text-dark fs-6 border-1 my-2 py-2 border-secondary border-bottom",style:{cursor:"pointer"},children:A},j))})]})]})]}),v.jsx("div",{className:"row align-items-center justify-content-center gap-5 my-4",children:Object.keys(e).length>0?t===""||t==="all-student"?e.map((A,j)=>{var U,J,ce,se,xe;return A?v.jsx(Ax,{type:t,image:t==="read"||t==="borrow"?(U=A.book)==null?void 0:U.coverImg.url:(J=A==null?void 0:A.coverImg)==null?void 0:J.url,category:t==="read"||t==="borrow"?(ce=A.book)==null?void 0:ce.category:A==null?void 0:A.category,title:t==="read"||t==="borrow"?(se=A.book)==null?void 0:se.title:A==null?void 0:A.title,author:t==="read"||t==="borrow"?(xe=A.book)==null?void 0:xe.author:A==null?void 0:A.author,status:A==null?void 0:A.status,barcode:t==="borrow"?A==null?void 0:A.barcode:"",id:A==null?void 0:A._id,data:A},j):v.jsx(e1,{cards:9})}):(t==="read"||t==="borrow")&&w.length>0?w.map((A,j)=>{var U,J,ce,se,xe;return A?v.jsx(Ax,{type:t,image:t==="read"||t==="borrow"?(U=A==null?void 0:A.book)==null?void 0:U.coverImg.url:(J=A.coverImg)==null?void 0:J.url,category:t==="read"||t==="borrow"?(ce=A==null?void 0:A.book)==null?void 0:ce.category:A.category,title:t==="read"||t==="borrow"?(se=A.book)==null?void 0:se.title:A.title,author:t==="read"||t==="borrow"?(xe=A.book)==null?void 0:xe.author:A.author,status:A.status,barcode:t==="borrow"?A.barcode:"",id:A._id,data:A},j):v.jsx(e1,{cards:9})}):v.jsx("p",{children:"Books are not available or search not found..."}):v.jsx("p",{children:"Books are not available or search not found..."})}),e&&(t===""||t==="all-student")?v.jsxs(sr,{className:"justify-content-center",children:[v.jsx(sr.Prev,{onClick:()=>z(D-1),disabled:D===1}),[...Array(D)].map((A,j)=>v.jsx(sr.Item,{active:j+1===D,onClick:()=>z(j+1),children:j+1},j+1)),v.jsx(sr.Next,{onClick:()=>z(D+1),disabled:D>=n-E*D})]}):v.jsxs(sr,{className:"justify-content-center",children:[v.jsx(sr.First,{onClick:()=>F(1),disabled:p===1}),v.jsx(sr.Prev,{onClick:()=>F(p-1),disabled:p===1}),[...Array(_)].map((A,j)=>v.jsx(sr.Item,{active:j+1===p,onClick:()=>F(j+1),children:j+1},j+1)),v.jsx(sr.Next,{onClick:()=>F(p+1),disabled:p===_}),v.jsx(sr.Last,{onClick:()=>F(_),disabled:p===_})]})]})}const ru=ut.memo(F6);var Me;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Me||(Me={}));var _x=new Map([[Me.QR_CODE,"QR_CODE"],[Me.AZTEC,"AZTEC"],[Me.CODABAR,"CODABAR"],[Me.CODE_39,"CODE_39"],[Me.CODE_93,"CODE_93"],[Me.CODE_128,"CODE_128"],[Me.DATA_MATRIX,"DATA_MATRIX"],[Me.MAXICODE,"MAXICODE"],[Me.ITF,"ITF"],[Me.EAN_13,"EAN_13"],[Me.EAN_8,"EAN_8"],[Me.PDF_417,"PDF_417"],[Me.RSS_14,"RSS_14"],[Me.RSS_EXPANDED,"RSS_EXPANDED"],[Me.UPC_A,"UPC_A"],[Me.UPC_E,"UPC_E"],[Me.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ix;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Ix||(Ix={}));function U6(e){return Object.values(Me).includes(e)}var js;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(js||(js={}));var ri=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[js.SCAN_TYPE_CAMERA,js.SCAN_TYPE_FILE],e}(),Gv=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!_x.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,_x.get(t))},e}(),Tx=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),n1;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(n1||(n1={}));var Xv=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:n1.UNKWOWN_ERROR}},e}(),$v=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function _i(e){return typeof e>"u"||e===null}function z6(e,t,n){return e>n?n:e<t?t:e}var ia=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ct=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Nx=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Kv=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(i),l=Object.keys(t),d=0,h=l;d<h.length;d++){var p=h[d];if(o.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),r1={exports:{}};(function(e,t){(function(n,r){r(t)})(Ka,function(n){function r(T){return T==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,s){T.__proto__=s}||function(T,s){for(var a in s)s.hasOwnProperty(a)&&(T[a]=s[a])};function o(T,s){i(T,s);function a(){this.constructor=T}T.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}function l(T,s){var a=Object.setPrototypeOf;a?a(T,s):T.__proto__=s}function d(T,s){s===void 0&&(s=T.constructor);var a=Error.captureStackTrace;a&&a(T,s)}var h=function(T){o(s,T);function s(a){var c=this.constructor,u=T.call(this,a)||this;return Object.defineProperty(u,"name",{value:c.name,enumerable:!1}),l(u,c.prototype),d(u),u}return s}(Error);class p extends h{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class x extends p{}x.kind="ArgumentException";class w extends p{}w.kind="IllegalArgumentException";class C{constructor(s){if(this.binarizer=s,s===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,a){return this.binarizer.getBlackRow(s,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,a,c,u){const f=this.binarizer.getLuminanceSource().crop(s,a,c,u);return new C(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends p{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class _{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(s,a,c,u,f){for(;f--;)c[u++]=s[a++]}static currentTimeMillis(){return Date.now()}}class D extends p{}D.kind="IndexOutOfBoundsException";class O extends D{constructor(s=void 0,a=void 0){super(a),this.index=s,this.message=a}}O.kind="ArrayIndexOutOfBoundsException";class M{static fill(s,a){for(let c=0,u=s.length;c<u;c++)s[c]=a}static fillWithin(s,a,c,u){M.rangeCheck(s.length,a,c);for(let f=a;f<c;f++)s[f]=u}static rangeCheck(s,a,c){if(a>c)throw new w("fromIndex("+a+") > toIndex("+c+")");if(a<0)throw new O(a);if(c>s)throw new O(c)}static asList(...s){return s}static create(s,a,c){return Array.from({length:s}).map(f=>Array.from({length:a}).fill(c))}static createInt32Array(s,a,c){return Array.from({length:s}).map(f=>Int32Array.from({length:a}).fill(c))}static equals(s,a){if(!s||!a||!s.length||!a.length||s.length!==a.length)return!1;for(let c=0,u=s.length;c<u;c++)if(s[c]!==a[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let a=1;for(const c of s)a=31*a+c;return a}static fillUint8Array(s,a){for(let c=0;c!==s.length;c++)s[c]=a}static copyOf(s,a){return s.slice(0,a)}static copyOfUint8Array(s,a){if(s.length<=a){const c=new Uint8Array(a);return c.set(s),c}return s.slice(0,a)}static copyOfRange(s,a,c){const u=c-a,f=new Int32Array(u);return I.arraycopy(s,a,f,0,u),f}static binarySearch(s,a,c){c===void 0&&(c=M.numberComparator);let u=0,f=s.length-1;for(;u<=f;){const g=f+u>>1,m=c(a,s[g]);if(m>0)u=g+1;else if(m<0)f=g-1;else return g}return-u-1}static numberComparator(s,a){return s-a}}class R{static numberOfTrailingZeros(s){let a;if(s===0)return 32;let c=31;return a=s<<16,a!==0&&(c-=16,s=a),a=s<<8,a!==0&&(c-=8,s=a),a=s<<4,a!==0&&(c-=4,s=a),a=s<<2,a!==0&&(c-=2,s=a),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let a=1;return s>>>16||(a+=16,s<<=16),s>>>24||(a+=8,s<<=8),s>>>28||(a+=4,s<<=4),s>>>30||(a+=2,s<<=2),a-=s>>>31,a}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,a){return Math.trunc(s/a)}static parseInt(s,a=void 0){return parseInt(s,a)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(s,a){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,a==null?this.bits=P.makeArray(s):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const a=P.makeArray(s);I.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const a=this.size;if(s>=a)return a;const c=this.bits;let u=Math.floor(s/32),f=c[u];f&=~((1<<(s&31))-1);const g=c.length;for(;f===0;){if(++u===g)return a;f=c[u]}const m=u*32+R.numberOfTrailingZeros(f);return m>a?a:m}getNextUnset(s){const a=this.size;if(s>=a)return a;const c=this.bits;let u=Math.floor(s/32),f=~c[u];f&=~((1<<(s&31))-1);const g=c.length;for(;f===0;){if(++u===g)return a;f=~c[u]}const m=u*32+R.numberOfTrailingZeros(f);return m>a?a:m}setBulk(s,a){this.bits[Math.floor(s/32)]=a}setRange(s,a){if(a<s||s<0||a>this.size)throw new w;if(a===s)return;a--;const c=Math.floor(s/32),u=Math.floor(a/32),f=this.bits;for(let g=c;g<=u;g++){const m=g>c?0:s&31,b=(2<<(g<u?31:a&31))-(1<<m);f[g]|=b}}clear(){const s=this.bits.length,a=this.bits;for(let c=0;c<s;c++)a[c]=0}isRange(s,a,c){if(a<s||s<0||a>this.size)throw new w;if(a===s)return!0;a--;const u=Math.floor(s/32),f=Math.floor(a/32),g=this.bits;for(let m=u;m<=f;m++){const y=m>u?0:s&31,S=(2<<(m<f?31:a&31))-(1<<y)&4294967295;if((g[m]&S)!==(c?S:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,a){if(a<0||a>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let c=a;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const a=s.size;this.ensureCapacity(this.size+a);for(let c=0;c<a;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new w("Sizes don't match");const a=this.bits;for(let c=0,u=a.length;c<u;c++)a[c]^=s.bits[c]}toBytes(s,a,c,u){for(let f=0;f<u;f++){let g=0;for(let m=0;m<8;m++)this.get(s)&&(g|=1<<7-m),s++;a[c+f]=g}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),c=a+1,u=this.bits;for(let f=0;f<c;f++){let g=u[f];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,s[a-f]=g}if(this.size!==c*32){const f=c*32-this.size;let g=s[0]>>>f;for(let m=1;m<c;m++){const y=s[m];g|=y<<32-f,s[m-1]=g,g=y>>>f}s[c-1]=g}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof P))return!1;const a=s;return this.size===a.size&&M.equals(this.bits,a.bits)}hashCode(){return 31*this.size+M.hashCode(this.bits)}toString(){let s="";for(let a=0,c=this.size;a<c;a++)a&7||(s+=" "),s+=this.get(a)?"X":".";return s}clone(){return new P(this.size,this.bits.slice())}}var F;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var z=F;class A extends p{static getFormatInstance(){return new A}}A.kind="FormatException";var j;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(j||(j={}));class U{constructor(s,a,c,...u){this.valueIdentifier=s,this.name=c,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=u,U.VALUE_IDENTIFIER_TO_ECI.set(s,this),U.NAME_TO_ECI.set(c,this);const f=this.values;for(let g=0,m=f.length;g!==m;g++){const y=f[g];U.VALUES_TO_ECI.set(y,this)}for(const g of u)U.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new A("incorect value");const a=U.VALUES_TO_ECI.get(s);if(a===void 0)throw new A("incorect value");return a}static getCharacterSetECIByName(s){const a=U.NAME_TO_ECI.get(s);if(a===void 0)throw new A("incorect value");return a}equals(s){if(!(s instanceof U))return!1;const a=s;return this.getName()===a.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(j.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(j.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(j.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(j.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(j.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(j.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(j.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(j.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(j.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(j.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(j.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(j.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(j.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(j.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(j.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(j.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(j.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(j.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(j.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(j.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(j.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(j.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(j.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(j.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(j.Big5,28,"Big5"),U.GB18030=new U(j.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(j.EUC_KR,30,"EUC_KR","EUC-KR");class J extends p{}J.kind="UnsupportedOperationException";class ce{static decode(s,a){const c=this.encodingName(a);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!ce.isBrowser()&&s==="ISO-8859-1"}static encode(s,a){const c=this.encodingName(a);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof U?s:U.getCharacterSetECIByName(s)}static decodeFallback(s,a){const c=this.encodingCharacterSet(a);if(ce.isDecodeFallbackSupported(c)){let u="";for(let f=0,g=s.length;f<g;f++){let m=s[f].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(c.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new J(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(U.UTF8)||s.equals(U.ISO8859_1)||s.equals(U.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let f=0;f<c.length;f++)u.push(c[f].charCodeAt(0));return new Uint8Array(u)}}class se{static castAsNonUtf8Char(s,a=null){const c=a?a.getName():this.ISO88591;return ce.decode(new Uint8Array([s]),c)}static guessEncoding(s,a){if(a!=null&&a.get(z.CHARACTER_SET)!==void 0)return a.get(z.CHARACTER_SET).toString();const c=s.length;let u=!0,f=!0,g=!0,m=0,y=0,b=0,S=0,N=0,k=0,B=0,Y=0,G=0,K=0,ie=0;const ve=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let Ce=0;Ce<c&&(u||f||g);Ce++){const me=s[Ce]&255;g&&(m>0?me&128?m--:g=!1:me&128&&(me&64?(m++,me&32?(m++,me&16?(m++,me&8?g=!1:S++):b++):y++):g=!1)),u&&(me>127&&me<160?u=!1:me>159&&(me<192||me===215||me===247)&&ie++),f&&(N>0?me<64||me===127||me>252?f=!1:N--:me===128||me===160||me>239?f=!1:me>160&&me<224?(k++,Y=0,B++,B>G&&(G=B)):me>127?(N++,B=0,Y++,Y>K&&(K=Y)):(B=0,Y=0))}return g&&m>0&&(g=!1),f&&N>0&&(f=!1),g&&(ve||y+b+S>0)?se.UTF8:f&&(se.ASSUME_SHIFT_JIS||G>=3||K>=3)?se.SHIFT_JIS:u&&f?G===2&&k===2||ie*10>=c?se.SHIFT_JIS:se.ISO88591:u?se.ISO88591:f?se.SHIFT_JIS:g?se.UTF8:se.PLATFORM_DEFAULT_ENCODING}static format(s,...a){let c=-1;function u(g,m,y,b,S,N){if(g==="%%")return"%";if(a[++c]===void 0)return;g=b?parseInt(b.substr(1)):void 0;let k=S?parseInt(S.substr(1)):void 0,B;switch(N){case"s":B=a[c];break;case"c":B=a[c][0];break;case"f":B=parseFloat(a[c]).toFixed(g);break;case"p":B=parseFloat(a[c]).toPrecision(g);break;case"e":B=parseFloat(a[c]).toExponential(g);break;case"x":B=parseInt(a[c]).toString(k||16);break;case"d":B=parseFloat(parseInt(a[c],k||10).toPrecision(g)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(k);let Y=parseInt(y),G=y&&y[0]+""=="0"?"0":" ";for(;B.length<Y;)B=m!==void 0?B+G:G+B;return B}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(f,u)}static getBytes(s,a){return ce.encode(s,a)}static getCharCode(s,a=0){return s.charCodeAt(a)}static getCharAt(s){return String.fromCharCode(s)}}se.SHIFT_JIS=U.SJIS.getName(),se.GB2312="GB2312",se.ISO88591=U.ISO8859_1.getName(),se.EUC_JP="EUC_JP",se.UTF8=U.UTF8.getName(),se.PLATFORM_DEFAULT_ENCODING=se.UTF8,se.ASSUME_SHIFT_JIS=!1;class xe{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=se.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,a,c){for(let u=a;a<a+c;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)}substring(s,a){return this.value.substring(s,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+a.length)}}class Oe{constructor(s,a,c,u){if(this.width=s,this.height=a,this.rowSize=c,this.bits=u,a==null&&(a=s),this.height=a,s<1||a<1)throw new w("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const a=s.length,c=s[0].length,u=new Oe(c,a);for(let f=0;f<a;f++){const g=s[f];for(let m=0;m<c;m++)g[m]&&u.set(m,f)}return u}static parseFromString(s,a,c){if(s===null)throw new w("stringRepresentation cannot be null");const u=new Array(s.length);let f=0,g=0,m=-1,y=0,b=0;for(;b<s.length;)if(s.charAt(b)===`
`||s.charAt(b)==="\r"){if(f>g){if(m===-1)m=f-g;else if(f-g!==m)throw new w("row lengths do not match");g=f,y++}b++}else if(s.substring(b,b+a.length)===a)b+=a.length,u[f]=!0,f++;else if(s.substring(b,b+c.length)===c)b+=c.length,u[f]=!1,f++;else throw new w("illegal character encountered: "+s.substring(b));if(f>g){if(m===-1)m=f-g;else if(f-g!==m)throw new w("row lengths do not match");y++}const S=new Oe(m,y);for(let N=0;N<f;N++)u[N]&&S.set(Math.floor(N%m),Math.floor(N/m));return S}get(s,a){const c=a*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,a){const c=a*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,a){const c=a*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,a){const c=a*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new w("input matrix dimensions do not match");const a=new P(Math.floor(this.width/32)+1),c=this.rowSize,u=this.bits;for(let f=0,g=this.height;f<g;f++){const m=f*c,y=s.getRow(f,a).getBitArray();for(let b=0;b<c;b++)u[m+b]^=y[b]}}clear(){const s=this.bits,a=s.length;for(let c=0;c<a;c++)s[c]=0}setRegion(s,a,c,u){if(a<0||s<0)throw new w("Left and top must be nonnegative");if(u<1||c<1)throw new w("Height and width must be at least 1");const f=s+c,g=a+u;if(g>this.height||f>this.width)throw new w("The region must fit inside the matrix");const m=this.rowSize,y=this.bits;for(let b=a;b<g;b++){const S=b*m;for(let N=s;N<f;N++)y[S+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(s,a){a==null||a.getSize()<this.width?a=new P(this.width):a.clear();const c=this.rowSize,u=this.bits,f=s*c;for(let g=0;g<c;g++)a.setBulk(g*32,u[f+g]);return a}setRow(s,a){I.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),a=this.getHeight();let c=new P(s),u=new P(s);for(let f=0,g=Math.floor((a+1)/2);f<g;f++)c=this.getRow(f,c),u=this.getRow(a-1-f,u),c.reverse(),u.reverse(),this.setRow(f,u),this.setRow(a-1-f,c)}getEnclosingRectangle(){const s=this.width,a=this.height,c=this.rowSize,u=this.bits;let f=s,g=a,m=-1,y=-1;for(let b=0;b<a;b++)for(let S=0;S<c;S++){const N=u[b*c+S];if(N!==0){if(b<g&&(g=b),b>y&&(y=b),S*32<f){let k=0;for(;!(N<<31-k&4294967295);)k++;S*32+k<f&&(f=S*32+k)}if(S*32+31>m){let k=31;for(;!(N>>>k);)k--;S*32+k>m&&(m=S*32+k)}}}return m<f||y<g?null:Int32Array.from([f,g,m-f+1,y-g+1])}getTopLeftOnBit(){const s=this.rowSize,a=this.bits;let c=0;for(;c<a.length&&a[c]===0;)c++;if(c===a.length)return null;const u=c/s;let f=c%s*32;const g=a[c];let m=0;for(;!(g<<31-m&4294967295);)m++;return f+=m,Int32Array.from([f,u])}getBottomRightOnBit(){const s=this.rowSize,a=this.bits;let c=a.length-1;for(;c>=0&&a[c]===0;)c--;if(c<0)return null;const u=Math.floor(c/s);let f=Math.floor(c%s)*32;const g=a[c];let m=31;for(;!(g>>>m);)m--;return f+=m,Int32Array.from([f,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Oe))return!1;const a=s;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&M.equals(this.bits,a.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+M.hashCode(this.bits),s}toString(s="X ",a="  ",c=`
`){return this.buildToString(s,a,c)}buildToString(s,a,c){let u=new xe;for(let f=0,g=this.height;f<g;f++){for(let m=0,y=this.width;m<y;m++)u.append(this.get(m,f)?s:a);u.append(c)}return u.toString()}clone(){return new Oe(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends p{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class ke extends _{constructor(s){super(s),this.luminances=ke.EMPTY,this.buckets=new Int32Array(ke.LUMINANCE_BUCKETS)}getBlackRow(s,a){const c=this.getLuminanceSource(),u=c.getWidth();a==null||a.getSize()<u?a=new P(u):a.clear(),this.initArrays(u);const f=c.getRow(s,this.luminances),g=this.buckets;for(let y=0;y<u;y++)g[(f[y]&255)>>ke.LUMINANCE_SHIFT]++;const m=ke.estimateBlackPoint(g);if(u<3)for(let y=0;y<u;y++)(f[y]&255)<m&&a.set(y);else{let y=f[0]&255,b=f[1]&255;for(let S=1;S<u-1;S++){const N=f[S+1]&255;(b*4-y-N)/2<m&&a.set(S),y=b,b=N}}return a}getBlackMatrix(){const s=this.getLuminanceSource(),a=s.getWidth(),c=s.getHeight(),u=new Oe(a,c);this.initArrays(a);const f=this.buckets;for(let y=1;y<5;y++){const b=Math.floor(c*y/5),S=s.getRow(b,this.luminances),N=Math.floor(a*4/5);for(let k=Math.floor(a/5);k<N;k++){const B=S[k]&255;f[B>>ke.LUMINANCE_SHIFT]++}}const g=ke.estimateBlackPoint(f),m=s.getMatrix();for(let y=0;y<c;y++){const b=y*a;for(let S=0;S<a;S++)(m[b+S]&255)<g&&u.set(S,y)}return u}createBinarizer(s){return new ke(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const a=this.buckets;for(let c=0;c<ke.LUMINANCE_BUCKETS;c++)a[c]=0}static estimateBlackPoint(s){const a=s.length;let c=0,u=0,f=0;for(let S=0;S<a;S++)s[S]>f&&(u=S,f=s[S]),s[S]>c&&(c=s[S]);let g=0,m=0;for(let S=0;S<a;S++){const N=S-u,k=s[S]*N*N;k>m&&(g=S,m=k)}if(u>g){const S=u;u=g,g=S}if(g-u<=a/16)throw new X;let y=g-1,b=-1;for(let S=g-1;S>u;S--){const N=S-u,k=N*N*(g-S)*(c-s[S]);k>b&&(y=S,b=k)}return y<<ke.LUMINANCE_SHIFT}}ke.LUMINANCE_BITS=5,ke.LUMINANCE_SHIFT=8-ke.LUMINANCE_BITS,ke.LUMINANCE_BUCKETS=1<<ke.LUMINANCE_BITS,ke.EMPTY=Uint8ClampedArray.from([0]);class be extends ke{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),a=s.getWidth(),c=s.getHeight();if(a>=be.MINIMUM_DIMENSION&&c>=be.MINIMUM_DIMENSION){const u=s.getMatrix();let f=a>>be.BLOCK_SIZE_POWER;a&be.BLOCK_SIZE_MASK&&f++;let g=c>>be.BLOCK_SIZE_POWER;c&be.BLOCK_SIZE_MASK&&g++;const m=be.calculateBlackPoints(u,f,g,a,c),y=new Oe(a,c);be.calculateThresholdForBlock(u,f,g,a,c,m,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new be(s)}static calculateThresholdForBlock(s,a,c,u,f,g,m){const y=f-be.BLOCK_SIZE,b=u-be.BLOCK_SIZE;for(let S=0;S<c;S++){let N=S<<be.BLOCK_SIZE_POWER;N>y&&(N=y);const k=be.cap(S,2,c-3);for(let B=0;B<a;B++){let Y=B<<be.BLOCK_SIZE_POWER;Y>b&&(Y=b);const G=be.cap(B,2,a-3);let K=0;for(let ve=-2;ve<=2;ve++){const Ce=g[k+ve];K+=Ce[G-2]+Ce[G-1]+Ce[G]+Ce[G+1]+Ce[G+2]}const ie=K/25;be.thresholdBlock(s,Y,N,ie,u,m)}}}static cap(s,a,c){return s<a?a:s>c?c:s}static thresholdBlock(s,a,c,u,f,g){for(let m=0,y=c*f+a;m<be.BLOCK_SIZE;m++,y+=f)for(let b=0;b<be.BLOCK_SIZE;b++)(s[y+b]&255)<=u&&g.set(a+b,c+m)}static calculateBlackPoints(s,a,c,u,f){const g=f-be.BLOCK_SIZE,m=u-be.BLOCK_SIZE,y=new Array(c);for(let b=0;b<c;b++){y[b]=new Int32Array(a);let S=b<<be.BLOCK_SIZE_POWER;S>g&&(S=g);for(let N=0;N<a;N++){let k=N<<be.BLOCK_SIZE_POWER;k>m&&(k=m);let B=0,Y=255,G=0;for(let ie=0,ve=S*u+k;ie<be.BLOCK_SIZE;ie++,ve+=u){for(let Ce=0;Ce<be.BLOCK_SIZE;Ce++){const me=s[ve+Ce]&255;B+=me,me<Y&&(Y=me),me>G&&(G=me)}if(G-Y>be.MIN_DYNAMIC_RANGE)for(ie++,ve+=u;ie<be.BLOCK_SIZE;ie++,ve+=u)for(let Ce=0;Ce<be.BLOCK_SIZE;Ce++)B+=s[ve+Ce]&255}let K=B>>be.BLOCK_SIZE_POWER*2;if(G-Y<=be.MIN_DYNAMIC_RANGE&&(K=Y/2,b>0&&N>0)){const ie=(y[b-1][N]+2*y[b][N-1]+y[b-1][N-1])/4;Y<ie&&(K=ie)}y[b][N]=K}}return y}}be.BLOCK_SIZE_POWER=3,be.BLOCK_SIZE=1<<be.BLOCK_SIZE_POWER,be.BLOCK_SIZE_MASK=be.BLOCK_SIZE-1,be.MINIMUM_DIMENSION=be.BLOCK_SIZE*5,be.MIN_DYNAMIC_RANGE=24;class oe{constructor(s,a){this.width=s,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,a,c,u){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let a=new xe;for(let c=0;c<this.height;c++){const u=this.getRow(c,s);for(let f=0;f<this.width;f++){const g=u[f]&255;let m;g<64?m="#":g<128?m="+":g<192?m=".":m=" ",a.append(m)}a.append(`
`)}return a.toString()}}class ge extends oe{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,a){const c=this.delegate.getRow(s,a),u=this.getWidth();for(let f=0;f<u;f++)c[f]=255-(c[f]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(a);for(let u=0;u<a;u++)c[u]=255-(s[u]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,a,c,u){return new ge(this.delegate.crop(s,a,c,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class pe extends oe{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const a=s.getContext("2d").getImageData(0,0,s.width,s.height);return pe.toGrayscaleBuffer(a.data,s.width,s.height)}static toGrayscaleBuffer(s,a,c){const u=new Uint8ClampedArray(a*c);for(let f=0,g=0,m=s.length;f<m;f+=4,g++){let y;if(s[f+3]===0)y=255;else{const S=s[f],N=s[f+1],k=s[f+2];y=306*S+601*N+117*k+512>>10}u[g]=y}return u}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const c=this.getWidth(),u=s*c;return a===null?a=this.buffer.slice(u,u+c):(a.length<c&&(a=new Uint8ClampedArray(c)),a.set(this.buffer.slice(u,u+c))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,a,c,u){return super.crop(s,a,c,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const a=this.getTempCanvasElement(),c=a.getContext("2d"),u=s*pe.DEGREE_TO_RADIANS,f=this.canvas.width,g=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*f+Math.abs(Math.sin(u))*g),y=Math.ceil(Math.abs(Math.sin(u))*f+Math.abs(Math.cos(u))*g);return a.width=m,a.height=y,c.translate(m/2,y/2),c.rotate(u),c.drawImage(this.canvas,f/-2,g/-2),this.buffer=pe.makeBufferFromCanvasImageData(a),this}invert(){return new ge(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Pe{constructor(s,a,c){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||Ka||self||window||void 0)&&(globalThis||Ka||self||window||void 0).__awaiter||function(T,s,a,c){function u(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function m(S){try{b(c.next(S))}catch(N){g(N)}}function y(S){try{b(c.throw(S))}catch(N){g(N)}}function b(S){S.done?f(S.value):u(S.value).then(m,y)}b((c=c.apply(T,s||[])).next())})};class Ue{constructor(s,a=500,c){this.reader=s,this.timeBetweenScansMillis=a,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const c of s){const u=c.kind==="video"?"videoinput":c.kind;if(u!=="videoinput")continue;const f=c.deviceId||c.id,g=c.label||`Video device ${a.length+1}`,m=c.groupId,y={deviceId:f,label:g,kind:u,groupId:m};a.push(y)}return a})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new Pe(a.deviceId,a.label))})}findDeviceById(s){return Ae(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,a){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,a)})}decodeOnceFromVideoDevice(s,a){return Ae(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(s,a){return Ae(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,a)})}decodeOnceFromStream(s,a){return Ae(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,a);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,a,c){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,a,c)})}decodeFromVideoDevice(s,a,c){return Ae(this,void 0,void 0,function*(){let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const f={video:u};return yield this.decodeFromConstraints(f,a,c)})}decodeFromConstraints(s,a,c){return Ae(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,a,c)})}decodeFromStream(s,a,c){return Ae(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,a);return yield this.decodeContinuously(u,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,a){return Ae(this,void 0,void 0,function*(){const c=this.prepareVideoElement(a);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((a,c)=>this.playVideoOnLoad(s,()=>a()))}playVideoOnLoad(s,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,a){const c=document.getElementById(s);if(!c)throw new x(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==a.toLowerCase())throw new x(`element with id '${s}' must be an ${a} element`);return c}decodeFromImage(s,a){if(!s&&!a)throw new x("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)}decodeFromVideo(s,a){if(!s&&!a)throw new x("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,a,c){if(s===void 0&&a===void 0)throw new x("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new x("An image element must be provided.");this.reset();const a=this.prepareImageElement(s);this.imageElement=a;let c;return this.isImageLoaded(a)?c=this.decodeOnce(a,!1,!0):c=this._decodeOnLoadImage(a),c}decodeFromVideoElement(s){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(s,a){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,a)}_decodeFromVideoElementSetup(s){if(!s)throw new x("A video element must be provided.");this.reset();const a=this.prepareVideoElement(s);return this.videoElement=a,a}decodeFromImageUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const c=this._decodeOnLoadImage(a);return a.src=s,c}decodeFromVideoUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElement(a);return a.src=s,c}decodeFromVideoUrlContinuously(s,a){if(!s)throw new x("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(c,a);return c.src=s,u}_decodeOnLoadImage(s){return new Promise((a,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(a,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,a){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,a)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let a;return typeof s>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a}prepareVideoElement(s){let a;return!s&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(s,a=!0,c=!0){this._stopAsyncDecode=!1;const u=(f,g)=>{if(this._stopAsyncDecode){g(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(s);f(m)}catch(m){const y=a&&m instanceof X,S=(m instanceof E||m instanceof A)&&c;if(y||S)return setTimeout(u,this._timeBetweenDecodingAttempts,f,g);g(m)}};return new Promise((f,g)=>u(f,g))}decodeContinuously(s,a){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(s);a(u,null),setTimeout(c,this.timeBetweenScansMillis)}catch(u){a(null,u);const f=u instanceof E||u instanceof A,g=u instanceof X;(f||g)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const a=this.createBinaryBitmap(s);return this.decodeBitmap(a)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,a,c){a||(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(s,a,c=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const a=this.getCaptureCanvas(s),c=new pe(a),u=new be(c);return new C(u)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let c,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),a.style.width=c+"px",a.style.height=u+"px",a.width=c,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Ie{constructor(s,a,c=a==null?0:8*a.length,u,f,g=I.currentTimeMillis()){this.text=s,this.rawBytes=a,this.numBits=c,this.resultPoints=u,this.format=f,this.timestamp=g,this.text=s,this.rawBytes=a,c==null?this.numBits=a==null?0:8*a.length:this.numBits=c,this.resultPoints=u,this.format=f,this.resultMetadata=null,g==null?this.timestamp=I.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const a=this.resultPoints;if(a===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(a.length+s.length);I.arraycopy(a,0,c,0,a.length),I.arraycopy(s,0,c,a.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ze;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var ye=ze,mt;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(mt||(mt={}));var at=mt;class Vt{constructor(s,a,c,u,f=-1,g=-1){this.rawBytes=s,this.text=a,this.byteSegments=c,this.ecLevel=u,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=g,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class mn{exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}static addOrSubtract(s,a){return s^a}}class st{constructor(s,a){if(a.length===0)throw new w;this.field=s;const c=a.length;if(c>1&&a[0]===0){let u=1;for(;u<c&&a[u]===0;)u++;u===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-u),I.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const a=this.coefficients;let c;if(s===1){c=0;for(let g=0,m=a.length;g!==m;g++){const y=a[g];c=mn.addOrSubtract(c,y)}return c}c=a[0];const u=a.length,f=this.field;for(let g=1;g<u;g++)c=mn.addOrSubtract(f.multiply(s,c),a[g]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,c=s.coefficients;if(a.length>c.length){const g=a;a=c,c=g}let u=new Int32Array(c.length);const f=c.length-a.length;I.arraycopy(c,0,u,0,f);for(let g=f;g<c.length;g++)u[g]=mn.addOrSubtract(a[g-f],c[g]);return new st(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const a=this.coefficients,c=a.length,u=s.coefficients,f=u.length,g=new Int32Array(c+f-1),m=this.field;for(let y=0;y<c;y++){const b=a[y];for(let S=0;S<f;S++)g[y+S]=mn.addOrSubtract(g[y+S],m.multiply(b,u[S]))}return new st(m,g)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const a=this.coefficients.length,c=this.field,u=new Int32Array(a),f=this.coefficients;for(let g=0;g<a;g++)u[g]=c.multiply(f[g],s);return new st(c,u)}multiplyByMonomial(s,a){if(s<0)throw new w;if(a===0)return this.field.getZero();const c=this.coefficients,u=c.length,f=new Int32Array(u+s),g=this.field;for(let m=0;m<u;m++)f[m]=g.multiply(c[m],a);return new st(g,f)}divide(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new w("Divide by 0");const a=this.field;let c=a.getZero(),u=this;const f=s.getCoefficient(s.getDegree()),g=a.inverse(f);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const m=u.getDegree()-s.getDegree(),y=a.multiply(u.getCoefficient(u.getDegree()),g),b=s.multiplyByMonomial(m,y),S=a.buildMonomial(m,y);c=c.addOrSubtract(S),u=u.addOrSubtract(b)}return[c,u]}toString(){let s="";for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),a===0||c!==1){const u=this.field.log(c);u===0?s+="1":u===1?s+="a":(s+="a^",s+=u)}a!==0&&(a===1?s+="x":(s+="x^",s+=a))}}return s}}class nt extends p{}nt.kind="ArithmeticException";class We extends mn{constructor(s,a,c){super(),this.primitive=s,this.size=a,this.generatorBase=c;const u=new Int32Array(a);let f=1;for(let m=0;m<a;m++)u[m]=f,f*=2,f>=a&&(f^=s,f&=a-1);this.expTable=u;const g=new Int32Array(a);for(let m=0;m<a-1;m++)g[u[m]]=m;this.logTable=g,this.zero=new st(this,Int32Array.from([0])),this.one=new st(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new w;if(a===0)return this.zero;const c=new Int32Array(s+1);return c[0]=a,new st(this,c)}inverse(s){if(s===0)throw new nt;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}We.AZTEC_DATA_12=new We(4201,4096,1),We.AZTEC_DATA_10=new We(1033,1024,1),We.AZTEC_DATA_6=new We(67,64,1),We.AZTEC_PARAM=new We(19,16,1),We.QR_CODE_FIELD_256=new We(285,256,0),We.DATA_MATRIX_FIELD_256=new We(301,256,1),We.AZTEC_DATA_8=We.DATA_MATRIX_FIELD_256,We.MAXICODE_FIELD_64=We.AZTEC_DATA_6;class Kr extends p{}Kr.kind="ReedSolomonException";class er extends p{}er.kind="IllegalStateException";class Gn{constructor(s){this.field=s}decode(s,a){const c=this.field,u=new st(c,s),f=new Int32Array(a);let g=!0;for(let B=0;B<a;B++){const Y=u.evaluateAt(c.exp(B+c.getGeneratorBase()));f[f.length-1-B]=Y,Y!==0&&(g=!1)}if(g)return;const m=new st(c,f),y=this.runEuclideanAlgorithm(c.buildMonomial(a,1),m,a),b=y[0],S=y[1],N=this.findErrorLocations(b),k=this.findErrorMagnitudes(S,N);for(let B=0;B<N.length;B++){const Y=s.length-1-c.log(N[B]);if(Y<0)throw new Kr("Bad error location");s[Y]=We.addOrSubtract(s[Y],k[B])}}runEuclideanAlgorithm(s,a,c){if(s.getDegree()<a.getDegree()){const B=s;s=a,a=B}const u=this.field;let f=s,g=a,m=u.getZero(),y=u.getOne();for(;g.getDegree()>=(c/2|0);){let B=f,Y=m;if(f=g,m=y,f.isZero())throw new Kr("r_{i-1} was zero");g=B;let G=u.getZero();const K=f.getCoefficient(f.getDegree()),ie=u.inverse(K);for(;g.getDegree()>=f.getDegree()&&!g.isZero();){const ve=g.getDegree()-f.getDegree(),Ce=u.multiply(g.getCoefficient(g.getDegree()),ie);G=G.addOrSubtract(u.buildMonomial(ve,Ce)),g=g.addOrSubtract(f.multiplyByMonomial(ve,Ce))}if(y=G.multiply(m).addOrSubtract(Y),g.getDegree()>=f.getDegree())throw new er("Division algorithm failed to reduce polynomial?")}const b=y.getCoefficient(0);if(b===0)throw new Kr("sigmaTilde(0) was zero");const S=u.inverse(b),N=y.multiplyScalar(S),k=g.multiplyScalar(S);return[N,k]}findErrorLocations(s){const a=s.getDegree();if(a===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(a);let u=0;const f=this.field;for(let g=1;g<f.getSize()&&u<a;g++)s.evaluateAt(g)===0&&(c[u]=f.inverse(g),u++);if(u!==a)throw new Kr("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,a){const c=a.length,u=new Int32Array(c),f=this.field;for(let g=0;g<c;g++){const m=f.inverse(a[g]);let y=1;for(let b=0;b<c;b++)if(g!==b){const S=f.multiply(a[b],m),N=S&1?S&-2:S|1;y=f.multiply(y,N)}u[g]=f.multiply(s.evaluateAt(m),f.inverse(y)),f.getGeneratorBase()!==0&&(u[g]=f.multiply(u[g],m))}return u}}var Zt;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(Zt||(Zt={}));class ht{decode(s){this.ddata=s;let a=s.getBits(),c=this.extractBits(a),u=this.correctBits(c),f=ht.convertBoolArrayToByteArray(u),g=ht.getEncodedData(u),m=new Vt(f,g,null,null);return m.setNumBits(u.length),m}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let a=s.length,c=Zt.UPPER,u=Zt.UPPER,f="",g=0;for(;g<a;)if(u===Zt.BINARY){if(a-g<5)break;let m=ht.readCode(s,g,5);if(g+=5,m===0){if(a-g<11)break;m=ht.readCode(s,g,11)+31,g+=11}for(let y=0;y<m;y++){if(a-g<8){g=a;break}const b=ht.readCode(s,g,8);f+=se.castAsNonUtf8Char(b),g+=8}u=c}else{let m=u===Zt.DIGIT?4:5;if(a-g<m)break;let y=ht.readCode(s,g,m);g+=m;let b=ht.getCharacter(u,y);b.startsWith("CTRL_")?(c=u,u=ht.getTable(b.charAt(5)),b.charAt(6)==="L"&&(c=u)):(f+=b,u=c)}return f}static getTable(s){switch(s){case"L":return Zt.LOWER;case"P":return Zt.PUNCT;case"M":return Zt.MIXED;case"D":return Zt.DIGIT;case"B":return Zt.BINARY;case"U":default:return Zt.UPPER}}static getCharacter(s,a){switch(s){case Zt.UPPER:return ht.UPPER_TABLE[a];case Zt.LOWER:return ht.LOWER_TABLE[a];case Zt.MIXED:return ht.MIXED_TABLE[a];case Zt.PUNCT:return ht.PUNCT_TABLE[a];case Zt.DIGIT:return ht.DIGIT_TABLE[a];default:throw new er("Bad table")}}correctBits(s){let a,c;this.ddata.getNbLayers()<=2?(c=6,a=We.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,a=We.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,a=We.AZTEC_DATA_10):(c=12,a=We.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),f=s.length/c;if(f<u)throw new A;let g=s.length%c,m=new Int32Array(f);for(let k=0;k<f;k++,g+=c)m[k]=ht.readCode(s,g,c);try{new Gn(a).decode(m,f-u)}catch(k){throw new A(k)}let y=(1<<c)-1,b=0;for(let k=0;k<u;k++){let B=m[k];if(B===0||B===y)throw new A;(B===1||B===y-1)&&b++}let S=new Array(u*c-b),N=0;for(let k=0;k<u;k++){let B=m[k];if(B===1||B===y-1)S.fill(B>1,N,N+c-1),N+=c-1;else for(let Y=c-1;Y>=0;--Y)S[N++]=(B&1<<Y)!==0}return S}extractBits(s){let a=this.ddata.isCompact(),c=this.ddata.getNbLayers(),u=(a?11:14)+c*4,f=new Int32Array(u),g=new Array(this.totalBitsInLayer(c,a));if(a)for(let m=0;m<f.length;m++)f[m]=m;else{let m=u+1+2*R.truncDivision(R.truncDivision(u,2)-1,15),y=u/2,b=R.truncDivision(m,2);for(let S=0;S<y;S++){let N=S+R.truncDivision(S,15);f[y-S-1]=b-N-1,f[y+S]=b+N+1}}for(let m=0,y=0;m<c;m++){let b=(c-m)*4+(a?9:12),S=m*2,N=u-1-S;for(let k=0;k<b;k++){let B=k*2;for(let Y=0;Y<2;Y++)g[y+B+Y]=s.get(f[S+Y],f[S+k]),g[y+2*b+B+Y]=s.get(f[S+k],f[N-Y]),g[y+4*b+B+Y]=s.get(f[N-Y],f[N-k]),g[y+6*b+B+Y]=s.get(f[N-k],f[S+Y])}y+=b*8}return g}static readCode(s,a,c){let u=0;for(let f=a;f<a+c;f++)u<<=1,s[f]&&(u|=1);return u}static readByte(s,a){let c=s.length-a;return c>=8?ht.readCode(s,a,8):ht.readCode(s,a,c)<<8-c}static convertBoolArrayToByteArray(s){let a=new Uint8Array((s.length+7)/8);for(let c=0;c<a.length;c++)a[c]=ht.readByte(s,8*c);return a}totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}ht.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ht.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ht.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ht.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ht.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,a,c,u){const f=s-c,g=a-u;return Math.sqrt(f*f+g*g)}static sum(s){let a=0;for(let c=0,u=s.length;c!==u;c++){const f=s[c];a+=f}return a}}class pi{static floatToIntBits(s){return s}}pi.MAX_VALUE=Number.MAX_SAFE_INTEGER;class De{constructor(s,a){this.x=s,this.y=a}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof De){const a=s;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*pi.floatToIntBits(this.x)+pi.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const a=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let f,g,m;if(c>=a&&c>=u?(g=s[0],f=s[1],m=s[2]):u>=c&&u>=a?(g=s[1],f=s[0],m=s[2]):(g=s[2],f=s[0],m=s[1]),this.crossProductZ(f,g,m)<0){const y=f;f=m,m=y}s[0]=f,s[1]=g,s[2]=m}static distance(s,a){return rt.distance(s.x,s.y,a.x,a.y)}static crossProductZ(s,a,c){const u=a.x,f=a.y;return(c.x-u)*(s.y-f)-(c.y-f)*(s.x-u)}}class Nn{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class mi extends Nn{constructor(s,a,c,u,f){super(s,a),this.compact=c,this.nbDatablocks=u,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Xn{constructor(s,a,c,u){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),a==null&&(a=Xn.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),u==null&&(u=s.getHeight()/2|0);const f=a/2|0;if(this.leftInit=c-f,this.rightInit=c+f,this.upInit=u-f,this.downInit=u+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let s=this.leftInit,a=this.rightInit,c=this.upInit,u=this.downInit,f=!1,g=!0,m=!1,y=!1,b=!1,S=!1,N=!1;const k=this.width,B=this.height;for(;g;){g=!1;let Y=!0;for(;(Y||!y)&&a<k;)Y=this.containsBlackPoint(c,u,a,!1),Y?(a++,g=!0,y=!0):y||a++;if(a>=k){f=!0;break}let G=!0;for(;(G||!b)&&u<B;)G=this.containsBlackPoint(s,a,u,!0),G?(u++,g=!0,b=!0):b||u++;if(u>=B){f=!0;break}let K=!0;for(;(K||!S)&&s>=0;)K=this.containsBlackPoint(c,u,s,!1),K?(s--,g=!0,S=!0):S||s--;if(s<0){f=!0;break}let ie=!0;for(;(ie||!N)&&c>=0;)ie=this.containsBlackPoint(s,a,c,!0),ie?(c--,g=!0,N=!0):N||c--;if(c<0){f=!0;break}g&&(m=!0)}if(!f&&m){const Y=a-s;let G=null;for(let Ce=1;G===null&&Ce<Y;Ce++)G=this.getBlackPointOnSegment(s,u-Ce,s+Ce,u);if(G==null)throw new X;let K=null;for(let Ce=1;K===null&&Ce<Y;Ce++)K=this.getBlackPointOnSegment(s,c+Ce,s+Ce,c);if(K==null)throw new X;let ie=null;for(let Ce=1;ie===null&&Ce<Y;Ce++)ie=this.getBlackPointOnSegment(a,c+Ce,a-Ce,c);if(ie==null)throw new X;let ve=null;for(let Ce=1;ve===null&&Ce<Y;Ce++)ve=this.getBlackPointOnSegment(a,u-Ce,a-Ce,u);if(ve==null)throw new X;return this.centerEdges(ve,G,ie,K)}else throw new X}getBlackPointOnSegment(s,a,c,u){const f=rt.round(rt.distance(s,a,c,u)),g=(c-s)/f,m=(u-a)/f,y=this.image;for(let b=0;b<f;b++){const S=rt.round(s+b*g),N=rt.round(a+b*m);if(y.get(S,N))return new De(S,N)}return null}centerEdges(s,a,c,u){const f=s.getX(),g=s.getY(),m=a.getX(),y=a.getY(),b=c.getX(),S=c.getY(),N=u.getX(),k=u.getY(),B=Xn.CORR;return f<this.width/2?[new De(N-B,k+B),new De(m+B,y+B),new De(b-B,S-B),new De(f+B,g-B)]:[new De(N+B,k+B),new De(m+B,y-B),new De(b-B,S+B),new De(f-B,g-B)]}containsBlackPoint(s,a,c,u){const f=this.image;if(u){for(let g=s;g<=a;g++)if(f.get(g,c))return!0}else for(let g=s;g<=a;g++)if(f.get(c,g))return!0;return!1}}Xn.INIT_SIZE=10,Xn.CORR=1;class xi{static checkAndNudgePoints(s,a){const c=s.getWidth(),u=s.getHeight();let f=!0;for(let g=0;g<a.length&&f;g+=2){const m=Math.floor(a[g]),y=Math.floor(a[g+1]);if(m<-1||m>c||y<-1||y>u)throw new X;f=!1,m===-1?(a[g]=0,f=!0):m===c&&(a[g]=c-1,f=!0),y===-1?(a[g+1]=0,f=!0):y===u&&(a[g+1]=u-1,f=!0)}f=!0;for(let g=a.length-2;g>=0&&f;g-=2){const m=Math.floor(a[g]),y=Math.floor(a[g+1]);if(m<-1||m>c||y<-1||y>u)throw new X;f=!1,m===-1?(a[g]=0,f=!0):m===c&&(a[g]=c-1,f=!0),y===-1?(a[g+1]=0,f=!0):y===u&&(a[g+1]=u-1,f=!0)}}}class Qt{constructor(s,a,c,u,f,g,m,y,b){this.a11=s,this.a21=a,this.a31=c,this.a12=u,this.a22=f,this.a32=g,this.a13=m,this.a23=y,this.a33=b}static quadrilateralToQuadrilateral(s,a,c,u,f,g,m,y,b,S,N,k,B,Y,G,K){const ie=Qt.quadrilateralToSquare(s,a,c,u,f,g,m,y);return Qt.squareToQuadrilateral(b,S,N,k,B,Y,G,K).times(ie)}transformPoints(s){const a=s.length,c=this.a11,u=this.a12,f=this.a13,g=this.a21,m=this.a22,y=this.a23,b=this.a31,S=this.a32,N=this.a33;for(let k=0;k<a;k+=2){const B=s[k],Y=s[k+1],G=f*B+y*Y+N;s[k]=(c*B+g*Y+b)/G,s[k+1]=(u*B+m*Y+S)/G}}transformPointsWithValues(s,a){const c=this.a11,u=this.a12,f=this.a13,g=this.a21,m=this.a22,y=this.a23,b=this.a31,S=this.a32,N=this.a33,k=s.length;for(let B=0;B<k;B++){const Y=s[B],G=a[B],K=f*Y+y*G+N;s[B]=(c*Y+g*G+b)/K,a[B]=(u*Y+m*G+S)/K}}static squareToQuadrilateral(s,a,c,u,f,g,m,y){const b=s-c+f-m,S=a-u+g-y;if(b===0&&S===0)return new Qt(c-s,f-c,s,u-a,g-u,a,0,0,1);{const N=c-f,k=m-f,B=u-g,Y=y-g,G=N*Y-k*B,K=(b*Y-k*S)/G,ie=(N*S-b*B)/G;return new Qt(c-s+K*c,m-s+ie*m,s,u-a+K*u,y-a+ie*y,a,K,ie,1)}}static quadrilateralToSquare(s,a,c,u,f,g,m,y){return Qt.squareToQuadrilateral(s,a,c,u,f,g,m,y).buildAdjoint()}buildAdjoint(){return new Qt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Qt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class pr extends xi{sampleGrid(s,a,c,u,f,g,m,y,b,S,N,k,B,Y,G,K,ie,ve,Ce){const me=Qt.quadrilateralToQuadrilateral(u,f,g,m,y,b,S,N,k,B,Y,G,K,ie,ve,Ce);return this.sampleGridWithTransform(s,a,c,me)}sampleGridWithTransform(s,a,c,u){if(a<=0||c<=0)throw new X;const f=new Oe(a,c),g=new Float32Array(2*a);for(let m=0;m<c;m++){const y=g.length,b=m+.5;for(let S=0;S<y;S+=2)g[S]=S/2+.5,g[S+1]=b;u.transformPoints(g),xi.checkAndNudgePoints(s,g);try{for(let S=0;S<y;S+=2)s.get(Math.floor(g[S]),Math.floor(g[S+1]))&&f.set(S/2,m)}catch{throw new X}}return f}}class mr{static setGridSampler(s){mr.gridSampler=s}static getInstance(){return mr.gridSampler}}mr.gridSampler=new pr;class Wt{constructor(s,a){this.x=s,this.y=a}toResultPoint(){return new De(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Do{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let a=this.getMatrixCenter(),c=this.getBullsEyeCorners(a);if(s){let g=c[0];c[0]=c[2],c[2]=g}this.extractParameters(c);let u=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),f=this.getMatrixCornerPoints(c);return new mi(u,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new X;let a=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(c,a);let u=0;for(let g=0;g<4;g++){let m=c[(this.shift+g)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let f=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(s,a){let c=0;s.forEach((u,f,g)=>{let m=(u>>a-2<<1)+(u&1);c=(c<<3)+m}),c=((c&1)<<11)+(c>>1);for(let u=0;u<4;u++)if(R.bitCount(c^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new X}getCorrectedParameterData(s,a){let c,u;a?(c=7,u=2):(c=10,u=4);let f=c-u,g=new Int32Array(c);for(let y=c-1;y>=0;--y)g[y]=s&15,s>>=4;try{new Gn(We.AZTEC_PARAM).decode(g,f)}catch{throw new X}let m=0;for(let y=0;y<u;y++)m=(m<<4)+g[y];return m}getBullsEyeCorners(s){let a=s,c=s,u=s,f=s,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(a,g,1,-1),k=this.getFirstDifferent(c,g,1,1),B=this.getFirstDifferent(u,g,-1,1),Y=this.getFirstDifferent(f,g,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(Y,N)*this.nbCenterLayers/(this.distancePoint(f,a)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(N,k,B,Y))break}a=N,c=k,u=B,f=Y,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let m=new De(a.getX()+.5,a.getY()-.5),y=new De(c.getX()+.5,c.getY()+.5),b=new De(u.getX()-.5,u.getY()+.5),S=new De(f.getX()-.5,f.getY()-.5);return this.expandSquare([m,y,b,S],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,a,c,u;try{let m=new Xn(this.image).detect();s=m[0],a=m[1],c=m[2],u=m[3]}catch{let y=this.image.getWidth()/2,b=this.image.getHeight()/2;s=this.getFirstDifferent(new Wt(y+7,b-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Wt(y+7,b+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Wt(y-7,b+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Wt(y-7,b-7),!1,-1,-1).toResultPoint()}let f=rt.round((s.getX()+u.getX()+a.getX()+c.getX())/4),g=rt.round((s.getY()+u.getY()+a.getY()+c.getY())/4);try{let m=new Xn(this.image,15,f,g).detect();s=m[0],a=m[1],c=m[2],u=m[3]}catch{s=this.getFirstDifferent(new Wt(f+7,g-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Wt(f+7,g+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Wt(f-7,g+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new Wt(f-7,g-7),!1,-1,-1).toResultPoint()}return f=rt.round((s.getX()+u.getX()+a.getX()+c.getX())/4),g=rt.round((s.getY()+u.getY()+a.getY()+c.getY())/4),new Wt(f,g)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,a,c,u,f){let g=mr.getInstance(),m=this.getDimension(),y=m/2-this.nbCenterLayers,b=m/2+this.nbCenterLayers;return g.sampleGrid(s,m,m,y,y,b,y,b,b,y,b,a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY(),f.getX(),f.getY())}sampleLine(s,a,c){let u=0,f=this.distanceResultPoint(s,a),g=f/c,m=s.getX(),y=s.getY(),b=g*(a.getX()-s.getX())/f,S=g*(a.getY()-s.getY())/f;for(let N=0;N<c;N++)this.image.get(rt.round(m+N*b),rt.round(y+N*S))&&(u|=1<<c-N-1);return u}isWhiteOrBlackRectangle(s,a,c,u){let f=3;s=new Wt(s.getX()-f,s.getY()+f),a=new Wt(a.getX()-f,a.getY()-f),c=new Wt(c.getX()+f,c.getY()-f),u=new Wt(u.getX()+f,u.getY()+f);let g=this.getColor(u,s);if(g===0)return!1;let m=this.getColor(s,a);return m!==g||(m=this.getColor(a,c),m!==g)?!1:(m=this.getColor(c,u),m===g)}getColor(s,a){let c=this.distancePoint(s,a),u=(a.getX()-s.getX())/c,f=(a.getY()-s.getY())/c,g=0,m=s.getX(),y=s.getY(),b=this.image.get(s.getX(),s.getY()),S=Math.ceil(c);for(let k=0;k<S;k++)m+=u,y+=f,this.image.get(rt.round(m),rt.round(y))!==b&&g++;let N=g/c;return N>.1&&N<.9?0:N<=.1===b?1:-1}getFirstDifferent(s,a,c,u){let f=s.getX()+c,g=s.getY()+u;for(;this.isValid(f,g)&&this.image.get(f,g)===a;)f+=c,g+=u;for(f-=c,g-=u;this.isValid(f,g)&&this.image.get(f,g)===a;)f+=c;for(f-=c;this.isValid(f,g)&&this.image.get(f,g)===a;)g+=u;return g-=u,new Wt(f,g)}expandSquare(s,a,c){let u=c/(2*a),f=s[0].getX()-s[2].getX(),g=s[0].getY()-s[2].getY(),m=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,b=new De(m+u*f,y+u*g),S=new De(m-u*f,y-u*g);f=s[1].getX()-s[3].getX(),g=s[1].getY()-s[3].getY(),m=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2;let N=new De(m+u*f,y+u*g),k=new De(m-u*f,y-u*g);return[b,N,S,k]}isValid(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(s){let a=rt.round(s.getX()),c=rt.round(s.getY());return this.isValid(a,c)}distancePoint(s,a){return rt.distance(s.getX(),s.getY(),a.getX(),a.getY())}distanceResultPoint(s,a){return rt.distance(s.getX(),s.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Bn{decode(s,a=null){let c=null,u=new Do(s.getBlackMatrix()),f=null,g=null;try{let S=u.detectMirror(!1);f=S.getPoints(),this.reportFoundResultPoints(a,f),g=new ht().decode(S)}catch(S){c=S}if(g==null)try{let S=u.detectMirror(!0);f=S.getPoints(),this.reportFoundResultPoints(a,f),g=new ht().decode(S)}catch(S){throw c??S}let m=new Ie(g.getText(),g.getRawBytes(),g.getNumBits(),f,ye.AZTEC,I.currentTimeMillis()),y=g.getByteSegments();y!=null&&m.putMetadata(at.BYTE_SEGMENTS,y);let b=g.getECLevel();return b!=null&&m.putMetadata(at.ERROR_CORRECTION_LEVEL,b),m}reportFoundResultPoints(s,a){if(s!=null){let c=s.get(z.NEED_RESULT_POINT_CALLBACK);c!=null&&a.forEach((u,f,g)=>{c.foundPossibleResultPoint(u)})}}reset(){}}class Bi extends Ue{constructor(s=500){super(new Bn,s)}}class _t{decode(s,a){try{return this.doDecode(s,a)}catch{if(a&&a.get(z.TRY_HARDER)===!0&&s.isRotateSupported()){const f=s.rotateCounterClockwise(),g=this.doDecode(f,a),m=g.getResultMetadata();let y=270;m!==null&&m.get(at.ORIENTATION)===!0&&(y=y+m.get(at.ORIENTATION)%360),g.putMetadata(at.ORIENTATION,y);const b=g.getResultPoints();if(b!==null){const S=f.getHeight();for(let N=0;N<b.length;N++)b[N]=new De(S-b[N].getY()-1,b[N].getX())}return g}else throw new X}}reset(){}doDecode(s,a){const c=s.getWidth(),u=s.getHeight();let f=new P(c);const g=a&&a.get(z.TRY_HARDER)===!0,m=Math.max(1,u>>(g?8:5));let y;g?y=u:y=15;const b=Math.trunc(u/2);for(let S=0;S<y;S++){const N=Math.trunc((S+1)/2),k=(S&1)===0,B=b+m*(k?N:-N);if(B<0||B>=u)break;try{f=s.getBlackRow(B,f)}catch{continue}for(let Y=0;Y<2;Y++){if(Y===1&&(f.reverse(),a&&a.get(z.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;a.forEach((K,ie)=>G.set(ie,K)),G.delete(z.NEED_RESULT_POINT_CALLBACK),a=G}try{const G=this.decodeRow(B,f,a);if(Y===1){G.putMetadata(at.ORIENTATION,180);const K=G.getResultPoints();K!==null&&(K[0]=new De(c-K[0].getX()-1,K[0].getY()),K[1]=new De(c-K[1].getX()-1,K[1].getY()))}return G}catch{}}}throw new X}static recordPattern(s,a,c){const u=c.length;for(let b=0;b<u;b++)c[b]=0;const f=s.getSize();if(a>=f)throw new X;let g=!s.get(a),m=0,y=a;for(;y<f;){if(s.get(y)!==g)c[m]++;else{if(++m===u)break;c[m]=1,g=!g}y++}if(!(m===u||m===u-1&&y===f))throw new X}static recordPatternInReverse(s,a,c){let u=c.length,f=s.get(a);for(;a>0&&u>=0;)s.get(--a)!==f&&(u--,f=!f);if(u>=0)throw new X;_t.recordPattern(s,a+1,c)}static patternMatchVariance(s,a,c){const u=s.length;let f=0,g=0;for(let b=0;b<u;b++)f+=s[b],g+=a[b];if(f<g)return Number.POSITIVE_INFINITY;const m=f/g;c*=m;let y=0;for(let b=0;b<u;b++){const S=s[b],N=a[b]*m,k=S>N?S-N:N-S;if(k>c)return Number.POSITIVE_INFINITY;y+=k}return y/f}}class Se extends _t{static findStartPattern(s){const a=s.getSize(),c=s.getNextSet(0);let u=0,f=Int32Array.from([0,0,0,0,0,0]),g=c,m=!1;const y=6;for(let b=c;b<a;b++)if(s.get(b)!==m)f[u]++;else{if(u===y-1){let S=Se.MAX_AVG_VARIANCE,N=-1;for(let k=Se.CODE_START_A;k<=Se.CODE_START_C;k++){const B=_t.patternMatchVariance(f,Se.CODE_PATTERNS[k],Se.MAX_INDIVIDUAL_VARIANCE);B<S&&(S=B,N=k)}if(N>=0&&s.isRange(Math.max(0,g-(b-g)/2),g,!1))return Int32Array.from([g,b,N]);g+=f[0]+f[1],f=f.slice(2,f.length-1),f[u-1]=0,f[u]=0,u--}else u++;f[u]=1,m=!m}throw new X}static decodeCode(s,a,c){_t.recordPattern(s,c,a);let u=Se.MAX_AVG_VARIANCE,f=-1;for(let g=0;g<Se.CODE_PATTERNS.length;g++){const m=Se.CODE_PATTERNS[g],y=this.patternMatchVariance(a,m,Se.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,f=g)}if(f>=0)return f;throw new X}decodeRow(s,a,c){const u=c&&c.get(z.ASSUME_GS1)===!0,f=Se.findStartPattern(a),g=f[2];let m=0;const y=new Uint8Array(20);y[m++]=g;let b;switch(g){case Se.CODE_START_A:b=Se.CODE_CODE_A;break;case Se.CODE_START_B:b=Se.CODE_CODE_B;break;case Se.CODE_START_C:b=Se.CODE_CODE_C;break;default:throw new A}let S=!1,N=!1,k="",B=f[0],Y=f[1];const G=Int32Array.from([0,0,0,0,0,0]);let K=0,ie=0,ve=g,Ce=0,me=!0,lt=!1,Qe=!1;for(;!S;){const Fo=N;switch(N=!1,K=ie,ie=Se.decodeCode(a,G,Y),y[m++]=ie,ie!==Se.CODE_STOP&&(me=!0),ie!==Se.CODE_STOP&&(Ce++,ve+=Ce*ie),B=Y,Y+=G.reduce((hC,gC)=>hC+gC,0),ie){case Se.CODE_START_A:case Se.CODE_START_B:case Se.CODE_START_C:throw new A}switch(b){case Se.CODE_CODE_A:if(ie<64)Qe===lt?k+=String.fromCharCode(32+ie):k+=String.fromCharCode(32+ie+128),Qe=!1;else if(ie<96)Qe===lt?k+=String.fromCharCode(ie-64):k+=String.fromCharCode(ie+64),Qe=!1;else switch(ie!==Se.CODE_STOP&&(me=!1),ie){case Se.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_A:!lt&&Qe?(lt=!0,Qe=!1):lt&&Qe?(lt=!1,Qe=!1):Qe=!0;break;case Se.CODE_SHIFT:N=!0,b=Se.CODE_CODE_B;break;case Se.CODE_CODE_B:b=Se.CODE_CODE_B;break;case Se.CODE_CODE_C:b=Se.CODE_CODE_C;break;case Se.CODE_STOP:S=!0;break}break;case Se.CODE_CODE_B:if(ie<96)Qe===lt?k+=String.fromCharCode(32+ie):k+=String.fromCharCode(32+ie+128),Qe=!1;else switch(ie!==Se.CODE_STOP&&(me=!1),ie){case Se.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_B:!lt&&Qe?(lt=!0,Qe=!1):lt&&Qe?(lt=!1,Qe=!1):Qe=!0;break;case Se.CODE_SHIFT:N=!0,b=Se.CODE_CODE_A;break;case Se.CODE_CODE_A:b=Se.CODE_CODE_A;break;case Se.CODE_CODE_C:b=Se.CODE_CODE_C;break;case Se.CODE_STOP:S=!0;break}break;case Se.CODE_CODE_C:if(ie<100)ie<10&&(k+="0"),k+=ie;else switch(ie!==Se.CODE_STOP&&(me=!1),ie){case Se.CODE_FNC_1:u&&(k.length===0?k+="]C1":k+="");break;case Se.CODE_CODE_A:b=Se.CODE_CODE_A;break;case Se.CODE_CODE_B:b=Se.CODE_CODE_B;break;case Se.CODE_STOP:S=!0;break}break}Fo&&(b=b===Se.CODE_CODE_A?Se.CODE_CODE_B:Se.CODE_CODE_A)}const nr=Y-B;if(Y=a.getNextUnset(Y),!a.isRange(Y,Math.min(a.getSize(),Y+(Y-B)/2),!1))throw new X;if(ve-=Ce*K,ve%103!==K)throw new E;const qr=k.length;if(qr===0)throw new X;qr>0&&me&&(b===Se.CODE_CODE_C?k=k.substring(0,qr-2):k=k.substring(0,qr-1));const rr=(f[1]+f[0])/2,Tt=B+nr/2,Rn=y.length,xr=new Uint8Array(Rn);for(let Fo=0;Fo<Rn;Fo++)xr[Fo]=y[Fo];const jo=[new De(rr,s),new De(Tt,s)];return new Ie(k,xr,0,jo,ye.CODE_128,new Date().getTime())}}Se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Se.MAX_AVG_VARIANCE=.25,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.CODE_SHIFT=98,Se.CODE_CODE_C=99,Se.CODE_CODE_B=100,Se.CODE_CODE_A=101,Se.CODE_FNC_1=102,Se.CODE_FNC_2=97,Se.CODE_FNC_3=96,Se.CODE_FNC_4_A=101,Se.CODE_FNC_4_B=100,Se.CODE_START_A=103,Se.CODE_START_B=104,Se.CODE_START_C=105,Se.CODE_STOP=106;class Yt extends _t{constructor(s=!1,a=!1){super(),this.usingCheckDigit=s,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,a,c){let u=this.counters;u.fill(0),this.decodeRowResult="";let f=Yt.findAsteriskPattern(a,u),g=a.getNextSet(f[1]),m=a.getSize(),y,b;do{Yt.recordPattern(a,g,u);let G=Yt.toNarrowWidePattern(u);if(G<0)throw new X;y=Yt.patternToChar(G),this.decodeRowResult+=y,b=g;for(let K of u)g+=K;g=a.getNextSet(g)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S=0;for(let G of u)S+=G;let N=g-b-S;if(g!==m&&N*2<S)throw new X;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,K=0;for(let ie=0;ie<G;ie++)K+=Yt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ie));if(this.decodeRowResult.charAt(G)!==Yt.ALPHABET_STRING.charAt(K%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new X;let k;this.extendedMode?k=Yt.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;let B=(f[1]+f[0])/2,Y=b+S/2;return new Ie(k,null,0,[new De(B,s),new De(Y,s)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(s,a){let c=s.getSize(),u=s.getNextSet(0),f=0,g=u,m=!1,y=a.length;for(let b=u;b<c;b++)if(s.get(b)!==m)a[f]++;else{if(f===y-1){if(this.toNarrowWidePattern(a)===Yt.ASTERISK_ENCODING&&s.isRange(Math.max(0,g-Math.floor((b-g)/2)),g,!1))return[g,b];g+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,m=!m}throw new X}static toNarrowWidePattern(s){let a=s.length,c=0,u;do{let f=2147483647;for(let y of s)y<f&&y>c&&(f=y);c=f,u=0;let g=0,m=0;for(let y=0;y<a;y++){let b=s[y];b>c&&(m|=1<<a-1-y,u++,g+=b)}if(u===3){for(let y=0;y<a&&u>0;y++){let b=s[y];if(b>c&&(u--,b*2>=g))return-1}return m}}while(u>3);return-1}static patternToChar(s){for(let a=0;a<Yt.CHARACTER_ENCODINGS.length;a++)if(Yt.CHARACTER_ENCODINGS[a]===s)return Yt.ALPHABET_STRING.charAt(a);if(s===Yt.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(s){let a=s.length,c="";for(let u=0;u<a;u++){let f=s.charAt(u);if(f==="+"||f==="$"||f==="%"||f==="/"){let g=s.charAt(u+1),m="\0";switch(f){case"+":if(g>="A"&&g<="Z")m=String.fromCharCode(g.charCodeAt(0)+32);else throw new A;break;case"$":if(g>="A"&&g<="Z")m=String.fromCharCode(g.charCodeAt(0)-64);else throw new A;break;case"%":if(g>="A"&&g<="E")m=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")m=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")m=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")m=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")m="\0";else if(g==="V")m="@";else if(g==="W")m="`";else if(g==="X"||g==="Y"||g==="Z")m="";else throw new A;break;case"/":if(g>="A"&&g<="O")m=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")m=":";else throw new A;break}c+=m,u++}else c+=f}return c}}Yt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Yt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Yt.ASTERISK_ENCODING=148;class q extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,a,c){let u=this.decodeStart(a),f=this.decodeEnd(a),g=new xe;q.decodeMiddle(a,u[1],f[0],g);let m=g.toString(),y=null;c!=null&&(y=c.get(z.ALLOWED_LENGTHS)),y==null&&(y=q.DEFAULT_ALLOWED_LENGTHS);let b=m.length,S=!1,N=0;for(let Y of y){if(b===Y){S=!0;break}Y>N&&(N=Y)}if(!S&&b>N&&(S=!0),!S)throw new A;const k=[new De(u[1],s),new De(f[0],s)];return new Ie(m,null,0,k,ye.ITF,new Date().getTime())}static decodeMiddle(s,a,c,u){let f=new Int32Array(10),g=new Int32Array(5),m=new Int32Array(5);for(f.fill(0),g.fill(0),m.fill(0);a<c;){_t.recordPattern(s,a,f);for(let b=0;b<5;b++){let S=2*b;g[b]=f[S],m[b]=f[S+1]}let y=q.decodeDigit(g);u.append(y.toString()),y=this.decodeDigit(m),u.append(y.toString()),f.forEach(function(b){a+=b})}}decodeStart(s){let a=q.skipWhiteSpace(s),c=q.findGuardPattern(s,a,q.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,a){let c=this.narrowLineWidth*10;c=c<a?c:a;for(let u=a-1;c>0&&u>=0&&!s.get(u);u--)c--;if(c!==0)throw new X}static skipWhiteSpace(s){const a=s.getSize(),c=s.getNextSet(0);if(c===a)throw new X;return c}decodeEnd(s){s.reverse();try{let a=q.skipWhiteSpace(s),c;try{c=q.findGuardPattern(s,a,q.END_PATTERN_REVERSED[0])}catch(f){f instanceof X&&(c=q.findGuardPattern(s,a,q.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let u=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-u,c}finally{s.reverse()}}static findGuardPattern(s,a,c){let u=c.length,f=new Int32Array(u),g=s.getSize(),m=!1,y=0,b=a;f.fill(0);for(let S=a;S<g;S++)if(s.get(S)!==m)f[y]++;else{if(y===u-1){if(_t.patternMatchVariance(f,c,q.MAX_INDIVIDUAL_VARIANCE)<q.MAX_AVG_VARIANCE)return[b,S];b+=f[0]+f[1],I.arraycopy(f,2,f,0,y-1),f[y-1]=0,f[y]=0,y--}else y++;f[y]=1,m=!m}throw new X}static decodeDigit(s){let a=q.MAX_AVG_VARIANCE,c=-1,u=q.PATTERNS.length;for(let f=0;f<u;f++){let g=q.PATTERNS[f],m=_t.patternMatchVariance(s,g,q.MAX_INDIVIDUAL_VARIANCE);m<a?(a=m,c=f):m===a&&(c=-1)}if(c>=0)return c%10;throw new X}}q.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],q.MAX_AVG_VARIANCE=.38,q.MAX_INDIVIDUAL_VARIANCE=.5,q.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],q.START_PATTERN=Int32Array.from([1,1,1,1]),q.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class H extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let a=!1,c,u=0,f=Int32Array.from([0,0,0]);for(;!a;){f=Int32Array.from([0,0,0]),c=H.findGuardPattern(s,u,!1,this.START_END_PATTERN,f);let g=c[0];u=c[1];let m=g-(u-g);m>=0&&(a=s.isRange(m,g,!1))}return c}static checkChecksum(s){return H.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let c=parseInt(s.charAt(a-1),10);return H.getStandardUPCEANChecksum(s.substring(0,a-1))===c}static getStandardUPCEANChecksum(s){let a=s.length,c=0;for(let u=a-1;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new A;c+=f}c*=3;for(let u=a-2;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new A;c+=f}return(1e3-c)%10}static decodeEnd(s,a){return H.findGuardPattern(s,a,!1,H.START_END_PATTERN,new Int32Array(H.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,a,c,u){return this.findGuardPattern(s,a,c,u,new Int32Array(u.length))}static findGuardPattern(s,a,c,u,f){let g=s.getSize();a=c?s.getNextUnset(a):s.getNextSet(a);let m=0,y=a,b=u.length,S=c;for(let N=a;N<g;N++)if(s.get(N)!==S)f[m]++;else{if(m===b-1){if(_t.patternMatchVariance(f,u,H.MAX_INDIVIDUAL_VARIANCE)<H.MAX_AVG_VARIANCE)return Int32Array.from([y,N]);y+=f[0]+f[1];let k=f.slice(2,f.length-1);for(let B=0;B<m-1;B++)f[B]=k[B];f[m-1]=0,f[m]=0,m--}else m++;f[m]=1,S=!S}throw new X}static decodeDigit(s,a,c,u){this.recordPattern(s,c,a);let f=this.MAX_AVG_VARIANCE,g=-1,m=u.length;for(let y=0;y<m;y++){let b=u[y],S=_t.patternMatchVariance(a,b,H.MAX_INDIVIDUAL_VARIANCE);S<f&&(f=S,g=y)}if(g>=0)return g;throw new X}}H.MAX_AVG_VARIANCE=.48,H.MAX_INDIVIDUAL_VARIANCE=.7,H.START_END_PATTERN=Int32Array.from([1,1,1]),H.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),H.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),H.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ne{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,c){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(a,c,u),g=u.toString(),m=ne.parseExtensionString(g),y=[new De((c[0]+c[1])/2,s),new De(f,s)],b=new Ie(g,null,0,y,ye.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&b.putAllMetadata(m),b}decodeMiddle(s,a,c){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),g=a[1],m=0;for(let b=0;b<5&&g<f;b++){let S=H.decodeDigit(s,u,g,H.L_AND_G_PATTERNS);c+=String.fromCharCode(48+S%10);for(let N of u)g+=N;S>=10&&(m|=1<<4-b),b!==4&&(g=s.getNextSet(g),g=s.getNextUnset(g))}if(c.length!==5)throw new X;let y=this.determineCheckDigit(m);if(ne.extensionChecksum(c.toString())!==y)throw new X;return g}static extensionChecksum(s){let a=s.length,c=0;for(let u=a-2;u>=0;u-=2)c+=s.charAt(u).charCodeAt(0)-48;c*=3;for(let u=a-1;u>=0;u-=2)c+=s.charAt(u).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new X}static parseExtensionString(s){if(s.length!==5)return null;let a=ne.parseExtension5String(s);return a==null?null:new Map([[at.SUGGESTED_PRICE,a]])}static parseExtension5String(s){let a;switch(s.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let c=parseInt(s.substring(1)),u=(c/100).toString(),f=c%100,g=f<10?"0"+f:f.toString();return a+u+"."+g}}class he{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,c){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(a,c,u),g=u.toString(),m=he.parseExtensionString(g),y=[new De((c[0]+c[1])/2,s),new De(f,s)],b=new Ie(g,null,0,y,ye.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&b.putAllMetadata(m),b}decodeMiddle(s,a,c){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),g=a[1],m=0;for(let y=0;y<2&&g<f;y++){let b=H.decodeDigit(s,u,g,H.L_AND_G_PATTERNS);c+=String.fromCharCode(48+b%10);for(let S of u)g+=S;b>=10&&(m|=1<<1-y),y!==1&&(g=s.getNextSet(g),g=s.getNextUnset(g))}if(c.length!==2)throw new X;if(parseInt(c.toString())%4!==m)throw new X;return g}static parseExtensionString(s){return s.length!==2?null:new Map([[at.ISSUE_NUMBER,parseInt(s)]])}}class ee{static decodeRow(s,a,c){let u=H.findGuardPattern(a,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ne().decodeRow(s,a,u)}catch{return new he().decodeRow(s,a,u)}}}ee.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class te extends H{constructor(){super(),this.decodeRowStringBuffer="",te.L_AND_G_PATTERNS=te.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let a=te.L_PATTERNS[s-10],c=new Int32Array(a.length);for(let u=0;u<a.length;u++)c[u]=a[a.length-u-1];te.L_AND_G_PATTERNS[s]=c}}decodeRow(s,a,c){let u=te.findStartGuardPattern(a),f=c==null?null:c.get(z.NEED_RESULT_POINT_CALLBACK);if(f!=null){const me=new De((u[0]+u[1])/2,s);f.foundPossibleResultPoint(me)}let g=this.decodeMiddle(a,u,this.decodeRowStringBuffer),m=g.rowOffset,y=g.resultString;if(f!=null){const me=new De(m,s);f.foundPossibleResultPoint(me)}let b=this.decodeEnd(a,m);if(f!=null){const me=new De((b[0]+b[1])/2,s);f.foundPossibleResultPoint(me)}let S=b[1],N=S+(S-b[0]);if(N>=a.getSize()||!a.isRange(S,N,!1))throw new X;let k=y.toString();if(k.length<8)throw new A;if(!te.checkChecksum(k))throw new E;let B=(u[1]+u[0])/2,Y=(b[1]+b[0])/2,G=this.getBarcodeFormat(),K=[new De(B,s),new De(Y,s)],ie=new Ie(k,null,0,K,G,new Date().getTime()),ve=0;try{let me=ee.decodeRow(s,a,b[1]);ie.putMetadata(at.UPC_EAN_EXTENSION,me.getText()),ie.putAllMetadata(me.getResultMetadata()),ie.addResultPoints(me.getResultPoints()),ve=me.getText().length}catch{}let Ce=c==null?null:c.get(z.ALLOWED_EAN_EXTENSIONS);if(Ce!=null){let me=!1;for(let lt in Ce)if(ve.toString()===lt){me=!0;break}if(!me)throw new X}return ie}decodeEnd(s,a){return te.findGuardPattern(s,a,!1,te.START_END_PATTERN,new Int32Array(te.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return te.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let c=parseInt(s.charAt(a-1),10);return te.getStandardUPCEANChecksum(s.substring(0,a-1))===c}static getStandardUPCEANChecksum(s){let a=s.length,c=0;for(let u=a-1;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new A;c+=f}c*=3;for(let u=a-2;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new A;c+=f}return(1e3-c)%10}}class Fe extends te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,c){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),g=a[1],m=0;for(let b=0;b<6&&g<f;b++){let S=te.decodeDigit(s,u,g,te.L_AND_G_PATTERNS);c+=String.fromCharCode(48+S%10);for(let N of u)g+=N;S>=10&&(m|=1<<5-b)}c=Fe.determineFirstDigit(c,m),g=te.findGuardPattern(s,g,!0,te.MIDDLE_PATTERN,new Int32Array(te.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&g<f;b++){let S=te.decodeDigit(s,u,g,te.L_PATTERNS);c+=String.fromCharCode(48+S);for(let N of u)g+=N}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(s,a){for(let c=0;c<10;c++)if(a===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new X}}Fe.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class je extends te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,c){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),g=a[1];for(let y=0;y<4&&g<f;y++){let b=te.decodeDigit(s,u,g,te.L_PATTERNS);c+=String.fromCharCode(48+b);for(let S of u)g+=S}g=te.findGuardPattern(s,g,!0,te.MIDDLE_PATTERN,new Int32Array(te.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&g<f;y++){let b=te.decodeDigit(s,u,g,te.L_PATTERNS);c+=String.fromCharCode(48+b);for(let S of u)g+=S}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return ye.EAN_8}}class Ze extends te{constructor(){super(...arguments),this.ean13Reader=new Fe}getBarcodeFormat(){return ye.UPC_A}decode(s,a){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,a,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,a,c))}decodeMiddle(s,a,c){return this.ean13Reader.decodeMiddle(s,a,c)}maybeReturnResult(s){let a=s.getText();if(a.charAt(0)==="0"){let c=new Ie(a.substring(1),null,null,s.getResultPoints(),ye.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new X}reset(){this.ean13Reader.reset()}}class W extends te{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,a,c){const u=this.decodeMiddleCounters.map(b=>b);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const f=s.getSize();let g=a[1],m=0;for(let b=0;b<6&&g<f;b++){const S=W.decodeDigit(s,u,g,W.L_AND_G_PATTERNS);c+=String.fromCharCode(48+S%10);for(let N of u)g+=N;S>=10&&(m|=1<<5-b)}let y=W.determineNumSysAndCheckDigit(c,m);return{rowOffset:g,resultString:y}}decodeEnd(s,a){return W.findGuardPatternWithoutCounters(s,a,!0,W.MIDDLE_END_PATTERN)}checkChecksum(s){return te.checkChecksum(W.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,a){for(let c=0;c<=1;c++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][u]){let f=String.fromCharCode(48+c),g=String.fromCharCode(48+u);return f+s+g}throw X.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(s){const a=s.slice(1,7).split("").map(f=>f.charCodeAt(0)),c=new xe;c.append(s.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:c.appendChars(a,0,2),c.append(u),c.append("0000"),c.appendChars(a,2,3);break;case 3:c.appendChars(a,0,3),c.append("00000"),c.appendChars(a,3,2);break;case 4:c.appendChars(a,0,4),c.append("00000"),c.append(a[4]);break;default:c.appendChars(a,0,5),c.append("0000"),c.append(u);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}W.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),W.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class $ extends _t{constructor(s){super();let a=s==null?null:s.get(z.POSSIBLE_FORMATS),c=[];r(a)?(c.push(new Fe),c.push(new Ze),c.push(new je),c.push(new W)):(a.indexOf(ye.EAN_13)>-1&&c.push(new Fe),a.indexOf(ye.UPC_A)>-1&&c.push(new Ze),a.indexOf(ye.EAN_8)>-1&&c.push(new je),a.indexOf(ye.UPC_E)>-1&&c.push(new W)),this.readers=c}decodeRow(s,a,c){for(let u of this.readers)try{const f=u.decodeRow(s,a,c),g=f.getBarcodeFormat()===ye.EAN_13&&f.getText().charAt(0)==="0",m=c==null?null:c.get(z.POSSIBLE_FORMATS),y=m==null||m.includes(ye.UPC_A);if(g&&y){const b=f.getRawBytes(),S=new Ie(f.getText().substring(1),b,b?b.length:null,f.getResultPoints(),ye.UPC_A);return S.putAllMetadata(f.getResultMetadata()),S}return f}catch{}throw new X}reset(){for(let s of this.readers)s.reset()}}class Q extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,a){for(let c=0;c<a.length;c++)if(_t.patternMatchVariance(s,a[c],Q.MAX_INDIVIDUAL_VARIANCE)<Q.MAX_AVG_VARIANCE)return c;throw new X}static count(s){return rt.sum(new Int32Array(s))}static increment(s,a){let c=0,u=a[0];for(let f=1;f<s.length;f++)a[f]>u&&(u=a[f],c=f);s[c]++}static decrement(s,a){let c=0,u=a[0];for(let f=1;f<s.length;f++)a[f]<u&&(u=a[f],c=f);s[c]--}static isFinderPattern(s){let a=s[0]+s[1],c=a+s[2]+s[3],u=a/c;if(u>=Q.MIN_FINDER_PATTERN_RATIO&&u<=Q.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let m of s)m>g&&(g=m),m<f&&(f=m);return g<10*f}return!1}}Q.MAX_AVG_VARIANCE=.2,Q.MAX_INDIVIDUAL_VARIANCE=.45,Q.MIN_FINDER_PATTERN_RATIO=9.5/12,Q.MAX_FINDER_PATTERN_RATIO=12.5/14;class le{constructor(s,a){this.value=s,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof le))return!1;const a=s;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ee{constructor(s,a,c,u,f){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new De(c,f)),this.resultPoints.push(new De(u,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof Ee))return!1;const a=s;return this.value===a.value}hashCode(){return this.value}}class Te{constructor(){}static getRSSvalue(s,a,c){let u=0;for(let y of s)u+=y;let f=0,g=0,m=s.length;for(let y=0;y<m-1;y++){let b;for(b=1,g|=1<<y;b<s[y];b++,g&=~(1<<y)){let S=Te.combins(u-b-1,m-y-2);if(c&&g===0&&u-b-(m-y-1)>=m-y-1&&(S-=Te.combins(u-b-(m-y),m-y-2)),m-y-1>1){let N=0;for(let k=u-b-(m-y-2);k>a;k--)N+=Te.combins(u-b-k-1,m-y-3);S-=N*(m-1-y)}else u-b>a&&S--;f+=S}u-=b}return f}static combins(s,a){let c,u;s-a>a?(u=a,c=s-a):(u=s-a,c=a);let f=1,g=1;for(let m=s;m>c;m--)f*=m,g<=u&&(f/=g,g++);for(;g<=u;)f/=g,g++;return f}}class Ne{static buildBitArray(s){let a=s.length*2-1;s[s.length-1].getRightChar()==null&&(a-=1);let c=12*a,u=new P(c),f=0,m=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)m&1<<y&&u.set(f),f++;for(let y=1;y<s.length;++y){let b=s[y],S=b.getLeftChar().getValue();for(let N=11;N>=0;--N)S&1<<N&&u.set(f),f++;if(b.getRightChar()!=null){let N=b.getRightChar().getValue();for(let k=11;k>=0;--k)N&1<<k&&u.set(f),f++}}return u}}class _e{constructor(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class $e{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Le extends $e{constructor(s,a){super(s),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Le.FNC1}}Le.FNC1="$";class Mt extends $e{constructor(s,a,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class wt extends $e{constructor(s,a,c){if(super(s),a<0||a>10||c<0||c>10)throw new A;this.firstDigit=a,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===wt.FNC1}isSecondDigitFNC1(){return this.secondDigit===wt.FNC1}isAnyFNC1(){return this.firstDigit===wt.FNC1||this.secondDigit===wt.FNC1}}wt.FNC1=10;class ue{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new X;let a=s.substring(0,2);for(let f of ue.TWO_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(2,f[2],s):ue.processFixedAI(2,f[1],s);if(s.length<3)throw new X;let c=s.substring(0,3);for(let f of ue.THREE_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(3,f[2],s):ue.processFixedAI(3,f[1],s);for(let f of ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,f[2],s):ue.processFixedAI(4,f[1],s);if(s.length<4)throw new X;let u=s.substring(0,4);for(let f of ue.FOUR_DIGIT_DATA_LENGTH)if(f[0]===u)return f[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,f[2],s):ue.processFixedAI(4,f[1],s);throw new X}static processFixedAI(s,a,c){if(c.length<s)throw new X;let u=c.substring(0,s);if(c.length<s+a)throw new X;let f=c.substring(s,s+a),g=c.substring(s+a),m="("+u+")"+f,y=ue.parseFieldsInGeneralPurpose(g);return y==null?m:m+y}static processVariableAI(s,a,c){let u=c.substring(0,s),f;c.length<s+a?f=c.length:f=s+a;let g=c.substring(s,f),m=c.substring(f),y="("+u+")"+g,b=ue.parseFieldsInGeneralPurpose(m);return b==null?y:y+b}}ue.VARIABLE_LENGTH=[],ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ue.VARIABLE_LENGTH,20],["22",ue.VARIABLE_LENGTH,29],["30",ue.VARIABLE_LENGTH,8],["37",ue.VARIABLE_LENGTH,8],["90",ue.VARIABLE_LENGTH,30],["91",ue.VARIABLE_LENGTH,30],["92",ue.VARIABLE_LENGTH,30],["93",ue.VARIABLE_LENGTH,30],["94",ue.VARIABLE_LENGTH,30],["95",ue.VARIABLE_LENGTH,30],["96",ue.VARIABLE_LENGTH,30],["97",ue.VARIABLE_LENGTH,3],["98",ue.VARIABLE_LENGTH,30],["99",ue.VARIABLE_LENGTH,30]],ue.THREE_DIGIT_DATA_LENGTH=[["240",ue.VARIABLE_LENGTH,30],["241",ue.VARIABLE_LENGTH,30],["242",ue.VARIABLE_LENGTH,6],["250",ue.VARIABLE_LENGTH,30],["251",ue.VARIABLE_LENGTH,30],["253",ue.VARIABLE_LENGTH,17],["254",ue.VARIABLE_LENGTH,20],["400",ue.VARIABLE_LENGTH,30],["401",ue.VARIABLE_LENGTH,30],["402",17],["403",ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ue.VARIABLE_LENGTH,20],["421",ue.VARIABLE_LENGTH,15],["422",3],["423",ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ue.VARIABLE_LENGTH,15],["391",ue.VARIABLE_LENGTH,18],["392",ue.VARIABLE_LENGTH,15],["393",ue.VARIABLE_LENGTH,18],["703",ue.VARIABLE_LENGTH,30]],ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ue.VARIABLE_LENGTH,20],["8003",ue.VARIABLE_LENGTH,30],["8004",ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ue.VARIABLE_LENGTH,30],["8008",ue.VARIABLE_LENGTH,12],["8018",18],["8020",ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ue.VARIABLE_LENGTH,70],["8200",ue.VARIABLE_LENGTH,70]];class xt{constructor(s){this.buffer=new xe,this.information=s}decodeAllCodes(s,a){let c=a,u=null;do{let f=this.decodeGeneralPurposeField(c,u),g=ue.parseFieldsInGeneralPurpose(f.getNewString());if(g!=null&&s.append(g),f.isRemaining()?u=""+f.getRemainingValue():u=null,c===f.getNewPosition())break;c=f.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(s,4);return f===0?new wt(this.information.getSize(),wt.FNC1,wt.FNC1):new wt(this.information.getSize(),f-1,wt.FNC1)}let a=this.extractNumericValueFromBitArray(s,7),c=(a-8)/11,u=(a-8)%11;return new wt(s+7,c,u)}extractNumericValueFromBitArray(s,a){return xt.extractNumericValueFromBitArray(this.information,s,a)}static extractNumericValueFromBitArray(s,a,c){let u=0;for(let f=0;f<c;++f)s.get(a+f)&&(u|=1<<c-f-1);return u}decodeGeneralPurposeField(s,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Mt(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Mt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,a;do{let c=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),s=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),s=a.isFinished()):(a=this.parseNumericBlock(),s=a.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let a;return s.isSecondDigitFNC1()?a=new Mt(this.current.getPosition(),this.buffer.toString()):a=new Mt(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new _e(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let a=new Mt(this.current.getPosition(),this.buffer.toString());return new _e(!0,a)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new _e(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new Mt(this.current.getPosition(),this.buffer.toString());return new _e(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new _e(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new Mt(this.current.getPosition(),this.buffer.toString());return new _e(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new _e(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new Le(s+5,Le.FNC1);if(a>=5&&a<15)return new Le(s+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new Le(s+7,""+(c+1));if(c>=90&&c<116)return new Le(s+7,""+(c+7));let u=this.extractNumericValueFromBitArray(s,8),f;switch(u){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new A}return new Le(s+8,f)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new Le(s+5,Le.FNC1);if(a>=5&&a<15)return new Le(s+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new Le(s+6,""+(c+33));let u;switch(c){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new er("Decoding invalid alphanumeric value: "+c)}return new Le(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<5&&a+s<this.information.getSize();++a)if(a===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0}}class qt{constructor(s){this.information=s,this.generalDecoder=new xt(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class dn extends qt{constructor(s){super(s)}encodeCompressedGtin(s,a){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,a,c)}encodeCompressedGtinWithoutAI(s,a,c){for(let u=0;u<4;++u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);f/100===0&&s.append("0"),f/10===0&&s.append("0"),s.append(f)}dn.appendCheckDigit(s,c)}static appendCheckDigit(s,a){let c=0;for(let u=0;u<13;u++){let f=s.charAt(u+a).charCodeAt(0)-48;c+=u&1?f:3*f}c=10-c%10,c===10&&(c=0),s.append(c)}}dn.GTIN_SIZE=40;class $n extends dn{constructor(s){super(s)}parseInformation(){let s=new xe;s.append("(01)");let a=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray($n.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,$n.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(s,$n.HEADER_SIZE+44)}}$n.HEADER_SIZE=4;class Zr extends qt{constructor(s){super(s)}parseInformation(){let s=new xe;return this.getGeneralDecoder().decodeAllCodes(s,Zr.HEADER_SIZE)}}Zr.HEADER_SIZE=5;class Qr extends dn{constructor(s){super(s)}encodeCompressedWeight(s,a,c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,c);this.addWeightCode(s,u);let f=this.checkWeight(u),g=1e5;for(let m=0;m<5;++m)f/g===0&&s.append("0"),g/=10;s.append(f)}}class On extends Qr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=On.HEADER_SIZE+Qr.GTIN_SIZE+On.WEIGHT_SIZE)throw new X;let s=new xe;return this.encodeCompressedGtin(s,On.HEADER_SIZE),this.encodeCompressedWeight(s,On.HEADER_SIZE+Qr.GTIN_SIZE,On.WEIGHT_SIZE),s.toString()}}On.HEADER_SIZE=5,On.WEIGHT_SIZE=15;class Dr extends On{constructor(s){super(s)}addWeightCode(s,a){s.append("(3103)")}checkWeight(s){return s}}class Ro extends On{constructor(s){super(s)}addWeightCode(s,a){a<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Kn extends dn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+dn.GTIN_SIZE)throw new X;let s=new xe;this.encodeCompressedGtin(s,Kn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+dn.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);s.append("(392"),s.append(a),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+dn.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2;class fn extends dn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<fn.HEADER_SIZE+dn.GTIN_SIZE)throw new X;let s=new xe;this.encodeCompressedGtin(s,fn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+dn.GTIN_SIZE,fn.LAST_DIGIT_SIZE);s.append("(393"),s.append(a),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+dn.GTIN_SIZE+fn.LAST_DIGIT_SIZE,fn.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let u=this.getGeneralDecoder().decodeGeneralPurposeField(fn.HEADER_SIZE+dn.GTIN_SIZE+fn.LAST_DIGIT_SIZE+fn.FIRST_THREE_DIGITS_SIZE,null);return s.append(u.getNewString()),s.toString()}}fn.HEADER_SIZE=8,fn.LAST_DIGIT_SIZE=2,fn.FIRST_THREE_DIGITS_SIZE=10;class Be extends Qr{constructor(s,a,c){super(s),this.dateCode=c,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Be.HEADER_SIZE+Be.GTIN_SIZE+Be.WEIGHT_SIZE+Be.DATE_SIZE)throw new X;let s=new xe;return this.encodeCompressedGtin(s,Be.HEADER_SIZE),this.encodeCompressedWeight(s,Be.HEADER_SIZE+Be.GTIN_SIZE,Be.WEIGHT_SIZE),this.encodeCompressedDate(s,Be.HEADER_SIZE+Be.GTIN_SIZE+Be.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Be.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let u=c%32;c/=32;let f=c%12+1;c/=12;let g=c;g/10==0&&s.append("0"),s.append(g),f/10==0&&s.append("0"),s.append(f),u/10==0&&s.append("0"),s.append(u)}addWeightCode(s,a){s.append("("),s.append(this.firstAIdigits),s.append(a/1e5),s.append(")")}checkWeight(s){return s%1e5}}Be.HEADER_SIZE=8,Be.WEIGHT_SIZE=20,Be.DATE_SIZE=16;function Cn(T){try{if(T.get(1))return new $n(T);if(!T.get(2))return new Zr(T);switch(xt.extractNumericValueFromBitArray(T,1,4)){case 4:return new Dr(T);case 5:return new Ro(T)}switch(xt.extractNumericValueFromBitArray(T,1,5)){case 12:return new Kn(T);case 13:return new fn(T)}switch(xt.extractNumericValueFromBitArray(T,1,7)){case 56:return new Be(T,"310","11");case 57:return new Be(T,"320","11");case 58:return new Be(T,"310","13");case 59:return new Be(T,"320","13");case 60:return new Be(T,"310","15");case 61:return new Be(T,"320","15");case 62:return new Be(T,"310","17");case 63:return new Be(T,"320","17")}}catch(s){throw console.log(s),new er("unknown decoder: "+T)}}class rn{constructor(s,a,c,u){this.leftchar=s,this.rightchar=a,this.finderpattern=c,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,a){return s instanceof rn?rn.equalsOrNull(s.leftchar,a.leftchar)&&rn.equalsOrNull(s.rightchar,a.rightchar)&&rn.equalsOrNull(s.finderpattern,a.finderpattern):!1}static equalsOrNull(s,a){return s===null?a===null:rn.equals(s,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class sn{constructor(s,a,c){this.pairs=s,this.rowNumber=a,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,a){return s instanceof sn?this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed:!1}checkEqualitity(s,a){if(!s||!a)return;let c;return s.forEach((u,f)=>{a.forEach(g=>{u.getLeftChar().getValue()===g.getLeftChar().getValue()&&u.getRightChar().getValue()===g.getRightChar().getValue()&&u.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(c=!0)})}),c}}class fe extends Q{constructor(s){super(...arguments),this.pairs=new Array(fe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,a,c){this.pairs.length=0,this.startFromEven=!1;try{return fe.constructResult(this.decodeRow2pairs(s,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,fe.constructResult(this.decodeRow2pairs(s,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,a){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,s))}catch(f){if(f instanceof X){if(!this.pairs.length)throw new X;c=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(s,!1),u){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new X}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),a}checkRows(s,a){for(let c=a;c<this.rows.length;c++){let u=this.rows[c];this.pairs.length=0;for(let g of s)this.pairs.push(g.getPairs());if(this.pairs.push(u.getPairs()),!fe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(s);f.push(u);try{return this.checkRows(f,c+1)}catch(g){this.verbose&&console.log(g)}}throw new X}static isValidSequence(s){for(let a of fe.FINDER_PATTERN_SEQUENCES){if(s.length>a.length)continue;let c=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=a[u]){c=!1;break}if(c)return!0}return!1}storeRow(s,a){let c=0,u=!1,f=!1;for(;c<this.rows.length;){let g=this.rows[c];if(g.getRowNumber()>s){f=g.isEquivalent(this.pairs);break}u=g.isEquivalent(this.pairs),c++}f||u||fe.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new sn(this.pairs,s,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,a){for(let c of a)if(c.getPairs().length!==s.length){for(let u of c.getPairs())for(let f of s)if(rn.equals(u,f))break}}static isPartialRow(s,a){for(let c of a){let u=!0;for(let f of s){let g=!1;for(let m of c.getPairs())if(f.equals(m)){g=!0;break}if(!g){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let a=Ne.buildBitArray(s),u=Cn(a).parseInformation(),f=s[0].getFinderPattern().getResultPoints(),g=s[s.length-1].getFinderPattern().getResultPoints(),m=[f[0],f[1],g[0],g[1]];return new Ie(u,null,null,m,ye.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),a=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let u=c.getChecksumPortion(),f=2;for(let m=1;m<this.pairs.size();++m){let y=this.pairs.get(m);u+=y.getLeftChar().getChecksumPortion(),f++;let b=y.getRightChar();b!=null&&(u+=b.getChecksumPortion(),f++)}return u%=211,211*(f-4)+u==a.getValue()}static getNextSecondBar(s,a){let c;return s.get(a)?(c=s.getNextUnset(a),c=s.getNextSet(c)):(c=s.getNextSet(a),c=s.getNextUnset(c)),c}retrieveNextPair(s,a,c){let u=a.length%2==0;this.startFromEven&&(u=!u);let f,g=!0,m=-1;do this.findNextPair(s,a,m),f=this.parseFoundFinderPattern(s,c,u),f==null?m=fe.getNextSecondBar(s,this.startEnd[0]):g=!1;while(g);let y=this.decodeDataCharacter(s,f,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new X;let b;try{b=this.decodeDataCharacter(s,f,u,!1)}catch(S){b=null,this.verbose&&console.log(S)}return new rn(y,b,f,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,a,c){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),g;c>=0?g=c:this.isEmptyPair(a)?g=0:g=a[a.length-1].getFinderPattern().getStartEnd()[1];let m=a.length%2!=0;this.startFromEven&&(m=!m);let y=!1;for(;g<f&&(y=!s.get(g),!!y);)g++;let b=0,S=g;for(let N=g;N<f;N++)if(s.get(N)!=y)u[b]++;else{if(b==3){if(m&&fe.reverseCounters(u),fe.isFinderPattern(u)){this.startEnd[0]=S,this.startEnd[1]=N;return}m&&fe.reverseCounters(u),S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,b--}else b++;u[b]=1,y=!y}throw new X}static reverseCounters(s){let a=s.length;for(let c=0;c<a/2;++c){let u=s[c];s[c]=s[a-c-1],s[a-c-1]=u}}parseFoundFinderPattern(s,a,c){let u,f,g;if(c){let b=this.startEnd[0]-1;for(;b>=0&&!s.get(b);)b--;b++,u=this.startEnd[0]-b,f=b,g=this.startEnd[1]}else f=this.startEnd[0],g=s.getNextUnset(this.startEnd[1]+1),u=g-this.startEnd[1];let m=this.getDecodeFinderCounters();I.arraycopy(m,0,m,1,m.length-1),m[0]=u;let y;try{y=this.parseFinderValue(m,fe.FINDER_PATTERNS)}catch{return null}return new Ee(y,[f,g],f,g,a)}decodeDataCharacter(s,a,c,u){let f=this.getDataCharacterCounters();for(let Tt=0;Tt<f.length;Tt++)f[Tt]=0;if(u)fe.recordPatternInReverse(s,a.getStartEnd()[0],f);else{fe.recordPattern(s,a.getStartEnd()[1],f);for(let Tt=0,Rn=f.length-1;Tt<Rn;Tt++,Rn--){let xr=f[Tt];f[Tt]=f[Rn],f[Rn]=xr}}let g=17,m=rt.sum(new Int32Array(f))/g,y=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(m-y)/y>.3)throw new X;let b=this.getOddCounts(),S=this.getEvenCounts(),N=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let Tt=0;Tt<f.length;Tt++){let Rn=1*f[Tt]/m,xr=Rn+.5;if(xr<1){if(Rn<.3)throw new X;xr=1}else if(xr>8){if(Rn>8.7)throw new X;xr=8}let jo=Tt/2;Tt&1?(S[jo]=xr,k[jo]=Rn-xr):(b[jo]=xr,N[jo]=Rn-xr)}this.adjustOddEvenCounts(g);let B=4*a.getValue()+(c?0:2)+(u?0:1)-1,Y=0,G=0;for(let Tt=b.length-1;Tt>=0;Tt--){if(fe.isNotA1left(a,c,u)){let Rn=fe.WEIGHTS[B][2*Tt];G+=b[Tt]*Rn}Y+=b[Tt]}let K=0;for(let Tt=S.length-1;Tt>=0;Tt--)if(fe.isNotA1left(a,c,u)){let Rn=fe.WEIGHTS[B][2*Tt+1];K+=S[Tt]*Rn}let ie=G+K;if(Y&1||Y>13||Y<4)throw new X;let ve=(13-Y)/2,Ce=fe.SYMBOL_WIDEST[ve],me=9-Ce,lt=Te.getRSSvalue(b,Ce,!0),Qe=Te.getRSSvalue(S,me,!1),nr=fe.EVEN_TOTAL_SUBSET[ve],qr=fe.GSUM[ve],rr=lt*nr+Qe+qr;return new le(rr,ie)}static isNotA1left(s,a,c){return!(s.getValue()==0&&a&&c)}adjustOddEvenCounts(s){let a=rt.sum(new Int32Array(this.getOddCounts())),c=rt.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1;a>13?f=!0:a<4&&(u=!0);let g=!1,m=!1;c>13?m=!0:c<4&&(g=!0);let y=a+c-s,b=(a&1)==1,S=(c&1)==0;if(y==1)if(b){if(S)throw new X;f=!0}else{if(!S)throw new X;m=!0}else if(y==-1)if(b){if(S)throw new X;u=!0}else{if(!S)throw new X;g=!0}else if(y==0){if(b){if(!S)throw new X;a<c?(u=!0,m=!0):(f=!0,g=!0)}else if(S)throw new X}else throw new X;if(u){if(f)throw new X;fe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&fe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(m)throw new X;fe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&fe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}fe.SYMBOL_WIDEST=[7,5,4,3,1],fe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],fe.GSUM=[0,348,1388,2948,3988],fe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],fe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],fe.FINDER_PAT_A=0,fe.FINDER_PAT_B=1,fe.FINDER_PAT_C=2,fe.FINDER_PAT_D=3,fe.FINDER_PAT_E=4,fe.FINDER_PAT_F=5,fe.FINDER_PATTERN_SEQUENCES=[[fe.FINDER_PAT_A,fe.FINDER_PAT_A],[fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B],[fe.FINDER_PAT_A,fe.FINDER_PAT_C,fe.FINDER_PAT_B,fe.FINDER_PAT_D],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_C],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_D,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_E,fe.FINDER_PAT_B,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_D],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_E],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F],[fe.FINDER_PAT_A,fe.FINDER_PAT_A,fe.FINDER_PAT_B,fe.FINDER_PAT_B,fe.FINDER_PAT_C,fe.FINDER_PAT_D,fe.FINDER_PAT_D,fe.FINDER_PAT_E,fe.FINDER_PAT_E,fe.FINDER_PAT_F,fe.FINDER_PAT_F]],fe.MAX_PAIRS=11;class Nc extends le{constructor(s,a,c){super(s,a),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ft extends Q{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,a,c){const u=this.decodePair(a,!1,s,c);Ft.addOrTally(this.possibleLeftPairs,u),a.reverse();let f=this.decodePair(a,!0,s,c);Ft.addOrTally(this.possibleRightPairs,f),a.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&Ft.checkChecksum(g,m))return Ft.constructResult(g,m)}throw new X}static addOrTally(s,a){if(a==null)return;let c=!1;for(let u of s)if(u.getValue()===a.getValue()){u.incrementCount(),c=!0;break}c||s.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,a){let c=4537077*s.getValue()+a.getValue(),u=new String(c).toString(),f=new xe;for(let b=13-u.length;b>0;b--)f.append("0");f.append(u);let g=0;for(let b=0;b<13;b++){let S=f.charAt(b).charCodeAt(0)-48;g+=b&1?S:3*S}g=10-g%10,g===10&&(g=0),f.append(g.toString());let m=s.getFinderPattern().getResultPoints(),y=a.getFinderPattern().getResultPoints();return new Ie(f.toString(),null,0,[m[0],m[1],y[0],y[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(s,a){let c=(s.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,c===u}decodePair(s,a,c,u){try{let f=this.findFinderPattern(s,a),g=this.parseFoundFinderPattern(s,c,a,f),m=u==null?null:u.get(z.NEED_RESULT_POINT_CALLBACK);if(m!=null){let S=(f[0]+f[1])/2;a&&(S=s.getSize()-1-S),m.foundPossibleResultPoint(new De(S,c))}let y=this.decodeDataCharacter(s,g,!0),b=this.decodeDataCharacter(s,g,!1);return new Nc(1597*y.getValue()+b.getValue(),y.getChecksumPortion()+4*b.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(s,a,c){let u=this.getDataCharacterCounters();for(let K=0;K<u.length;K++)u[K]=0;if(c)_t.recordPatternInReverse(s,a.getStartEnd()[0],u);else{_t.recordPattern(s,a.getStartEnd()[1]+1,u);for(let K=0,ie=u.length-1;K<ie;K++,ie--){let ve=u[K];u[K]=u[ie],u[ie]=ve}}let f=c?16:15,g=rt.sum(new Int32Array(u))/f,m=this.getOddCounts(),y=this.getEvenCounts(),b=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let K=0;K<u.length;K++){let ie=u[K]/g,ve=Math.floor(ie+.5);ve<1?ve=1:ve>8&&(ve=8);let Ce=Math.floor(K/2);K&1?(y[Ce]=ve,S[Ce]=ie-ve):(m[Ce]=ve,b[Ce]=ie-ve)}this.adjustOddEvenCounts(c,f);let N=0,k=0;for(let K=m.length-1;K>=0;K--)k*=9,k+=m[K],N+=m[K];let B=0,Y=0;for(let K=y.length-1;K>=0;K--)B*=9,B+=y[K],Y+=y[K];let G=k+3*B;if(c){if(N&1||N>12||N<4)throw new X;let K=(12-N)/2,ie=Ft.OUTSIDE_ODD_WIDEST[K],ve=9-ie,Ce=Te.getRSSvalue(m,ie,!1),me=Te.getRSSvalue(y,ve,!0),lt=Ft.OUTSIDE_EVEN_TOTAL_SUBSET[K],Qe=Ft.OUTSIDE_GSUM[K];return new le(Ce*lt+me+Qe,G)}else{if(Y&1||Y>10||Y<4)throw new X;let K=(10-Y)/2,ie=Ft.INSIDE_ODD_WIDEST[K],ve=9-ie,Ce=Te.getRSSvalue(m,ie,!0),me=Te.getRSSvalue(y,ve,!1),lt=Ft.INSIDE_ODD_TOTAL_SUBSET[K],Qe=Ft.INSIDE_GSUM[K];return new le(me*lt+Ce+Qe,G)}}findFinderPattern(s,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=s.getSize(),f=!1,g=0;for(;g<u&&(f=!s.get(g),a!==f);)g++;let m=0,y=g;for(let b=g;b<u;b++)if(s.get(b)!==f)c[m]++;else{if(m===3){if(Q.isFinderPattern(c))return[y,b];y+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,m--}else m++;c[m]=1,f=!f}throw new X}parseFoundFinderPattern(s,a,c,u){let f=s.get(u[0]),g=u[0]-1;for(;g>=0&&f!==s.get(g);)g--;g++;const m=u[0]-g,y=this.getDecodeFinderCounters(),b=new Int32Array(y.length);I.arraycopy(y,0,b,1,y.length-1),b[0]=m;const S=this.parseFinderValue(b,Ft.FINDER_PATTERNS);let N=g,k=u[1];return c&&(N=s.getSize()-1-N,k=s.getSize()-1-k),new Ee(S,[g,u[1]],N,k,a)}adjustOddEvenCounts(s,a){let c=rt.sum(new Int32Array(this.getOddCounts())),u=rt.sum(new Int32Array(this.getEvenCounts())),f=!1,g=!1,m=!1,y=!1;s?(c>12?g=!0:c<4&&(f=!0),u>12?y=!0:u<4&&(m=!0)):(c>11?g=!0:c<5&&(f=!0),u>10?y=!0:u<4&&(m=!0));let b=c+u-a,S=(c&1)===(s?1:0),N=(u&1)===1;if(b===1)if(S){if(N)throw new X;g=!0}else{if(!N)throw new X;y=!0}else if(b===-1)if(S){if(N)throw new X;f=!0}else{if(!N)throw new X;m=!0}else if(b===0){if(S){if(!N)throw new X;c<u?(f=!0,y=!0):(g=!0,m=!0)}else if(N)throw new X}else throw new X;if(f){if(g)throw new X;Q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new X;Q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ft.OUTSIDE_GSUM=[0,161,961,2015,2715],Ft.INSIDE_GSUM=[0,336,1036,1516],Ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ft.INSIDE_ODD_WIDEST=[2,4,6,8],Ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ko extends _t{constructor(s,a){super(),this.readers=[],this.verbose=a===!0;const c=s?s.get(z.POSSIBLE_FORMATS):null,u=s&&s.get(z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(ye.EAN_13)||c.includes(ye.UPC_A)||c.includes(ye.EAN_8)||c.includes(ye.UPC_E))&&this.readers.push(new $(s)),c.includes(ye.CODE_39)&&this.readers.push(new Yt(u)),c.includes(ye.CODE_128)&&this.readers.push(new Se),c.includes(ye.ITF)&&this.readers.push(new q),c.includes(ye.RSS_14)&&this.readers.push(new Ft),c.includes(ye.RSS_EXPANDED)&&this.readers.push(new fe(this.verbose))):(this.readers.push(new $(s)),this.readers.push(new Yt),this.readers.push(new $(s)),this.readers.push(new Se),this.readers.push(new q),this.readers.push(new Ft),this.readers.push(new fe(this.verbose)))}decodeRow(s,a,c){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,a,c)}catch{}throw new X}reset(){this.readers.forEach(s=>s.reset())}}class V3 extends Ue{constructor(s=500,a){super(new ko(a),s,a)}}class bt{constructor(s,a,c){this.ecCodewords=s,this.ecBlocks=[a],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class yt{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ct{constructor(s,a,c,u,f,g){this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=c,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=f,this.ecBlocks=g;let m=0;const y=g.getECCodewords(),b=g.getECBlocks();for(let S of b)m+=S.getCount()*(S.getDataCodewords()+y);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,a){if(s&1||a&1)throw new A;for(let c of ct.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===a)return c;throw new A}toString(){return""+this.versionNumber}static buildVersions(){return[new ct(1,10,10,8,8,new bt(5,new yt(1,3))),new ct(2,12,12,10,10,new bt(7,new yt(1,5))),new ct(3,14,14,12,12,new bt(10,new yt(1,8))),new ct(4,16,16,14,14,new bt(12,new yt(1,12))),new ct(5,18,18,16,16,new bt(14,new yt(1,18))),new ct(6,20,20,18,18,new bt(18,new yt(1,22))),new ct(7,22,22,20,20,new bt(20,new yt(1,30))),new ct(8,24,24,22,22,new bt(24,new yt(1,36))),new ct(9,26,26,24,24,new bt(28,new yt(1,44))),new ct(10,32,32,14,14,new bt(36,new yt(1,62))),new ct(11,36,36,16,16,new bt(42,new yt(1,86))),new ct(12,40,40,18,18,new bt(48,new yt(1,114))),new ct(13,44,44,20,20,new bt(56,new yt(1,144))),new ct(14,48,48,22,22,new bt(68,new yt(1,174))),new ct(15,52,52,24,24,new bt(42,new yt(2,102))),new ct(16,64,64,14,14,new bt(56,new yt(2,140))),new ct(17,72,72,16,16,new bt(36,new yt(4,92))),new ct(18,80,80,18,18,new bt(48,new yt(4,114))),new ct(19,88,88,20,20,new bt(56,new yt(4,144))),new ct(20,96,96,22,22,new bt(68,new yt(4,174))),new ct(21,104,104,24,24,new bt(56,new yt(6,136))),new ct(22,120,120,18,18,new bt(68,new yt(6,175))),new ct(23,132,132,20,20,new bt(62,new yt(8,163))),new ct(24,144,144,22,22,new bt(62,new yt(8,156),new yt(2,155))),new ct(25,8,18,6,16,new bt(7,new yt(1,5))),new ct(26,8,32,6,14,new bt(11,new yt(1,10))),new ct(27,12,26,10,24,new bt(14,new yt(1,16))),new ct(28,12,36,10,16,new bt(18,new yt(1,22))),new ct(29,16,36,14,16,new bt(24,new yt(1,32))),new ct(30,16,48,14,22,new bt(28,new yt(1,49)))]}}ct.VERSIONS=ct.buildVersions();class vf{constructor(s){const a=s.getHeight();if(a<8||a>144||a&1)throw new A;this.version=vf.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Oe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const a=s.getHeight(),c=s.getWidth();return ct.getVersionForDimensions(a,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let a=0,c=4,u=0;const f=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let m=!1,y=!1,b=!1,S=!1;do if(c===f&&u===0&&!m)s[a++]=this.readCorner1(f,g)&255,c-=2,u+=2,m=!0;else if(c===f-2&&u===0&&g&3&&!y)s[a++]=this.readCorner2(f,g)&255,c-=2,u+=2,y=!0;else if(c===f+4&&u===2&&!(g&7)&&!b)s[a++]=this.readCorner3(f,g)&255,c-=2,u+=2,b=!0;else if(c===f-2&&u===0&&(g&7)===4&&!S)s[a++]=this.readCorner4(f,g)&255,c-=2,u+=2,S=!0;else{do c<f&&u>=0&&!this.readMappingMatrix.get(u,c)&&(s[a++]=this.readUtah(c,u,f,g)&255),c-=2,u+=2;while(c>=0&&u<g);c+=1,u+=3;do c>=0&&u<g&&!this.readMappingMatrix.get(u,c)&&(s[a++]=this.readUtah(c,u,f,g)&255),c+=2,u-=2;while(c<f&&u>=0);c+=3,u+=1}while(c<f||u<g);if(a!==this.version.getTotalCodewords())throw new A;return s}readModule(s,a,c,u){return s<0&&(s+=c,a+=4-(c+4&7)),a<0&&(a+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)}readUtah(s,a,c,u){let f=0;return this.readModule(s-2,a-2,c,u)&&(f|=1),f<<=1,this.readModule(s-2,a-1,c,u)&&(f|=1),f<<=1,this.readModule(s-1,a-2,c,u)&&(f|=1),f<<=1,this.readModule(s-1,a-1,c,u)&&(f|=1),f<<=1,this.readModule(s-1,a,c,u)&&(f|=1),f<<=1,this.readModule(s,a-2,c,u)&&(f|=1),f<<=1,this.readModule(s,a-1,c,u)&&(f|=1),f<<=1,this.readModule(s,a,c,u)&&(f|=1),f}readCorner1(s,a){let c=0;return this.readModule(s-1,0,s,a)&&(c|=1),c<<=1,this.readModule(s-1,1,s,a)&&(c|=1),c<<=1,this.readModule(s-1,2,s,a)&&(c|=1),c<<=1,this.readModule(0,a-2,s,a)&&(c|=1),c<<=1,this.readModule(0,a-1,s,a)&&(c|=1),c<<=1,this.readModule(1,a-1,s,a)&&(c|=1),c<<=1,this.readModule(2,a-1,s,a)&&(c|=1),c<<=1,this.readModule(3,a-1,s,a)&&(c|=1),c}readCorner2(s,a){let c=0;return this.readModule(s-3,0,s,a)&&(c|=1),c<<=1,this.readModule(s-2,0,s,a)&&(c|=1),c<<=1,this.readModule(s-1,0,s,a)&&(c|=1),c<<=1,this.readModule(0,a-4,s,a)&&(c|=1),c<<=1,this.readModule(0,a-3,s,a)&&(c|=1),c<<=1,this.readModule(0,a-2,s,a)&&(c|=1),c<<=1,this.readModule(0,a-1,s,a)&&(c|=1),c<<=1,this.readModule(1,a-1,s,a)&&(c|=1),c}readCorner3(s,a){let c=0;return this.readModule(s-1,0,s,a)&&(c|=1),c<<=1,this.readModule(s-1,a-1,s,a)&&(c|=1),c<<=1,this.readModule(0,a-3,s,a)&&(c|=1),c<<=1,this.readModule(0,a-2,s,a)&&(c|=1),c<<=1,this.readModule(0,a-1,s,a)&&(c|=1),c<<=1,this.readModule(1,a-3,s,a)&&(c|=1),c<<=1,this.readModule(1,a-2,s,a)&&(c|=1),c<<=1,this.readModule(1,a-1,s,a)&&(c|=1),c}readCorner4(s,a){let c=0;return this.readModule(s-3,0,s,a)&&(c|=1),c<<=1,this.readModule(s-2,0,s,a)&&(c|=1),c<<=1,this.readModule(s-1,0,s,a)&&(c|=1),c<<=1,this.readModule(0,a-2,s,a)&&(c|=1),c<<=1,this.readModule(0,a-1,s,a)&&(c|=1),c<<=1,this.readModule(1,a-1,s,a)&&(c|=1),c<<=1,this.readModule(2,a-1,s,a)&&(c|=1),c<<=1,this.readModule(3,a-1,s,a)&&(c|=1),c}extractDataRegion(s){const a=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new w("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),g=a/u|0,m=c/f|0,y=g*u,b=m*f,S=new Oe(b,y);for(let N=0;N<g;++N){const k=N*u;for(let B=0;B<m;++B){const Y=B*f;for(let G=0;G<u;++G){const K=N*(u+2)+1+G,ie=k+G;for(let ve=0;ve<f;++ve){const Ce=B*(f+2)+1+ve;if(s.get(Ce,K)){const me=Y+ve;S.set(me,ie)}}}}}return S}}class Cf{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a){const c=a.getECBlocks();let u=0;const f=c.getECBlocks();for(let G of f)u+=G.getCount();const g=new Array(u);let m=0;for(let G of f)for(let K=0;K<G.getCount();K++){const ie=G.getDataCodewords(),ve=c.getECCodewords()+ie;g[m++]=new Cf(ie,new Uint8Array(ve))}const b=g[0].codewords.length-c.getECCodewords(),S=b-1;let N=0;for(let G=0;G<S;G++)for(let K=0;K<m;K++)g[K].codewords[G]=s[N++];const k=a.getVersionNumber()===24,B=k?8:m;for(let G=0;G<B;G++)g[G].codewords[b-1]=s[N++];const Y=g[0].codewords.length;for(let G=b;G<Y;G++)for(let K=0;K<m;K++){const ie=k?(K+8)%m:K,ve=k&&ie>7?G-1:G;g[ie].codewords[ve]=s[N++]}if(N!==s.length)throw new w;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ef{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new w(""+s);let a=0,c=this.bitOffset,u=this.byteOffset;const f=this.bytes;if(c>0){const g=8-c,m=s<g?s:g,y=g-m,b=255>>8-m<<y;a=(f[u]&b)>>y,s-=m,c+=m,c===8&&(c=0,u++)}if(s>0){for(;s>=8;)a=a<<8|f[u]&255,u++,s-=8;if(s>0){const g=8-s,m=255>>g<<g;a=a<<s|(f[u]&m)>>g,c+=s}}return this.bitOffset=c,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xn;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(xn||(xn={}));class rs{static decode(s){const a=new Ef(s),c=new xe,u=new xe,f=new Array;let g=xn.ASCII_ENCODE;do if(g===xn.ASCII_ENCODE)g=this.decodeAsciiSegment(a,c,u);else{switch(g){case xn.C40_ENCODE:this.decodeC40Segment(a,c);break;case xn.TEXT_ENCODE:this.decodeTextSegment(a,c);break;case xn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,c);break;case xn.EDIFACT_ENCODE:this.decodeEdifactSegment(a,c);break;case xn.BASE256_ENCODE:this.decodeBase256Segment(a,c,f);break;default:throw new A}g=xn.ASCII_ENCODE}while(g!==xn.PAD_ENCODE&&a.available()>0);return u.length()>0&&c.append(u.toString()),new Vt(s,c.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(s,a,c){let u=!1;do{let f=s.readBits(8);if(f===0)throw new A;if(f<=128)return u&&(f+=128),a.append(String.fromCharCode(f-1)),xn.ASCII_ENCODE;if(f===129)return xn.PAD_ENCODE;if(f<=229){const g=f-130;g<10&&a.append("0"),a.append(""+g)}else switch(f){case 230:return xn.C40_ENCODE;case 231:return xn.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:a.append("[)>05"),c.insert(0,"");break;case 237:a.append("[)>06"),c.insert(0,"");break;case 238:return xn.ANSIX12_ENCODE;case 239:return xn.TEXT_ENCODE;case 240:return xn.EDIFACT_ENCODE;case 241:break;default:if(f!==254||s.available()!==0)throw new A;break}}while(s.available()>0);return xn.ASCII_ENCODE}static decodeC40Segment(s,a){let c=!1;const u=[];let f=0;do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),u);for(let m=0;m<3;m++){const y=u[m];switch(f){case 0:if(y<3)f=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[y];c?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),c=!1):a.append(b)}else throw new A;break;case 1:c?(a.append(String.fromCharCode(y+128)),c=!1):a.append(String.fromCharCode(y)),f=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[y];c?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),c=!1):a.append(b)}else switch(y){case 27:a.append("");break;case 30:c=!0;break;default:throw new A}f=0;break;case 3:c?(a.append(String.fromCharCode(y+224)),c=!1):a.append(String.fromCharCode(y+96)),f=0;break;default:throw new A}}}while(s.available()>0)}static decodeTextSegment(s,a){let c=!1,u=[],f=0;do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),u);for(let m=0;m<3;m++){const y=u[m];switch(f){case 0:if(y<3)f=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[y];c?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),c=!1):a.append(b)}else throw new A;break;case 1:c?(a.append(String.fromCharCode(y+128)),c=!1):a.append(String.fromCharCode(y)),f=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[y];c?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),c=!1):a.append(b)}else switch(y){case 27:a.append("");break;case 30:c=!0;break;default:throw new A}f=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[y];c?(a.append(String.fromCharCode(b.charCodeAt(0)+128)),c=!1):a.append(b),f=0}else throw new A;break;default:throw new A}}}while(s.available()>0)}static decodeAnsiX12Segment(s,a){const c=[];do{if(s.available()===8)return;const u=s.readBits(8);if(u===254)return;this.parseTwoBytes(u,s.readBits(8),c);for(let f=0;f<3;f++){const g=c[f];switch(g){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(g<14)a.append(String.fromCharCode(g+44));else if(g<40)a.append(String.fromCharCode(g+51));else throw new A;break}}}while(s.available()>0)}static parseTwoBytes(s,a,c){let u=(s<<8)+a-1,f=Math.floor(u/1600);c[0]=f,u-=f*1600,f=Math.floor(u/40),c[1]=f,c[2]=u-f*40}static decodeEdifactSegment(s,a){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let u=s.readBits(6);if(u===31){const f=8-s.getBitOffset();f!==8&&s.readBits(f);return}u&32||(u|=64),a.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,a,c){let u=1+s.getByteOffset();const f=this.unrandomize255State(s.readBits(8),u++);let g;if(f===0?g=s.available()/8|0:f<250?g=f:g=250*(f-249)+this.unrandomize255State(s.readBits(8),u++),g<0)throw new A;const m=new Uint8Array(g);for(let y=0;y<g;y++){if(s.available()<8)throw new A;m[y]=this.unrandomize255State(s.readBits(8),u++)}c.push(m);try{a.append(ce.decode(m,se.ISO88591))}catch(y){throw new er("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,a){const c=149*a%255+1,u=s-c;return u>=0?u:u+256}}rs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],rs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],rs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],rs.TEXT_SHIFT2_SET_CHARS=rs.C40_SHIFT2_SET_CHARS,rs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class W3{constructor(){this.rsDecoder=new Gn(We.DATA_MATRIX_FIELD_256)}decode(s){const a=new vf(s),c=a.getVersion(),u=a.readCodewords(),f=Cf.getDataBlocks(u,c);let g=0;for(let b of f)g+=b.getNumDataCodewords();const m=new Uint8Array(g),y=f.length;for(let b=0;b<y;b++){const S=f[b],N=S.getCodewords(),k=S.getNumDataCodewords();this.correctErrors(N,k);for(let B=0;B<k;B++)m[B*y+b]=N[B]}return rs.decode(m)}correctErrors(s,a){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-a)}catch{throw new E}for(let u=0;u<a;u++)s[u]=c[u]}}class on{constructor(s){this.image=s,this.rectangleDetector=new Xn(this.image)}detect(){const s=this.rectangleDetector.detect();let a=this.detectSolid1(s);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new X;a=this.shiftToModuleCenter(a);const c=a[0],u=a[1],f=a[2],g=a[3];let m=this.transitionsBetween(c,g)+1,y=this.transitionsBetween(f,g)+1;(m&1)===1&&(m+=1),(y&1)===1&&(y+=1),4*m<7*y&&4*y<7*m&&(m=y=Math.max(m,y));let b=on.sampleGrid(this.image,c,u,f,g,m,y);return new Nn(b,[c,u,f,g])}static shiftPoint(s,a,c){let u=(a.getX()-s.getX())/(c+1),f=(a.getY()-s.getY())/(c+1);return new De(s.getX()+u,s.getY()+f)}static moveAway(s,a,c){let u=s.getX(),f=s.getY();return u<a?u-=1:u+=1,f<c?f-=1:f+=1,new De(u,f)}detectSolid1(s){let a=s[0],c=s[1],u=s[3],f=s[2],g=this.transitionsBetween(a,c),m=this.transitionsBetween(c,u),y=this.transitionsBetween(u,f),b=this.transitionsBetween(f,a),S=g,N=[f,a,c,u];return S>m&&(S=m,N[0]=a,N[1]=c,N[2]=u,N[3]=f),S>y&&(S=y,N[0]=c,N[1]=u,N[2]=f,N[3]=a),S>b&&(N[0]=u,N[1]=f,N[2]=a,N[3]=c),N}detectSolid2(s){let a=s[0],c=s[1],u=s[2],f=s[3],g=this.transitionsBetween(a,f),m=on.shiftPoint(c,u,(g+1)*4),y=on.shiftPoint(u,c,(g+1)*4),b=this.transitionsBetween(m,a),S=this.transitionsBetween(y,f);return b<S?(s[0]=a,s[1]=c,s[2]=u,s[3]=f):(s[0]=c,s[1]=u,s[2]=f,s[3]=a),s}correctTopRight(s){let a=s[0],c=s[1],u=s[2],f=s[3],g=this.transitionsBetween(a,f),m=this.transitionsBetween(c,f),y=on.shiftPoint(a,c,(m+1)*4),b=on.shiftPoint(u,c,(g+1)*4);g=this.transitionsBetween(y,f),m=this.transitionsBetween(b,f);let S=new De(f.getX()+(u.getX()-c.getX())/(g+1),f.getY()+(u.getY()-c.getY())/(g+1)),N=new De(f.getX()+(a.getX()-c.getX())/(m+1),f.getY()+(a.getY()-c.getY())/(m+1));if(!this.isValid(S))return this.isValid(N)?N:null;if(!this.isValid(N))return S;let k=this.transitionsBetween(y,S)+this.transitionsBetween(b,S),B=this.transitionsBetween(y,N)+this.transitionsBetween(b,N);return k>B?S:N}shiftToModuleCenter(s){let a=s[0],c=s[1],u=s[2],f=s[3],g=this.transitionsBetween(a,f)+1,m=this.transitionsBetween(u,f)+1,y=on.shiftPoint(a,c,m*4),b=on.shiftPoint(u,c,g*4);g=this.transitionsBetween(y,f)+1,m=this.transitionsBetween(b,f)+1,(g&1)===1&&(g+=1),(m&1)===1&&(m+=1);let S=(a.getX()+c.getX()+u.getX()+f.getX())/4,N=(a.getY()+c.getY()+u.getY()+f.getY())/4;a=on.moveAway(a,S,N),c=on.moveAway(c,S,N),u=on.moveAway(u,S,N),f=on.moveAway(f,S,N);let k,B;return y=on.shiftPoint(a,c,m*4),y=on.shiftPoint(y,f,g*4),k=on.shiftPoint(c,a,m*4),k=on.shiftPoint(k,u,g*4),b=on.shiftPoint(u,f,m*4),b=on.shiftPoint(b,c,g*4),B=on.shiftPoint(f,u,m*4),B=on.shiftPoint(B,a,g*4),[y,k,b,B]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,a,c,u,f,g,m){return mr.getInstance().sampleGrid(s,g,m,.5,.5,g-.5,.5,g-.5,m-.5,.5,m-.5,a.getX(),a.getY(),f.getX(),f.getY(),u.getX(),u.getY(),c.getX(),c.getY())}transitionsBetween(s,a){let c=Math.trunc(s.getX()),u=Math.trunc(s.getY()),f=Math.trunc(a.getX()),g=Math.trunc(a.getY()),m=Math.abs(g-u)>Math.abs(f-c);if(m){let G=c;c=u,u=G,G=f,f=g,g=G}let y=Math.abs(f-c),b=Math.abs(g-u),S=-y/2,N=u<g?1:-1,k=c<f?1:-1,B=0,Y=this.image.get(m?u:c,m?c:u);for(let G=c,K=u;G!==f;G+=k){let ie=this.image.get(m?K:G,m?G:K);if(ie!==Y&&(B++,Y=ie),S+=b,S>0){if(K===g)break;K+=N,S-=y}}return B}}class is{constructor(){this.decoder=new W3}decode(s,a=null){let c,u;if(a!=null&&a.has(z.PURE_BARCODE)){const b=is.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(b),u=is.NO_POINTS}else{const b=new on(s.getBlackMatrix()).detect();c=this.decoder.decode(b.getBits()),u=b.getPoints()}const f=c.getRawBytes(),g=new Ie(c.getText(),f,8*f.length,u,ye.DATA_MATRIX,I.currentTimeMillis()),m=c.getByteSegments();m!=null&&g.putMetadata(at.BYTE_SEGMENTS,m);const y=c.getECLevel();return y!=null&&g.putMetadata(at.ERROR_CORRECTION_LEVEL,y),g}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(a==null||c==null)throw new X;const u=this.moduleSize(a,s);let f=a[1];const g=c[1];let m=a[0];const b=(c[0]-m+1)/u,S=(g-f+1)/u;if(b<=0||S<=0)throw new X;const N=u/2;f+=N,m+=N;const k=new Oe(b,S);for(let B=0;B<S;B++){const Y=f+B*u;for(let G=0;G<b;G++)s.get(m+G*u,Y)&&k.set(G,B)}return k}static moduleSize(s,a){const c=a.getWidth();let u=s[0];const f=s[1];for(;u<c&&a.get(u,f);)u++;if(u===c)throw new X;const g=u-s[0];if(g===0)throw new X;return g}}is.NO_POINTS=[];class Y3 extends Ue{constructor(s=500){super(new is,s)}}var Lo;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(Lo||(Lo={}));class Nt{constructor(s,a,c){this.value=s,this.stringValue=a,this.bits=c,Nt.FOR_BITS.set(c,this),Nt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Nt.L;case"M":return Nt.M;case"Q":return Nt.Q;case"H":return Nt.H;default:throw new x(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Nt))return!1;const a=s;return this.value===a.value}static forBits(s){if(s<0||s>=Nt.FOR_BITS.size)throw new w;return Nt.FOR_BITS.get(s)}}Nt.FOR_BITS=new Map,Nt.FOR_VALUE=new Map,Nt.L=new Nt(Lo.L,"L",1),Nt.M=new Nt(Lo.M,"M",0),Nt.Q=new Nt(Lo.Q,"Q",3),Nt.H=new Nt(Lo.H,"H",2);class jn{constructor(s){this.errorCorrectionLevel=Nt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,a){return R.bitCount(s^a)}static decodeFormatInformation(s,a){const c=jn.doDecodeFormatInformation(s,a);return c!==null?c:jn.doDecodeFormatInformation(s^jn.FORMAT_INFO_MASK_QR,a^jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,a){let c=Number.MAX_SAFE_INTEGER,u=0;for(const f of jn.FORMAT_INFO_DECODE_LOOKUP){const g=f[0];if(g===s||g===a)return new jn(f[1]);let m=jn.numBitsDiffering(s,g);m<c&&(u=f[1],c=m),s!==a&&(m=jn.numBitsDiffering(a,g),m<c&&(u=f[1],c=m))}return c<=3?new jn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof jn))return!1;const a=s;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}jn.FORMAT_INFO_MASK_QR=21522,jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(s,...a){this.ecCodewordsPerBlock=s,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const a=this.ecBlocks;for(const c of a)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class L{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class He{constructor(s,a,...c){this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=c;let u=0;const f=c[0].getECCodewordsPerBlock(),g=c[0].getECBlocks();for(const m of g)u+=m.getCount()*(m.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new A;try{return this.getVersionForNumber((s-17)/4)}catch{throw new A}}static getVersionForNumber(s){if(s<1||s>40)throw new w;return He.VERSIONS[s-1]}static decodeVersionInformation(s){let a=Number.MAX_SAFE_INTEGER,c=0;for(let u=0;u<He.VERSION_DECODE_INFO.length;u++){const f=He.VERSION_DECODE_INFO[u];if(f===s)return He.getVersionForNumber(u+7);const g=jn.numBitsDiffering(s,f);g<a&&(c=u+7,a=g)}return a<=3?He.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),a=new Oe(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let u=0;u<c;u++){const f=this.alignmentPatternCenters[u]-2;for(let g=0;g<c;g++)u===0&&(g===0||g===c-1)||u===c-1&&g===0||a.setRegion(this.alignmentPatternCenters[g]-2,f,5,5)}return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a}toString(){return""+this.versionNumber}}He.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),He.VERSIONS=[new He(1,new Int32Array(0),new Z(7,new L(1,19)),new Z(10,new L(1,16)),new Z(13,new L(1,13)),new Z(17,new L(1,9))),new He(2,Int32Array.from([6,18]),new Z(10,new L(1,34)),new Z(16,new L(1,28)),new Z(22,new L(1,22)),new Z(28,new L(1,16))),new He(3,Int32Array.from([6,22]),new Z(15,new L(1,55)),new Z(26,new L(1,44)),new Z(18,new L(2,17)),new Z(22,new L(2,13))),new He(4,Int32Array.from([6,26]),new Z(20,new L(1,80)),new Z(18,new L(2,32)),new Z(26,new L(2,24)),new Z(16,new L(4,9))),new He(5,Int32Array.from([6,30]),new Z(26,new L(1,108)),new Z(24,new L(2,43)),new Z(18,new L(2,15),new L(2,16)),new Z(22,new L(2,11),new L(2,12))),new He(6,Int32Array.from([6,34]),new Z(18,new L(2,68)),new Z(16,new L(4,27)),new Z(24,new L(4,19)),new Z(28,new L(4,15))),new He(7,Int32Array.from([6,22,38]),new Z(20,new L(2,78)),new Z(18,new L(4,31)),new Z(18,new L(2,14),new L(4,15)),new Z(26,new L(4,13),new L(1,14))),new He(8,Int32Array.from([6,24,42]),new Z(24,new L(2,97)),new Z(22,new L(2,38),new L(2,39)),new Z(22,new L(4,18),new L(2,19)),new Z(26,new L(4,14),new L(2,15))),new He(9,Int32Array.from([6,26,46]),new Z(30,new L(2,116)),new Z(22,new L(3,36),new L(2,37)),new Z(20,new L(4,16),new L(4,17)),new Z(24,new L(4,12),new L(4,13))),new He(10,Int32Array.from([6,28,50]),new Z(18,new L(2,68),new L(2,69)),new Z(26,new L(4,43),new L(1,44)),new Z(24,new L(6,19),new L(2,20)),new Z(28,new L(6,15),new L(2,16))),new He(11,Int32Array.from([6,30,54]),new Z(20,new L(4,81)),new Z(30,new L(1,50),new L(4,51)),new Z(28,new L(4,22),new L(4,23)),new Z(24,new L(3,12),new L(8,13))),new He(12,Int32Array.from([6,32,58]),new Z(24,new L(2,92),new L(2,93)),new Z(22,new L(6,36),new L(2,37)),new Z(26,new L(4,20),new L(6,21)),new Z(28,new L(7,14),new L(4,15))),new He(13,Int32Array.from([6,34,62]),new Z(26,new L(4,107)),new Z(22,new L(8,37),new L(1,38)),new Z(24,new L(8,20),new L(4,21)),new Z(22,new L(12,11),new L(4,12))),new He(14,Int32Array.from([6,26,46,66]),new Z(30,new L(3,115),new L(1,116)),new Z(24,new L(4,40),new L(5,41)),new Z(20,new L(11,16),new L(5,17)),new Z(24,new L(11,12),new L(5,13))),new He(15,Int32Array.from([6,26,48,70]),new Z(22,new L(5,87),new L(1,88)),new Z(24,new L(5,41),new L(5,42)),new Z(30,new L(5,24),new L(7,25)),new Z(24,new L(11,12),new L(7,13))),new He(16,Int32Array.from([6,26,50,74]),new Z(24,new L(5,98),new L(1,99)),new Z(28,new L(7,45),new L(3,46)),new Z(24,new L(15,19),new L(2,20)),new Z(30,new L(3,15),new L(13,16))),new He(17,Int32Array.from([6,30,54,78]),new Z(28,new L(1,107),new L(5,108)),new Z(28,new L(10,46),new L(1,47)),new Z(28,new L(1,22),new L(15,23)),new Z(28,new L(2,14),new L(17,15))),new He(18,Int32Array.from([6,30,56,82]),new Z(30,new L(5,120),new L(1,121)),new Z(26,new L(9,43),new L(4,44)),new Z(28,new L(17,22),new L(1,23)),new Z(28,new L(2,14),new L(19,15))),new He(19,Int32Array.from([6,30,58,86]),new Z(28,new L(3,113),new L(4,114)),new Z(26,new L(3,44),new L(11,45)),new Z(26,new L(17,21),new L(4,22)),new Z(26,new L(9,13),new L(16,14))),new He(20,Int32Array.from([6,34,62,90]),new Z(28,new L(3,107),new L(5,108)),new Z(26,new L(3,41),new L(13,42)),new Z(30,new L(15,24),new L(5,25)),new Z(28,new L(15,15),new L(10,16))),new He(21,Int32Array.from([6,28,50,72,94]),new Z(28,new L(4,116),new L(4,117)),new Z(26,new L(17,42)),new Z(28,new L(17,22),new L(6,23)),new Z(30,new L(19,16),new L(6,17))),new He(22,Int32Array.from([6,26,50,74,98]),new Z(28,new L(2,111),new L(7,112)),new Z(28,new L(17,46)),new Z(30,new L(7,24),new L(16,25)),new Z(24,new L(34,13))),new He(23,Int32Array.from([6,30,54,78,102]),new Z(30,new L(4,121),new L(5,122)),new Z(28,new L(4,47),new L(14,48)),new Z(30,new L(11,24),new L(14,25)),new Z(30,new L(16,15),new L(14,16))),new He(24,Int32Array.from([6,28,54,80,106]),new Z(30,new L(6,117),new L(4,118)),new Z(28,new L(6,45),new L(14,46)),new Z(30,new L(11,24),new L(16,25)),new Z(30,new L(30,16),new L(2,17))),new He(25,Int32Array.from([6,32,58,84,110]),new Z(26,new L(8,106),new L(4,107)),new Z(28,new L(8,47),new L(13,48)),new Z(30,new L(7,24),new L(22,25)),new Z(30,new L(22,15),new L(13,16))),new He(26,Int32Array.from([6,30,58,86,114]),new Z(28,new L(10,114),new L(2,115)),new Z(28,new L(19,46),new L(4,47)),new Z(28,new L(28,22),new L(6,23)),new Z(30,new L(33,16),new L(4,17))),new He(27,Int32Array.from([6,34,62,90,118]),new Z(30,new L(8,122),new L(4,123)),new Z(28,new L(22,45),new L(3,46)),new Z(30,new L(8,23),new L(26,24)),new Z(30,new L(12,15),new L(28,16))),new He(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new L(3,117),new L(10,118)),new Z(28,new L(3,45),new L(23,46)),new Z(30,new L(4,24),new L(31,25)),new Z(30,new L(11,15),new L(31,16))),new He(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new L(7,116),new L(7,117)),new Z(28,new L(21,45),new L(7,46)),new Z(30,new L(1,23),new L(37,24)),new Z(30,new L(19,15),new L(26,16))),new He(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new L(5,115),new L(10,116)),new Z(28,new L(19,47),new L(10,48)),new Z(30,new L(15,24),new L(25,25)),new Z(30,new L(23,15),new L(25,16))),new He(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new L(13,115),new L(3,116)),new Z(28,new L(2,46),new L(29,47)),new Z(30,new L(42,24),new L(1,25)),new Z(30,new L(23,15),new L(28,16))),new He(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new L(17,115)),new Z(28,new L(10,46),new L(23,47)),new Z(30,new L(10,24),new L(35,25)),new Z(30,new L(19,15),new L(35,16))),new He(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new L(17,115),new L(1,116)),new Z(28,new L(14,46),new L(21,47)),new Z(30,new L(29,24),new L(19,25)),new Z(30,new L(11,15),new L(46,16))),new He(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new L(13,115),new L(6,116)),new Z(28,new L(14,46),new L(23,47)),new Z(30,new L(44,24),new L(7,25)),new Z(30,new L(59,16),new L(1,17))),new He(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new L(12,121),new L(7,122)),new Z(28,new L(12,47),new L(26,48)),new Z(30,new L(39,24),new L(14,25)),new Z(30,new L(22,15),new L(41,16))),new He(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new L(6,121),new L(14,122)),new Z(28,new L(6,47),new L(34,48)),new Z(30,new L(46,24),new L(10,25)),new Z(30,new L(2,15),new L(64,16))),new He(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new L(17,122),new L(4,123)),new Z(28,new L(29,46),new L(14,47)),new Z(30,new L(49,24),new L(10,25)),new Z(30,new L(24,15),new L(46,16))),new He(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new L(4,122),new L(18,123)),new Z(28,new L(13,46),new L(32,47)),new Z(30,new L(48,24),new L(14,25)),new Z(30,new L(42,15),new L(32,16))),new He(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new L(20,117),new L(4,118)),new Z(28,new L(40,47),new L(7,48)),new Z(30,new L(43,24),new L(22,25)),new Z(30,new L(10,15),new L(67,16))),new He(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new L(19,118),new L(6,119)),new Z(28,new L(18,47),new L(31,48)),new Z(30,new L(34,24),new L(34,25)),new Z(30,new L(20,15),new L(61,16)))];var En;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(En||(En={}));class Rr{constructor(s,a){this.value=s,this.isMasked=a}unmaskBitMatrix(s,a){for(let c=0;c<a;c++)for(let u=0;u<a;u++)this.isMasked(c,u)&&s.flip(u,c)}}Rr.values=new Map([[En.DATA_MASK_000,new Rr(En.DATA_MASK_000,(T,s)=>(T+s&1)===0)],[En.DATA_MASK_001,new Rr(En.DATA_MASK_001,(T,s)=>(T&1)===0)],[En.DATA_MASK_010,new Rr(En.DATA_MASK_010,(T,s)=>s%3===0)],[En.DATA_MASK_011,new Rr(En.DATA_MASK_011,(T,s)=>(T+s)%3===0)],[En.DATA_MASK_100,new Rr(En.DATA_MASK_100,(T,s)=>(Math.floor(T/2)+Math.floor(s/3)&1)===0)],[En.DATA_MASK_101,new Rr(En.DATA_MASK_101,(T,s)=>T*s%6===0)],[En.DATA_MASK_110,new Rr(En.DATA_MASK_110,(T,s)=>T*s%6<3)],[En.DATA_MASK_111,new Rr(En.DATA_MASK_111,(T,s)=>(T+s+T*s%3&1)===0)]]);class G3{constructor(s){const a=s.getHeight();if(a<21||(a&3)!==1)throw new A;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let f=0;f<6;f++)s=this.copyBit(f,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let f=5;f>=0;f--)s=this.copyBit(8,f,s);const a=this.bitMatrix.getHeight();let c=0;const u=a-7;for(let f=a-1;f>=u;f--)c=this.copyBit(8,f,c);for(let f=a-8;f<a;f++)c=this.copyBit(f,8,c);if(this.parsedFormatInfo=jn.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new A}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return He.getVersionForNumber(a);let c=0;const u=s-11;for(let g=5;g>=0;g--)for(let m=s-9;m>=u;m--)c=this.copyBit(m,g,c);let f=He.decodeVersionInformation(c);if(f!==null&&f.getDimensionForVersion()===s)return this.parsedVersion=f,f;c=0;for(let g=5;g>=0;g--)for(let m=s-9;m>=u;m--)c=this.copyBit(g,m,c);if(f=He.decodeVersionInformation(c),f!==null&&f.getDimensionForVersion()===s)return this.parsedVersion=f,f;throw new A}copyBit(s,a,c){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),a=this.readVersion(),c=Rr.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,u);const f=a.buildFunctionPattern();let g=!0;const m=new Uint8Array(a.getTotalCodewords());let y=0,b=0,S=0;for(let N=u-1;N>0;N-=2){N===6&&N--;for(let k=0;k<u;k++){const B=g?u-1-k:k;for(let Y=0;Y<2;Y++)f.get(N-Y,B)||(S++,b<<=1,this.bitMatrix.get(N-Y,B)&&(b|=1),S===8&&(m[y++]=b,S=0,b=0))}g=!g}if(y!==a.getTotalCodewords())throw new A;return m}remask(){if(this.parsedFormatInfo===null)return;const s=Rr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let a=0,c=s.getWidth();a<c;a++)for(let u=a+1,f=s.getHeight();u<f;u++)s.get(a,u)!==s.get(u,a)&&(s.flip(u,a),s.flip(a,u))}}class Sf{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a,c){if(s.length!==a.getTotalCodewords())throw new w;const u=a.getECBlocksForLevel(c);let f=0;const g=u.getECBlocks();for(const Y of g)f+=Y.getCount();const m=new Array(f);let y=0;for(const Y of g)for(let G=0;G<Y.getCount();G++){const K=Y.getDataCodewords(),ie=u.getECCodewordsPerBlock()+K;m[y++]=new Sf(K,new Uint8Array(ie))}const b=m[0].codewords.length;let S=m.length-1;for(;S>=0&&m[S].codewords.length!==b;)S--;S++;const N=b-u.getECCodewordsPerBlock();let k=0;for(let Y=0;Y<N;Y++)for(let G=0;G<y;G++)m[G].codewords[Y]=s[k++];for(let Y=S;Y<y;Y++)m[Y].codewords[N]=s[k++];const B=m[0].codewords.length;for(let Y=N;Y<B;Y++)for(let G=0;G<y;G++){const K=G<S?Y:Y+1;m[G].codewords[K]=s[k++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var kr;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(kr||(kr={}));class Ve{constructor(s,a,c,u){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=c,this.bits=u,Ve.FOR_BITS.set(u,this),Ve.FOR_VALUE.set(s,this)}static forBits(s){const a=Ve.FOR_BITS.get(s);if(a===void 0)throw new w;return a}getCharacterCountBits(s){const a=s.getVersionNumber();let c;return a<=9?c=0:a<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Ve))return!1;const a=s;return this.value===a.value}toString(){return this.stringValue}}Ve.FOR_BITS=new Map,Ve.FOR_VALUE=new Map,Ve.TERMINATOR=new Ve(kr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ve.NUMERIC=new Ve(kr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ve.ALPHANUMERIC=new Ve(kr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ve.STRUCTURED_APPEND=new Ve(kr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ve.BYTE=new Ve(kr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ve.ECI=new Ve(kr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ve.KANJI=new Ve(kr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ve.FNC1_FIRST_POSITION=new Ve(kr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ve.FNC1_SECOND_POSITION=new Ve(kr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ve.HANZI=new Ve(kr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Gt{static decode(s,a,c,u){const f=new Ef(s);let g=new xe;const m=new Array;let y=-1,b=-1;try{let S=null,N=!1,k;do{if(f.available()<4)k=Ve.TERMINATOR;else{const B=f.readBits(4);k=Ve.forBits(B)}switch(k){case Ve.TERMINATOR:break;case Ve.FNC1_FIRST_POSITION:case Ve.FNC1_SECOND_POSITION:N=!0;break;case Ve.STRUCTURED_APPEND:if(f.available()<16)throw new A;y=f.readBits(8),b=f.readBits(8);break;case Ve.ECI:const B=Gt.parseECIValue(f);if(S=U.getCharacterSetECIByValue(B),S===null)throw new A;break;case Ve.HANZI:const Y=f.readBits(4),G=f.readBits(k.getCharacterCountBits(a));Y===Gt.GB2312_SUBSET&&Gt.decodeHanziSegment(f,g,G);break;default:const K=f.readBits(k.getCharacterCountBits(a));switch(k){case Ve.NUMERIC:Gt.decodeNumericSegment(f,g,K);break;case Ve.ALPHANUMERIC:Gt.decodeAlphanumericSegment(f,g,K,N);break;case Ve.BYTE:Gt.decodeByteSegment(f,g,K,S,m,u);break;case Ve.KANJI:Gt.decodeKanjiSegment(f,g,K);break;default:throw new A}break}}while(k!==Ve.TERMINATOR)}catch{throw new A}return new Vt(s,g.toString(),m.length===0?null:m,c===null?null:c.toString(),y,b)}static decodeHanziSegment(s,a,c){if(c*13>s.available())throw new A;const u=new Uint8Array(2*c);let f=0;for(;c>0;){const g=s.readBits(13);let m=g/96<<8&4294967295|g%96;m<959?m+=41377:m+=42657,u[f]=m>>8&255,u[f+1]=m&255,f+=2,c--}try{a.append(ce.decode(u,se.GB2312))}catch(g){throw new A(g)}}static decodeKanjiSegment(s,a,c){if(c*13>s.available())throw new A;const u=new Uint8Array(2*c);let f=0;for(;c>0;){const g=s.readBits(13);let m=g/192<<8&4294967295|g%192;m<7936?m+=33088:m+=49472,u[f]=m>>8,u[f+1]=m,f+=2,c--}try{a.append(ce.decode(u,se.SHIFT_JIS))}catch(g){throw new A(g)}}static decodeByteSegment(s,a,c,u,f,g){if(8*c>s.available())throw new A;const m=new Uint8Array(c);for(let b=0;b<c;b++)m[b]=s.readBits(8);let y;u===null?y=se.guessEncoding(m,g):y=u.getName();try{a.append(ce.decode(m,y))}catch(b){throw new A(b)}f.push(m)}static toAlphaNumericChar(s){if(s>=Gt.ALPHANUMERIC_CHARS.length)throw new A;return Gt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,a,c,u){const f=a.length();for(;c>1;){if(s.available()<11)throw new A;const g=s.readBits(11);a.append(Gt.toAlphaNumericChar(Math.floor(g/45))),a.append(Gt.toAlphaNumericChar(g%45)),c-=2}if(c===1){if(s.available()<6)throw new A;a.append(Gt.toAlphaNumericChar(s.readBits(6)))}if(u)for(let g=f;g<a.length();g++)a.charAt(g)==="%"&&(g<a.length()-1&&a.charAt(g+1)==="%"?a.deleteCharAt(g+1):a.setCharAt(g,""))}static decodeNumericSegment(s,a,c){for(;c>=3;){if(s.available()<10)throw new A;const u=s.readBits(10);if(u>=1e3)throw new A;a.append(Gt.toAlphaNumericChar(Math.floor(u/100))),a.append(Gt.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(Gt.toAlphaNumericChar(u%10)),c-=3}if(c===2){if(s.available()<7)throw new A;const u=s.readBits(7);if(u>=100)throw new A;a.append(Gt.toAlphaNumericChar(Math.floor(u/10))),a.append(Gt.toAlphaNumericChar(u%10))}else if(c===1){if(s.available()<4)throw new A;const u=s.readBits(4);if(u>=10)throw new A;a.append(Gt.toAlphaNumericChar(u))}}static parseECIValue(s){const a=s.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const c=s.readBits(8);return(a&63)<<8&4294967295|c}if((a&224)===192){const c=s.readBits(16);return(a&31)<<16&4294967295|c}throw new A}}Gt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Gt.GB2312_SUBSET=1;class tp{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const a=s[0];s[0]=s[2],s[2]=a}}class X3{constructor(){this.rsDecoder=new Gn(We.QR_CODE_FIELD_256)}decodeBooleanArray(s,a){return this.decodeBitMatrix(Oe.parseFromBooleanArray(s),a)}decodeBitMatrix(s,a){const c=new G3(s);let u=null;try{return this.decodeBitMatrixParser(c,a)}catch(f){u=f}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const f=this.decodeBitMatrixParser(c,a);return f.setOther(new tp(!0)),f}catch(f){throw u!==null?u:f}}decodeBitMatrixParser(s,a){const c=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),f=s.readCodewords(),g=Sf.getDataBlocks(f,c,u);let m=0;for(const S of g)m+=S.getNumDataCodewords();const y=new Uint8Array(m);let b=0;for(const S of g){const N=S.getCodewords(),k=S.getNumDataCodewords();this.correctErrors(N,k);for(let B=0;B<k;B++)y[b++]=N[B]}return Gt.decode(y,c,u,a)}correctErrors(s,a){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-a)}catch{throw new E}for(let u=0;u<a;u++)s[u]=c[u]}}class Af extends De{constructor(s,a,c){super(s,a),this.estimatedModuleSize=c}aboutEquals(s,a,c){if(Math.abs(a-this.getY())<=s&&Math.abs(c-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,c){const u=(this.getX()+a)/2,f=(this.getY()+s)/2,g=(this.estimatedModuleSize+c)/2;return new Af(u,f,g)}}class Oc{constructor(s,a,c,u,f,g,m){this.image=s,this.startX=a,this.startY=c,this.width=u,this.height=f,this.moduleSize=g,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,a=this.height,c=this.width,u=s+c,f=this.startY+a/2,g=new Int32Array(3),m=this.image;for(let y=0;y<a;y++){const b=f+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));g[0]=0,g[1]=0,g[2]=0;let S=s;for(;S<u&&!m.get(S,b);)S++;let N=0;for(;S<u;){if(m.get(S,b))if(N===1)g[1]++;else if(N===2){if(this.foundPatternCross(g)){const k=this.handlePossibleCenter(g,b,S);if(k!==null)return k}g[0]=g[2],g[1]=1,g[2]=0,N=1}else g[++N]++;else N===1&&N++,g[N]++;S++}if(this.foundPatternCross(g)){const k=this.handlePossibleCenter(g,b,u);if(k!==null)return k}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(s,a){return a-s[2]-s[1]/2}foundPatternCross(s){const a=this.moduleSize,c=a/2;for(let u=0;u<3;u++)if(Math.abs(a-s[u])>=c)return!1;return!0}crossCheckVertical(s,a,c,u){const f=this.image,g=f.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let y=s;for(;y>=0&&f.get(a,y)&&m[1]<=c;)m[1]++,y--;if(y<0||m[1]>c)return NaN;for(;y>=0&&!f.get(a,y)&&m[0]<=c;)m[0]++,y--;if(m[0]>c)return NaN;for(y=s+1;y<g&&f.get(a,y)&&m[1]<=c;)m[1]++,y++;if(y===g||m[1]>c)return NaN;for(;y<g&&!f.get(a,y)&&m[2]<=c;)m[2]++,y++;if(m[2]>c)return NaN;const b=m[0]+m[1]+m[2];return 5*Math.abs(b-u)>=2*u?NaN:this.foundPatternCross(m)?Oc.centerFromEnd(m,y):NaN}handlePossibleCenter(s,a,c){const u=s[0]+s[1]+s[2],f=Oc.centerFromEnd(s,c),g=this.crossCheckVertical(a,f,2*s[1],u);if(!isNaN(g)){const m=(s[0]+s[1]+s[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(m,g,f))return b.combineEstimate(g,f,m);const y=new Af(f,g,m);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class _f extends De{constructor(s,a,c,u){super(s,a),this.estimatedModuleSize=c,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,a,c){if(Math.abs(a-this.getY())<=s&&Math.abs(c-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,c){const u=this.count+1,f=(this.count*this.getX()+a)/u,g=(this.count*this.getY()+s)/u,m=(this.count*this.estimatedModuleSize+c)/u;return new _f(f,g,m,u)}}class $3{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Sn{constructor(s,a){this.image=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const a=s!=null&&s.get(z.TRY_HARDER)!==void 0,c=s!=null&&s.get(z.PURE_BARCODE)!==void 0,u=this.image,f=u.getHeight(),g=u.getWidth();let m=Math.floor(3*f/(4*Sn.MAX_MODULES));(m<Sn.MIN_SKIP||a)&&(m=Sn.MIN_SKIP);let y=!1;const b=new Int32Array(5);for(let N=m-1;N<f&&!y;N+=m){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let k=0;for(let B=0;B<g;B++)if(u.get(B,N))(k&1)===1&&k++,b[k]++;else if(k&1)b[k]++;else if(k===4)if(Sn.foundPatternCross(b)){if(this.handlePossibleCenter(b,N,B,c)===!0)if(m=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>b[2]&&(N+=G-b[2]-m,B=g-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,k=3;continue}k=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,k=3;else b[++k]++;Sn.foundPatternCross(b)&&this.handlePossibleCenter(b,N,g,c)===!0&&(m=b[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const S=this.selectBestPatterns();return De.orderBestPatterns(S),new $3(S)}static centerFromEnd(s,a){return a-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let a=0;for(let f=0;f<5;f++){const g=s[f];if(g===0)return!1;a+=g}if(a<7)return!1;const c=a/7,u=c/2;return Math.abs(c-s[0])<u&&Math.abs(c-s[1])<u&&Math.abs(3*c-s[2])<3*u&&Math.abs(c-s[3])<u&&Math.abs(c-s[4])<u}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,a,c,u){const f=this.getCrossCheckStateCount();let g=0;const m=this.image;for(;s>=g&&a>=g&&m.get(a-g,s-g);)f[2]++,g++;if(s<g||a<g)return!1;for(;s>=g&&a>=g&&!m.get(a-g,s-g)&&f[1]<=c;)f[1]++,g++;if(s<g||a<g||f[1]>c)return!1;for(;s>=g&&a>=g&&m.get(a-g,s-g)&&f[0]<=c;)f[0]++,g++;if(f[0]>c)return!1;const y=m.getHeight(),b=m.getWidth();for(g=1;s+g<y&&a+g<b&&m.get(a+g,s+g);)f[2]++,g++;if(s+g>=y||a+g>=b)return!1;for(;s+g<y&&a+g<b&&!m.get(a+g,s+g)&&f[3]<c;)f[3]++,g++;if(s+g>=y||a+g>=b||f[3]>=c)return!1;for(;s+g<y&&a+g<b&&m.get(a+g,s+g)&&f[4]<c;)f[4]++,g++;if(f[4]>=c)return!1;const S=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(S-u)<2*u&&Sn.foundPatternCross(f)}crossCheckVertical(s,a,c,u){const f=this.image,g=f.getHeight(),m=this.getCrossCheckStateCount();let y=s;for(;y>=0&&f.get(a,y);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!f.get(a,y)&&m[1]<=c;)m[1]++,y--;if(y<0||m[1]>c)return NaN;for(;y>=0&&f.get(a,y)&&m[0]<=c;)m[0]++,y--;if(m[0]>c)return NaN;for(y=s+1;y<g&&f.get(a,y);)m[2]++,y++;if(y===g)return NaN;for(;y<g&&!f.get(a,y)&&m[3]<c;)m[3]++,y++;if(y===g||m[3]>=c)return NaN;for(;y<g&&f.get(a,y)&&m[4]<c;)m[4]++,y++;if(m[4]>=c)return NaN;const b=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(b-u)>=2*u?NaN:Sn.foundPatternCross(m)?Sn.centerFromEnd(m,y):NaN}crossCheckHorizontal(s,a,c,u){const f=this.image,g=f.getWidth(),m=this.getCrossCheckStateCount();let y=s;for(;y>=0&&f.get(y,a);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!f.get(y,a)&&m[1]<=c;)m[1]++,y--;if(y<0||m[1]>c)return NaN;for(;y>=0&&f.get(y,a)&&m[0]<=c;)m[0]++,y--;if(m[0]>c)return NaN;for(y=s+1;y<g&&f.get(y,a);)m[2]++,y++;if(y===g)return NaN;for(;y<g&&!f.get(y,a)&&m[3]<c;)m[3]++,y++;if(y===g||m[3]>=c)return NaN;for(;y<g&&f.get(y,a)&&m[4]<c;)m[4]++,y++;if(m[4]>=c)return NaN;const b=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(b-u)>=u?NaN:Sn.foundPatternCross(m)?Sn.centerFromEnd(m,y):NaN}handlePossibleCenter(s,a,c,u){const f=s[0]+s[1]+s[2]+s[3]+s[4];let g=Sn.centerFromEnd(s,c),m=this.crossCheckVertical(a,Math.floor(g),s[2],f);if(!isNaN(m)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(m),s[2],f),!isNaN(g)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(g),s[2],f)))){const y=f/7;let b=!1;const S=this.possibleCenters;for(let N=0,k=S.length;N<k;N++){const B=S[N];if(B.aboutEquals(y,m,g)){S[N]=B.combineEstimate(m,g,y),b=!0;break}}if(!b){const N=new _f(g,m,y);S.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const c of this.possibleCenters)if(c.getCount()>=Sn.CENTER_QUORUM)if(a==null)a=c;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-c.getX())-Math.abs(a.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,a=0;const c=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Sn.CENTER_QUORUM&&(s++,a+=g.getEstimatedModuleSize());if(s<3)return!1;const u=a/c;let f=0;for(const g of this.possibleCenters)f+=Math.abs(g.getEstimatedModuleSize()-u);return f<=.05*a}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new X;const a=this.possibleCenters;let c;if(s>3){let u=0,f=0;for(const y of this.possibleCenters){const b=y.getEstimatedModuleSize();u+=b,f+=b*b}c=u/s;let g=Math.sqrt(f/s-c*c);a.sort((y,b)=>{const S=Math.abs(b.getEstimatedModuleSize()-c),N=Math.abs(y.getEstimatedModuleSize()-c);return S<N?-1:S>N?1:0});const m=Math.max(.2*c,g);for(let y=0;y<a.length&&a.length>3;y++){const b=a[y];Math.abs(b.getEstimatedModuleSize()-c)>m&&(a.splice(y,1),y--)}}if(a.length>3){let u=0;for(const f of a)u+=f.getEstimatedModuleSize();c=u/a.length,a.sort((f,g)=>{if(g.getCount()===f.getCount()){const m=Math.abs(g.getEstimatedModuleSize()-c),y=Math.abs(f.getEstimatedModuleSize()-c);return m<y?1:m>y?-1:0}else return g.getCount()-f.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Sn.CENTER_QUORUM=2,Sn.MIN_SKIP=3,Sn.MAX_MODULES=57;class za{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(z.NEED_RESULT_POINT_CALLBACK);const c=new Sn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const a=s.getTopLeft(),c=s.getTopRight(),u=s.getBottomLeft(),f=this.calculateModuleSize(a,c,u);if(f<1)throw new X("No pattern found in proccess finder.");const g=za.computeDimension(a,c,u,f),m=He.getProvisionalVersionForDimension(g),y=m.getDimensionForVersion()-7;let b=null;if(m.getAlignmentPatternCenters().length>0){const B=c.getX()-a.getX()+u.getX(),Y=c.getY()-a.getY()+u.getY(),G=1-3/y,K=Math.floor(a.getX()+G*(B-a.getX())),ie=Math.floor(a.getY()+G*(Y-a.getY()));for(let ve=4;ve<=16;ve<<=1)try{b=this.findAlignmentInRegion(f,K,ie,ve);break}catch(Ce){if(!(Ce instanceof X))throw Ce}}const S=za.createTransform(a,c,u,b,g),N=za.sampleGrid(this.image,S,g);let k;return b===null?k=[u,a,c]:k=[u,a,c,b],new Nn(N,k)}static createTransform(s,a,c,u,f){const g=f-3.5;let m,y,b,S;return u!==null?(m=u.getX(),y=u.getY(),b=g-3,S=b):(m=a.getX()-s.getX()+c.getX(),y=a.getY()-s.getY()+c.getY(),b=g,S=g),Qt.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,b,S,3.5,g,s.getX(),s.getY(),a.getX(),a.getY(),m,y,c.getX(),c.getY())}static sampleGrid(s,a,c){return mr.getInstance().sampleGridWithTransform(s,c,c,a)}static computeDimension(s,a,c,u){const f=rt.round(De.distance(s,a)/u),g=rt.round(De.distance(s,c)/u);let m=Math.floor((f+g)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new X("Dimensions could be not found.")}return m}calculateModuleSize(s,a,c){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,a){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?u/7:isNaN(u)?c/7:(c+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,a,c,u){let f=this.sizeOfBlackWhiteBlackRun(s,a,c,u),g=1,m=s-(c-s);m<0?(g=s/(s-m),m=0):m>=this.image.getWidth()&&(g=(this.image.getWidth()-1-s)/(m-s),m=this.image.getWidth()-1);let y=Math.floor(a-(u-a)*g);return g=1,y<0?(g=a/(a-y),y=0):y>=this.image.getHeight()&&(g=(this.image.getHeight()-1-a)/(y-a),y=this.image.getHeight()-1),m=Math.floor(s+(m-s)*g),f+=this.sizeOfBlackWhiteBlackRun(s,a,m,y),f-1}sizeOfBlackWhiteBlackRun(s,a,c,u){const f=Math.abs(u-a)>Math.abs(c-s);if(f){let B=s;s=a,a=B,B=c,c=u,u=B}const g=Math.abs(c-s),m=Math.abs(u-a);let y=-g/2;const b=s<c?1:-1,S=a<u?1:-1;let N=0;const k=c+b;for(let B=s,Y=a;B!==k;B+=b){const G=f?Y:B,K=f?B:Y;if(N===1===this.image.get(G,K)){if(N===2)return rt.distance(B,Y,s,a);N++}if(y+=m,y>0){if(Y===u)break;Y+=S,y-=g}}return N===2?rt.distance(c+b,u,s,a):NaN}findAlignmentInRegion(s,a,c,u){const f=Math.floor(u*s),g=Math.max(0,a-f),m=Math.min(this.image.getWidth()-1,a+f);if(m-g<s*3)throw new X("Alignment top exceeds estimated module size.");const y=Math.max(0,c-f),b=Math.min(this.image.getHeight()-1,c+f);if(b-y<s*3)throw new X("Alignment bottom exceeds estimated module size.");return new Oc(this.image,g,y,m-g,b-y,s,this.resultPointCallback).find()}}class ss{constructor(){this.decoder=new X3}getDecoder(){return this.decoder}decode(s,a){let c,u;if(a!=null&&a.get(z.PURE_BARCODE)!==void 0){const y=ss.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(y,a),u=ss.NO_POINTS}else{const y=new za(s.getBlackMatrix()).detect(a);c=this.decoder.decodeBitMatrix(y.getBits(),a),u=y.getPoints()}c.getOther()instanceof tp&&c.getOther().applyMirroredCorrection(u);const f=new Ie(c.getText(),c.getRawBytes(),void 0,u,ye.QR_CODE,void 0),g=c.getByteSegments();g!==null&&f.putMetadata(at.BYTE_SEGMENTS,g);const m=c.getECLevel();return m!==null&&f.putMetadata(at.ERROR_CORRECTION_LEVEL,m),c.hasStructuredAppend()&&(f.putMetadata(at.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),f.putMetadata(at.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),f}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(a===null||c===null)throw new X;const u=this.moduleSize(a,s);let f=a[1],g=c[1],m=a[0],y=c[0];if(m>=y||f>=g)throw new X;if(g-f!==y-m&&(y=m+(g-f),y>=s.getWidth()))throw new X;const b=Math.round((y-m+1)/u),S=Math.round((g-f+1)/u);if(b<=0||S<=0)throw new X;if(S!==b)throw new X;const N=Math.floor(u/2);f+=N,m+=N;const k=m+Math.floor((b-1)*u)-y;if(k>0){if(k>N)throw new X;m-=k}const B=f+Math.floor((S-1)*u)-g;if(B>0){if(B>N)throw new X;f-=B}const Y=new Oe(b,S);for(let G=0;G<S;G++){const K=f+Math.floor(G*u);for(let ie=0;ie<b;ie++)s.get(m+Math.floor(ie*u),K)&&Y.set(ie,G)}return Y}static moduleSize(s,a){const c=a.getHeight(),u=a.getWidth();let f=s[0],g=s[1],m=!0,y=0;for(;f<u&&g<c;){if(m!==a.get(f,g)){if(++y===5)break;m=!m}f++,g++}if(f===u||g===c)throw new X;return(f-s[0])/7}}ss.NO_POINTS=new Array;class Xe{PDF417Common(){}static getBitCountSum(s){return rt.sum(s)}static toIntArray(s){if(s==null||!s.length)return Xe.EMPTY_INT_ARRAY;const a=new Int32Array(s.length);let c=0;for(const u of s)a[c++]=u;return a}static getCodeword(s){const a=M.binarySearch(Xe.SYMBOL_TABLE,s&262143);return a<0?-1:(Xe.CODEWORD_TABLE[a]-1)%Xe.NUMBER_OF_CODEWORDS}}Xe.NUMBER_OF_CODEWORDS=929,Xe.MAX_CODEWORDS_IN_BARCODE=Xe.NUMBER_OF_CODEWORDS-1,Xe.MIN_ROWS_IN_BARCODE=3,Xe.MAX_ROWS_IN_BARCODE=90,Xe.MODULES_IN_CODEWORD=17,Xe.MODULES_IN_STOP_PATTERN=18,Xe.BARS_IN_MODULE=8,Xe.EMPTY_INT_ARRAY=new Int32Array([]),Xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class K3{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Je{static detectMultiple(s,a,c){let u=s.getBlackMatrix(),f=Je.detect(c,u);return f.length||(u=u.clone(),u.rotate180(),f=Je.detect(c,u)),new K3(u,f)}static detect(s,a){const c=new Array;let u=0,f=0,g=!1;for(;u<a.getHeight();){const m=Je.findVertices(a,u,f);if(m[0]==null&&m[3]==null){if(!g)break;g=!1,f=0;for(const y of c)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=Je.ROW_STEP;continue}if(g=!0,c.push(m),!s)break;m[2]!=null?(f=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(f=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return c}static findVertices(s,a,c){const u=s.getHeight(),f=s.getWidth(),g=new Array(8);return Je.copyToResult(g,Je.findRowsWithPattern(s,u,f,a,c,Je.START_PATTERN),Je.INDEXES_START_PATTERN),g[4]!=null&&(c=Math.trunc(g[4].getX()),a=Math.trunc(g[4].getY())),Je.copyToResult(g,Je.findRowsWithPattern(s,u,f,a,c,Je.STOP_PATTERN),Je.INDEXES_STOP_PATTERN),g}static copyToResult(s,a,c){for(let u=0;u<c.length;u++)s[c[u]]=a[u]}static findRowsWithPattern(s,a,c,u,f,g){const m=new Array(4);let y=!1;const b=new Int32Array(g.length);for(;u<a;u+=Je.ROW_STEP){let N=Je.findGuardPattern(s,f,u,c,!1,g,b);if(N!=null){for(;u>0;){const k=Je.findGuardPattern(s,f,--u,c,!1,g,b);if(k!=null)N=k;else{u++;break}}m[0]=new De(N[0],u),m[1]=new De(N[1],u),y=!0;break}}let S=u+1;if(y){let N=0,k=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;S<a;S++){const B=Je.findGuardPattern(s,k[0],S,c,!1,g,b);if(B!=null&&Math.abs(k[0]-B[0])<Je.MAX_PATTERN_DRIFT&&Math.abs(k[1]-B[1])<Je.MAX_PATTERN_DRIFT)k=B,N=0;else{if(N>Je.SKIPPED_ROW_COUNT_MAX)break;N++}}S-=N+1,m[2]=new De(k[0],S),m[3]=new De(k[1],S)}return S-u<Je.BARCODE_MIN_HEIGHT&&M.fill(m,null),m}static findGuardPattern(s,a,c,u,f,g,m){M.fillWithin(m,0,m.length,0);let y=a,b=0;for(;s.get(y,c)&&y>0&&b++<Je.MAX_PIXEL_DRIFT;)y--;let S=y,N=0,k=g.length;for(let B=f;S<u;S++)if(s.get(S,c)!==B)m[N]++;else{if(N===k-1){if(Je.patternMatchVariance(m,g,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE)return new Int32Array([y,S]);y+=m[0]+m[1],I.arraycopy(m,2,m,0,N-1),m[N-1]=0,m[N]=0,N--}else N++;m[N]=1,B=!B}return N===k-1&&Je.patternMatchVariance(m,g,Je.MAX_INDIVIDUAL_VARIANCE)<Je.MAX_AVG_VARIANCE?new Int32Array([y,S-1]):null}static patternMatchVariance(s,a,c){let u=s.length,f=0,g=0;for(let b=0;b<u;b++)f+=s[b],g+=a[b];if(f<g)return 1/0;let m=f/g;c*=m;let y=0;for(let b=0;b<u;b++){let S=s[b],N=a[b]*m,k=S>N?S-N:N-S;if(k>c)return 1/0;y+=k}return y/f}}Je.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Je.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Je.MAX_AVG_VARIANCE=.42,Je.MAX_INDIVIDUAL_VARIANCE=.8,Je.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Je.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Je.MAX_PIXEL_DRIFT=3,Je.MAX_PATTERN_DRIFT=5,Je.SKIPPED_ROW_COUNT_MAX=25,Je.ROW_STEP=5,Je.BARCODE_MIN_HEIGHT=10;class Mn{constructor(s,a){if(a.length===0)throw new w;this.field=s;let c=a.length;if(c>1&&a[0]===0){let u=1;for(;u<c&&a[u]===0;)u++;u===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-u),I.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let u=0;for(let f of this.coefficients)u=this.field.add(u,f);return u}let a=this.coefficients[0],c=this.coefficients.length;for(let u=1;u<c;u++)a=this.field.add(this.field.multiply(s,a),this.coefficients[u]);return a}add(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,c=s.coefficients;if(a.length>c.length){let g=a;a=c,c=g}let u=new Int32Array(c.length),f=c.length-a.length;I.arraycopy(c,0,u,0,f);for(let g=f;g<c.length;g++)u[g]=this.field.add(a[g-f],c[g]);return new Mn(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Mn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Mn(this.field,new Int32Array([0]));let a=this.coefficients,c=a.length,u=s.coefficients,f=u.length,g=new Int32Array(c+f-1);for(let m=0;m<c;m++){let y=a[m];for(let b=0;b<f;b++)g[m+b]=this.field.add(g[m+b],this.field.multiply(y,u[b]))}return new Mn(this.field,g)}negative(){let s=this.coefficients.length,a=new Int32Array(s);for(let c=0;c<s;c++)a[c]=this.field.subtract(0,this.coefficients[c]);return new Mn(this.field,a)}multiplyScalar(s){if(s===0)return new Mn(this.field,new Int32Array([0]));if(s===1)return this;let a=this.coefficients.length,c=new Int32Array(a);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],s);return new Mn(this.field,c)}multiplyByMonomial(s,a){if(s<0)throw new w;if(a===0)return new Mn(this.field,new Int32Array([0]));let c=this.coefficients.length,u=new Int32Array(c+s);for(let f=0;f<c;f++)u[f]=this.field.multiply(this.coefficients[f],a);return new Mn(this.field,u)}toString(){let s=new xe;for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(a===0||c!==1)&&s.append(c),a!==0&&(a===1?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()}}class Z3{add(s,a){return(s+a)%this.modulus}subtract(s,a){return(this.modulus+s-a)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}inverse(s){if(s===0)throw new nt;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class If extends Z3{constructor(s,a){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let u=0;u<s;u++)this.expTable[u]=c,c=c*a%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Mn(this,new Int32Array([0])),this.one=new Mn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new w;if(a===0)return this.zero;let c=new Int32Array(s+1);return c[0]=a,new Mn(this,c)}}If.PDF417_GF=new If(Xe.NUMBER_OF_CODEWORDS,3);class np{constructor(){this.field=If.PDF417_GF}decode(s,a,c){let u=new Mn(this.field,s),f=new Int32Array(a),g=!1;for(let Y=a;Y>0;Y--){let G=u.evaluateAt(this.field.exp(Y));f[a-Y]=G,G!==0&&(g=!0)}if(!g)return 0;let m=this.field.getOne();if(c!=null)for(const Y of c){let G=this.field.exp(s.length-1-Y),K=new Mn(this.field,new Int32Array([this.field.subtract(0,G),1]));m=m.multiply(K)}let y=new Mn(this.field,f),b=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),y,a),S=b[0],N=b[1],k=this.findErrorLocations(S),B=this.findErrorMagnitudes(N,S,k);for(let Y=0;Y<k.length;Y++){let G=s.length-1-this.field.log(k[Y]);if(G<0)throw E.getChecksumInstance();s[G]=this.field.subtract(s[G],B[Y])}return k.length}runEuclideanAlgorithm(s,a,c){if(s.getDegree()<a.getDegree()){let k=s;s=a,a=k}let u=s,f=a,g=this.field.getZero(),m=this.field.getOne();for(;f.getDegree()>=Math.round(c/2);){let k=u,B=g;if(u=f,g=m,u.isZero())throw E.getChecksumInstance();f=k;let Y=this.field.getZero(),G=u.getCoefficient(u.getDegree()),K=this.field.inverse(G);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){let ie=f.getDegree()-u.getDegree(),ve=this.field.multiply(f.getCoefficient(f.getDegree()),K);Y=Y.add(this.field.buildMonomial(ie,ve)),f=f.subtract(u.multiplyByMonomial(ie,ve))}m=Y.multiply(g).subtract(B).negative()}let y=m.getCoefficient(0);if(y===0)throw E.getChecksumInstance();let b=this.field.inverse(y),S=m.multiply(b),N=f.multiply(b);return[S,N]}findErrorLocations(s){let a=s.getDegree(),c=new Int32Array(a),u=0;for(let f=1;f<this.field.getSize()&&u<a;f++)s.evaluateAt(f)===0&&(c[u]=this.field.inverse(f),u++);if(u!==a)throw E.getChecksumInstance();return c}findErrorMagnitudes(s,a,c){let u=a.getDegree(),f=new Int32Array(u);for(let b=1;b<=u;b++)f[u-b]=this.field.multiply(b,a.getCoefficient(b));let g=new Mn(this.field,f),m=c.length,y=new Int32Array(m);for(let b=0;b<m;b++){let S=this.field.inverse(c[b]),N=this.field.subtract(0,s.evaluateAt(S)),k=this.field.inverse(g.evaluateAt(S));y[b]=this.field.multiply(N,k)}return y}}class Xs{constructor(s,a,c,u,f){s instanceof Xs?this.constructor_2(s):this.constructor_1(s,a,c,u,f)}constructor_1(s,a,c,u,f){const g=a==null||c==null,m=u==null||f==null;if(g&&m)throw new X;g?(a=new De(0,u.getY()),c=new De(0,f.getY())):m&&(u=new De(s.getWidth()-1,a.getY()),f=new De(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=a,this.bottomLeft=c,this.topRight=u,this.bottomRight=f,this.minX=Math.trunc(Math.min(a.getX(),c.getX())),this.maxX=Math.trunc(Math.max(u.getX(),f.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(c.getY(),f.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,a){return s==null?a:a==null?s:new Xs(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(s,a,c){let u=this.topLeft,f=this.bottomLeft,g=this.topRight,m=this.bottomRight;if(s>0){let y=c?this.topLeft:this.topRight,b=Math.trunc(y.getY()-s);b<0&&(b=0);let S=new De(y.getX(),b);c?u=S:g=S}if(a>0){let y=c?this.bottomLeft:this.bottomRight,b=Math.trunc(y.getY()+a);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let S=new De(y.getX(),b);c?f=S:m=S}return new Xs(this.image,u,f,g,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Q3{constructor(s,a,c,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=c,this.rowCount=a+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ha{constructor(){this.buffer=""}static form(s,a){let c=-1;function u(g,m,y,b,S,N){if(g==="%%")return"%";if(a[++c]===void 0)return;g=b?parseInt(b.substr(1)):void 0;let k=S?parseInt(S.substr(1)):void 0,B;switch(N){case"s":B=a[c];break;case"c":B=a[c][0];break;case"f":B=parseFloat(a[c]).toFixed(g);break;case"p":B=parseFloat(a[c]).toPrecision(g);break;case"e":B=parseFloat(a[c]).toExponential(g);break;case"x":B=parseInt(a[c]).toString(k||16);break;case"d":B=parseFloat(parseInt(a[c],k||10).toPrecision(g)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(k);let Y=parseInt(y),G=y&&y[0]+""=="0"?"0":" ";for(;B.length<Y;)B=m!==void 0?B+G:G+B;return B}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(f,u)}format(s,...a){this.buffer+=Ha.form(s,a)}toString(){return this.buffer}}class Va{constructor(s){this.boundingBox=new Xs(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let a=this.getCodeword(s);if(a!=null)return a;for(let c=1;c<Va.MAX_NEARBY_DISTANCE;c++){let u=this.imageRowToCodewordIndex(s)-c;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(s)+c,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,a){this.codewords[this.imageRowToCodewordIndex(s)]=a}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ha;let a=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",a++);continue}s.format("%3d: %3d|%3d%n",a++,c.getRowNumber(),c.getValue())}return s.toString()}}Va.MAX_NEARBY_DISTANCE=5;class Wa{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let a=this.values.get(s);a==null&&(a=0),a++,this.values.set(s,a)}getValue(){let s=-1,a=new Array;for(const[c,u]of this.values.entries()){const f={getKey:()=>c,getValue:()=>u};f.getValue()>s?(s=f.getValue(),a=[],a.push(f.getKey())):f.getValue()===s&&a.push(f.getKey())}return Xe.toIntArray(a)}getConfidence(s){return this.values.get(s)}}class rp extends Va{constructor(s,a){super(s),this._isLeft=a}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,s);let c=this.getBoundingBox(),u=this._isLeft?c.getTopLeft():c.getTopRight(),f=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=-1,b=1,S=0;for(let N=g;N<m;N++){if(a[N]==null)continue;let k=a[N],B=k.getRowNumber()-y;if(B===0)S++;else if(B===1)b=Math.max(b,S),S=1,y=k.getRowNumber();else if(B<0||k.getRowNumber()>=s.getRowCount()||B>N)a[N]=null;else{let Y;b>2?Y=(b-2)*B:Y=B;let G=Y>=N;for(let K=1;K<=Y&&!G;K++)G=a[N-K]!=null;G?a[N]=null:(y=k.getRowNumber(),S=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let a=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let u=c.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(s){let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),y=-1;for(let b=f;b<g;b++){if(m[b]==null)continue;let S=m[b];S.setRowNumberAsRowIndicatorColumn();let N=S.getRowNumber()-y;N===0||(N===1?y=S.getRowNumber():S.getRowNumber()>=s.getRowCount()?m[b]=null:y=S.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),a=new Wa,c=new Wa,u=new Wa,f=new Wa;for(let m of s){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let y=m.getValue()%30,b=m.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:c.setValue(y*3+1);break;case 1:f.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}if(a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||c.getValue()[0]+u.getValue()[0]<Xe.MIN_ROWS_IN_BARCODE||c.getValue()[0]+u.getValue()[0]>Xe.MAX_ROWS_IN_BARCODE)return null;let g=new Q3(a.getValue()[0],c.getValue()[0],u.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(s,g),g}removeIncorrectCodewords(s,a){for(let c=0;c<s.length;c++){let u=s[c];if(s[c]==null)continue;let f=u.getValue()%30,g=u.getRowNumber();if(g>a.getRowCount()){s[c]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:f*3+1!==a.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(f/3)!==a.getErrorCorrectionLevel()||f%3!==a.getRowCountLowerPart())&&(s[c]=null);break;case 2:f+1!==a.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ya{constructor(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Xe.MAX_CODEWORDS_IN_BARCODE,a;do a=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let c=this.detectionResultColumns[a].getCodewords();for(let u=0;u<c.length;u++)c[u]!=null&&(c[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&a[c]!=null&&s[c].getRowNumber()===a[c].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let f=this.detectionResultColumns[u].getCodewords()[c];f!=null&&(f.setRowNumber(s[c].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let u=a[c].getRowNumber(),f=0;for(let g=this.barcodeColumnCount+1;g>0&&f<this.ADJUST_ROW_NUMBER_SKIP;g--){let m=this.detectionResultColumns[g].getCodewords()[c];m!=null&&(f=Ya.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,a=this.detectionResultColumns[0].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let u=a[c].getRowNumber(),f=0;for(let g=1;g<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;g++){let m=this.detectionResultColumns[g].getCodewords()[c];m!=null&&(f=Ya.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,a,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),a=0):++a),a}adjustRowNumbers(s,a,c){if(!this.detectionResultColumns[s-1])return;let u=c[a],f=this.detectionResultColumns[s-1].getCodewords(),g=f;this.detectionResultColumns[s+1]!=null&&(g=this.detectionResultColumns[s+1].getCodewords());let m=new Array(14);m[2]=f[a],m[3]=g[a],a>0&&(m[0]=c[a-1],m[4]=f[a-1],m[5]=g[a-1]),a>1&&(m[8]=c[a-2],m[10]=f[a-2],m[11]=g[a-2]),a<c.length-1&&(m[1]=c[a+1],m[6]=f[a+1],m[7]=g[a+1]),a<c.length-2&&(m[9]=c[a+2],m[12]=f[a+2],m[13]=g[a+2]);for(let y of m)if(Ya.adjustRowNumber(u,y))return}static adjustRowNumber(s,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===s.getBucket()?(s.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,a){this.detectionResultColumns[s]=a}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Ha;for(let c=0;c<s.getCodewords().length;c++){a.format("CW %3d:",c);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){a.format("    |   ");continue}let f=this.detectionResultColumns[u].getCodewords()[c];if(f==null){a.format("    |   ");continue}a.format(" %3d|%3d",f.getRowNumber(),f.getValue())}a.format("%n")}return a.toString()}}class Ga{constructor(s,a,c,u){this.rowNumber=Ga.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(a),this.bucket=Math.trunc(c),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ga.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ga.BARCODE_ROW_UNKNOWN=-1;class tr{static initialize(){for(let s=0;s<Xe.SYMBOL_TABLE.length;s++){let a=Xe.SYMBOL_TABLE[s],c=a&1;for(let u=0;u<Xe.BARS_IN_MODULE;u++){let f=0;for(;(a&1)===c;)f+=1,a>>=1;c=a&1,tr.RATIOS_TABLE[s]||(tr.RATIOS_TABLE[s]=new Array(Xe.BARS_IN_MODULE)),tr.RATIOS_TABLE[s][Xe.BARS_IN_MODULE-u-1]=Math.fround(f/Xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let a=tr.getDecodedCodewordValue(tr.sampleBitCounts(s));return a!==-1?a:tr.getClosestDecodedValue(s)}static sampleBitCounts(s){let a=rt.sum(s),c=new Int32Array(Xe.BARS_IN_MODULE),u=0,f=0;for(let g=0;g<Xe.MODULES_IN_CODEWORD;g++){let m=a/(2*Xe.MODULES_IN_CODEWORD)+g*a/Xe.MODULES_IN_CODEWORD;f+s[u]<=m&&(f+=s[u],u++),c[u]++}return c}static getDecodedCodewordValue(s){let a=tr.getBitValue(s);return Xe.getCodeword(a)===-1?-1:a}static getBitValue(s){let a=0;for(let c=0;c<s.length;c++)for(let u=0;u<s[c];u++)a=a<<1|(c%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(s){let a=rt.sum(s),c=new Array(Xe.BARS_IN_MODULE);if(a>1)for(let g=0;g<c.length;g++)c[g]=Math.fround(s[g]/a);let u=pi.MAX_VALUE,f=-1;this.bSymbolTableReady||tr.initialize();for(let g=0;g<tr.RATIOS_TABLE.length;g++){let m=0,y=tr.RATIOS_TABLE[g];for(let b=0;b<Xe.BARS_IN_MODULE;b++){let S=Math.fround(y[b]-c[b]);if(m+=Math.fround(S*S),m>=u)break}m<u&&(u=m,f=Xe.SYMBOL_TABLE[g])}return f}}tr.bSymbolTableReady=!1,tr.RATIOS_TABLE=new Array(Xe.SYMBOL_TABLE.length).map(T=>new Array(Xe.BARS_IN_MODULE));class ip{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class sp{static parseLong(s,a=void 0){return parseInt(s,a)}}class op extends p{}op.kind="NullPointerException";class q3{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,a,c){if(s==null)throw new op;if(a<0||a>s.length||c<0||a+c>s.length||a+c<0)throw new D;if(c===0)return;for(let u=0;u<c;u++)this.write(s[a+u])}flush(){}close(){}}class J3 extends p{}class eC extends q3{constructor(s=32){if(super(),this.count=0,s<0)throw new w("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new J3;c=R.MAX_VALUE}this.buf=M.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,a,c){if(a<0||a>s.length||c<0||a+c-s.length>0)throw new D;this.ensureCapacity(this.count+c),I.arraycopy(s,a,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return M.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var At;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(At||(At={}));function ap(){if(typeof window<"u")return window.BigInt||null;if(typeof Ka<"u")return Ka.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Mc;function os(T){if(typeof Mc>"u"&&(Mc=ap()),Mc===null)throw new Error("BigInt is not supported!");return Mc(T)}function tC(){let T=[];T[0]=os(1);let s=os(900);T[1]=s;for(let a=2;a<16;a++)T[a]=T[a-1]*s;return T}class re{static decode(s,a){let c=new xe(""),u=U.ISO8859_1;c.enableDecoding(u);let f=1,g=s[f++],m=new ip;for(;f<s[0];){switch(g){case re.TEXT_COMPACTION_MODE_LATCH:f=re.textCompaction(s,f,c);break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:f=re.byteCompaction(g,s,u,f,c);break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[f++]);break;case re.NUMERIC_COMPACTION_MODE_LATCH:f=re.numericCompaction(s,f,c);break;case re.ECI_CHARSET:U.getCharacterSetECIByValue(s[f++]);break;case re.ECI_GENERAL_PURPOSE:f+=2;break;case re.ECI_USER_DEFINED:f++;break;case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=re.decodeMacroBlock(s,f,m);break;case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:throw new A;default:f--,f=re.textCompaction(s,f,c);break}if(f<s.length)g=s[f++];else throw A.getFormatInstance()}if(c.length()===0)throw A.getFormatInstance();let y=new Vt(null,c.toString(),null,a);return y.setOther(m),y}static decodeMacroBlock(s,a,c){if(a+re.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw A.getFormatInstance();let u=new Int32Array(re.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<re.NUMBER_OF_SEQUENCE_CODEWORDS;m++,a++)u[m]=s[a];c.setSegmentIndex(R.parseInt(re.decodeBase900toBase10(u,re.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new xe;a=re.textCompaction(s,a,f),c.setFileId(f.toString());let g=-1;for(s[a]===re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=a+1);a<s[0];)switch(s[a]){case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,s[a]){case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new xe;a=re.textCompaction(s,a+1,m),c.setFileName(m.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new xe;a=re.textCompaction(s,a+1,y),c.setSender(y.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new xe;a=re.textCompaction(s,a+1,b),c.setAddressee(b.toString());break;case re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let S=new xe;a=re.numericCompaction(s,a+1,S),c.setSegmentCount(R.parseInt(S.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new xe;a=re.numericCompaction(s,a+1,N),c.setTimestamp(sp.parseLong(N.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let k=new xe;a=re.numericCompaction(s,a+1,k),c.setChecksum(R.parseInt(k.toString()));break;case re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new xe;a=re.numericCompaction(s,a+1,B),c.setFileSize(sp.parseLong(B.toString()));break;default:throw A.getFormatInstance()}break;case re.MACRO_PDF417_TERMINATOR:a++,c.setLastSegment(!0);break;default:throw A.getFormatInstance()}if(g!==-1){let m=a-g;c.isLastSegment()&&m--,c.setOptionalData(M.copyOfRange(s,g,g+m))}return a}static textCompaction(s,a,c){let u=new Int32Array((s[0]-a)*2),f=new Int32Array((s[0]-a)*2),g=0,m=!1;for(;a<s[0]&&!m;){let y=s[a++];if(y<re.TEXT_COMPACTION_MODE_LATCH)u[g]=y/30,u[g+1]=y%30,g+=2;else switch(y){case re.TEXT_COMPACTION_MODE_LATCH:u[g++]=re.TEXT_COMPACTION_MODE_LATCH;break;case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:a--,m=!0;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[g]=re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[a++],f[g]=y,g++;break}}return re.decodeTextCompaction(u,f,g,c),a}static decodeTextCompaction(s,a,c,u){let f=At.ALPHA,g=At.ALPHA,m=0;for(;m<c;){let y=s[m],b="";switch(f){case At.ALPHA:if(y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case re.LL:f=At.LOWER;break;case re.ML:f=At.MIXED;break;case re.PS:g=f,f=At.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:f=At.ALPHA;break}break;case At.LOWER:if(y<26)b=String.fromCharCode(97+y);else switch(y){case 26:b=" ";break;case re.AS:g=f,f=At.ALPHA_SHIFT;break;case re.ML:f=At.MIXED;break;case re.PS:g=f,f=At.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:f=At.ALPHA;break}break;case At.MIXED:if(y<re.PL)b=re.MIXED_CHARS[y];else switch(y){case re.PL:f=At.PUNCT;break;case 26:b=" ";break;case re.LL:f=At.LOWER;break;case re.AL:f=At.ALPHA;break;case re.PS:g=f,f=At.PUNCT_SHIFT;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:f=At.ALPHA;break}break;case At.PUNCT:if(y<re.PAL)b=re.PUNCT_CHARS[y];else switch(y){case re.PAL:f=At.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:f=At.ALPHA;break}break;case At.ALPHA_SHIFT:if(f=g,y<26)b=String.fromCharCode(65+y);else switch(y){case 26:b=" ";break;case re.TEXT_COMPACTION_MODE_LATCH:f=At.ALPHA;break}break;case At.PUNCT_SHIFT:if(f=g,y<re.PAL)b=re.PUNCT_CHARS[y];else switch(y){case re.PAL:f=At.ALPHA;break;case re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case re.TEXT_COMPACTION_MODE_LATCH:f=At.ALPHA;break}break}b!==""&&u.append(b),m++}}static byteCompaction(s,a,c,u,f){let g=new eC,m=0,y=0,b=!1;switch(s){case re.BYTE_COMPACTION_MODE_LATCH:let S=new Int32Array(6),N=a[u++];for(;u<a[0]&&!b;)switch(S[m++]=N,y=900*y+N,N=a[u++],N){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:u--,b=!0;break;default:if(m%5===0&&m>0){for(let k=0;k<6;++k)g.write(Number(os(y)>>os(8*(5-k))));y=0,m=0}break}u===a[0]&&N<re.TEXT_COMPACTION_MODE_LATCH&&(S[m++]=N);for(let k=0;k<m;k++)g.write(S[k]);break;case re.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!b;){let k=a[u++];if(k<re.TEXT_COMPACTION_MODE_LATCH)m++,y=900*y+k;else switch(k){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.NUMERIC_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:u--,b=!0;break}if(m%5===0&&m>0){for(let B=0;B<6;++B)g.write(Number(os(y)>>os(8*(5-B))));y=0,m=0}}break}return f.append(ce.decode(g.toByteArray(),c)),u}static numericCompaction(s,a,c){let u=0,f=!1,g=new Int32Array(re.MAX_NUMERIC_CODEWORDS);for(;a<s[0]&&!f;){let m=s[a++];if(a===s[0]&&(f=!0),m<re.TEXT_COMPACTION_MODE_LATCH)g[u]=m,u++;else switch(m){case re.TEXT_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH:case re.BYTE_COMPACTION_MODE_LATCH_6:case re.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case re.MACRO_PDF417_TERMINATOR:a--,f=!0;break}(u%re.MAX_NUMERIC_CODEWORDS===0||m===re.NUMERIC_COMPACTION_MODE_LATCH||f)&&u>0&&(c.append(re.decodeBase900toBase10(g,u)),u=0)}return a}static decodeBase900toBase10(s,a){let c=os(0);for(let f=0;f<a;f++)c+=re.EXP900[a-f-1]*os(s[f]);let u=c.toString();if(u.charAt(0)!=="1")throw new A;return u.substring(1)}}re.TEXT_COMPACTION_MODE_LATCH=900,re.BYTE_COMPACTION_MODE_LATCH=901,re.NUMERIC_COMPACTION_MODE_LATCH=902,re.BYTE_COMPACTION_MODE_LATCH_6=924,re.ECI_USER_DEFINED=925,re.ECI_GENERAL_PURPOSE=926,re.ECI_CHARSET=927,re.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,re.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,re.MACRO_PDF417_TERMINATOR=922,re.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,re.MAX_NUMERIC_CODEWORDS=15,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,re.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,re.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,re.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,re.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,re.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,re.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,re.PL=25,re.LL=27,re.AS=27,re.ML=28,re.AL=28,re.PS=29,re.PAL=29,re.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,re.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",re.EXP900=ap()?tC():[],re.NUMBER_OF_SEQUENCE_CODEWORDS=2;class it{constructor(){}static decode(s,a,c,u,f,g,m){let y=new Xs(s,a,c,u,f),b=null,S=null,N;for(let Y=!0;;Y=!1){if(a!=null&&(b=it.getRowIndicatorColumn(s,y,a,!0,g,m)),u!=null&&(S=it.getRowIndicatorColumn(s,y,u,!1,g,m)),N=it.merge(b,S),N==null)throw X.getNotFoundInstance();let G=N.getBoundingBox();if(Y&&G!=null&&(G.getMinY()<y.getMinY()||G.getMaxY()>y.getMaxY()))y=G;else break}N.setBoundingBox(y);let k=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,b),N.setDetectionResultColumn(k,S);let B=b!=null;for(let Y=1;Y<=k;Y++){let G=B?Y:k-Y;if(N.getDetectionResultColumn(G)!==void 0)continue;let K;G===0||G===k?K=new rp(y,G===0):K=new Va(y),N.setDetectionResultColumn(G,K);let ie=-1,ve=ie;for(let Ce=y.getMinY();Ce<=y.getMaxY();Ce++){if(ie=it.getStartColumn(N,G,Ce,B),ie<0||ie>y.getMaxX()){if(ve===-1)continue;ie=ve}let me=it.detectCodeword(s,y.getMinX(),y.getMaxX(),B,ie,Ce,g,m);me!=null&&(K.setCodeword(Ce,me),ve=ie,g=Math.min(g,me.getWidth()),m=Math.max(m,me.getWidth()))}}return it.createDecoderResult(N)}static merge(s,a){if(s==null&&a==null)return null;let c=it.getBarcodeMetadata(s,a);if(c==null)return null;let u=Xs.merge(it.adjustBoundingBox(s),it.adjustBoundingBox(a));return new Ya(c,u)}static adjustBoundingBox(s){if(s==null)return null;let a=s.getRowHeights();if(a==null)return null;let c=it.getMax(a),u=0;for(let m of a)if(u+=c-m,m>0)break;let f=s.getCodewords();for(let m=0;u>0&&f[m]==null;m++)u--;let g=0;for(let m=a.length-1;m>=0&&(g+=c-a[m],!(a[m]>0));m--);for(let m=f.length-1;g>0&&f[m]==null;m--)g--;return s.getBoundingBox().addMissingRows(u,g,s.isLeft())}static getMax(s){let a=-1;for(let c of s)a=Math.max(a,c);return a}static getBarcodeMetadata(s,a){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let u;return a==null||(u=a.getBarcodeMetadata())==null?c:c.getColumnCount()!==u.getColumnCount()&&c.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&c.getRowCount()!==u.getRowCount()?null:c}static getRowIndicatorColumn(s,a,c,u,f,g){let m=new rp(a,u);for(let y=0;y<2;y++){let b=y===0?1:-1,S=Math.trunc(Math.trunc(c.getX()));for(let N=Math.trunc(Math.trunc(c.getY()));N<=a.getMaxY()&&N>=a.getMinY();N+=b){let k=it.detectCodeword(s,0,s.getWidth(),u,S,N,f,g);k!=null&&(m.setCodeword(N,k),u?S=k.getStartX():S=k.getEndX())}}return m}static adjustCodewordCount(s,a){let c=a[0][1],u=c.getValue(),f=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-it.getNumberOfECCodeWords(s.getBarcodeECLevel());if(u.length===0){if(f<1||f>Xe.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();c.setValue(f)}else u[0]!==f&&c.setValue(f)}static createDecoderResult(s){let a=it.createBarcodeMatrix(s);it.adjustCodewordCount(s,a);let c=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),f=[],g=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let b=0;b<s.getBarcodeColumnCount();b++){let S=a[y][b+1].getValue(),N=y*s.getBarcodeColumnCount()+b;S.length===0?c.push(N):S.length===1?u[N]=S[0]:(g.push(N),f.push(S))}let m=new Array(f.length);for(let y=0;y<m.length;y++)m[y]=f[y];return it.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,Xe.toIntArray(c),Xe.toIntArray(g),m)}static createDecoderResultFromAmbiguousValues(s,a,c,u,f){let g=new Int32Array(u.length),m=100;for(;m-- >0;){for(let y=0;y<g.length;y++)a[u[y]]=f[y][g[y]];try{return it.decodeCodewords(a,s,c)}catch(y){if(!(y instanceof E))throw y}if(g.length===0)throw E.getChecksumInstance();for(let y=0;y<g.length;y++)if(g[y]<f[y].length-1){g[y]++;break}else if(g[y]=0,y===g.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(s){let a=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let f=0;f<a[u].length;f++)a[u][f]=new Wa;let c=0;for(let u of s.getDetectionResultColumns()){if(u!=null){for(let f of u.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=0){if(g>=a.length)continue;a[g][c].setValue(f.getValue())}}}c++}return a}static isValidBarcodeColumn(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1}static getStartColumn(s,a,c,u){let f=u?1:-1,g=null;if(it.isValidBarcodeColumn(s,a-f)&&(g=s.getDetectionResultColumn(a-f).getCodeword(c)),g!=null)return u?g.getEndX():g.getStartX();if(g=s.getDetectionResultColumn(a).getCodewordNearby(c),g!=null)return u?g.getStartX():g.getEndX();if(it.isValidBarcodeColumn(s,a-f)&&(g=s.getDetectionResultColumn(a-f).getCodewordNearby(c)),g!=null)return u?g.getEndX():g.getStartX();let m=0;for(;it.isValidBarcodeColumn(s,a-f);){a-=f;for(let y of s.getDetectionResultColumn(a).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+f*m*(y.getEndX()-y.getStartX());m++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,a,c,u,f,g,m,y){f=it.adjustCodewordStartColumn(s,a,c,u,f,g);let b=it.getModuleBitCount(s,a,c,u,f,g);if(b==null)return null;let S,N=rt.sum(b);if(u)S=f+N;else{for(let Y=0;Y<b.length/2;Y++){let G=b[Y];b[Y]=b[b.length-1-Y],b[b.length-1-Y]=G}S=f,f=S-N}if(!it.checkCodewordSkew(N,m,y))return null;let k=tr.getDecodedValue(b),B=Xe.getCodeword(k);return B===-1?null:new Ga(f,S,it.getCodewordBucketNumber(k),B)}static getModuleBitCount(s,a,c,u,f,g){let m=f,y=new Int32Array(8),b=0,S=u?1:-1,N=u;for(;(u?m<c:m>=a)&&b<y.length;)s.get(m,g)===N?(y[b]++,m+=S):(b++,N=!N);return b===y.length||m===(u?c:a)&&b===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,a,c,u,f,g){let m=f,y=u?-1:1;for(let b=0;b<2;b++){for(;(u?m>=a:m<c)&&u===s.get(m,g);){if(Math.abs(f-m)>it.CODEWORD_SKEW_SIZE)return f;m+=y}y=-y,u=!u}return m}static checkCodewordSkew(s,a,c){return a-it.CODEWORD_SKEW_SIZE<=s&&s<=c+it.CODEWORD_SKEW_SIZE}static decodeCodewords(s,a,c){if(s.length===0)throw A.getFormatInstance();let u=1<<a+1,f=it.correctErrors(s,c,u);it.verifyCodewordCount(s,u);let g=re.decode(s,""+a);return g.setErrorsCorrected(f),g.setErasures(c.length),g}static correctErrors(s,a,c){if(a!=null&&a.length>c/2+it.MAX_ERRORS||c<0||c>it.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return it.errorCorrection.decode(s,c,a)}static verifyCodewordCount(s,a){if(s.length<4)throw A.getFormatInstance();let c=s[0];if(c>s.length)throw A.getFormatInstance();if(c===0)if(a<s.length)s[0]=s.length-a;else throw A.getFormatInstance()}static getBitCountForCodeword(s){let a=new Int32Array(8),c=0,u=a.length-1;for(;!((s&1)!==c&&(c=s&1,u--,u<0));)a[u]++,s>>=1;return a}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return it.getCodewordBucketNumber(it.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let a=new Ha;for(let c=0;c<s.length;c++){a.format("Row %2d: ",c);for(let u=0;u<s[c].length;u++){let f=s[c][u];f.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}a.format("%n")}return a.toString()}}it.CODEWORD_SKEW_SIZE=2,it.MAX_ERRORS=3,it.MAX_EC_CODEWORDS=512,it.errorCorrection=new np;class Dn{decode(s,a=null){let c=Dn.decode(s,a,!1);if(c==null||c.length===0||c[0]==null)throw X.getNotFoundInstance();return c[0]}decodeMultiple(s,a=null){try{return Dn.decode(s,a,!0)}catch(c){throw c instanceof A||c instanceof E?X.getNotFoundInstance():c}}static decode(s,a,c){const u=new Array,f=Je.detectMultiple(s,a,c);for(const g of f.getPoints()){const m=it.decode(f.getBits(),g[4],g[5],g[6],g[7],Dn.getMinCodewordWidth(g),Dn.getMaxCodewordWidth(g)),y=new Ie(m.getText(),m.getRawBytes(),void 0,g,ye.PDF_417);y.putMetadata(at.ERROR_CORRECTION_LEVEL,m.getECLevel());const b=m.getOther();b!=null&&y.putMetadata(at.PDF417_EXTRA_METADATA,b),u.push(y)}return u.map(g=>g)}static getMaxWidth(s,a){return s==null||a==null?0:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMinWidth(s,a){return s==null||a==null?R.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Dn.getMaxWidth(s[0],s[4]),Dn.getMaxWidth(s[6],s[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.max(Dn.getMaxWidth(s[1],s[5]),Dn.getMaxWidth(s[7],s[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Dn.getMinWidth(s[0],s[4]),Dn.getMinWidth(s[6],s[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.min(Dn.getMinWidth(s[1],s[5]),Dn.getMinWidth(s[7],s[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Dc extends p{}Dc.kind="ReaderException";class lp{constructor(s,a){this.verbose=s===!0,a&&this.setHints(a)}decode(s,a){return a&&this.setHints(a),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const a=!r(s)&&s.get(z.TRY_HARDER)===!0,c=r(s)?null:s.get(z.POSSIBLE_FORMATS),u=new Array;if(!r(c)){const f=c.some(g=>g===ye.UPC_A||g===ye.UPC_E||g===ye.EAN_13||g===ye.EAN_8||g===ye.CODABAR||g===ye.CODE_39||g===ye.CODE_93||g===ye.CODE_128||g===ye.ITF||g===ye.RSS_14||g===ye.RSS_EXPANDED);f&&!a&&u.push(new ko(s,this.verbose)),c.includes(ye.QR_CODE)&&u.push(new ss),c.includes(ye.DATA_MATRIX)&&u.push(new is),c.includes(ye.AZTEC)&&u.push(new Bn),c.includes(ye.PDF_417)&&u.push(new Dn),f&&a&&u.push(new ko(s,this.verbose))}u.length===0&&(a||u.push(new ko(s,this.verbose)),u.push(new ss),u.push(new is),u.push(new Bn),u.push(new Dn),a&&u.push(new ko(s,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Dc("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(s,this.hints)}catch(c){if(c instanceof Dc)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class nC extends Ue{constructor(s=null,a=500){const c=new lp;c.setHints(s),super(c,a)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class rC extends Ue{constructor(s=500){super(new Dn,s)}}class iC extends Ue{constructor(s=500){super(new ss,s)}}var Tf;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(Tf||(Tf={}));var yn=Tf;class Nf{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new st(s,Int32Array.from([1])))}buildGenerator(s){const a=this.cachedGenerators;if(s>=a.length){let c=a[a.length-1];const u=this.field;for(let f=a.length;f<=s;f++){const g=c.multiply(new st(u,Int32Array.from([1,u.exp(f-1+u.getGeneratorBase())])));a.push(g),c=g}}return a[s]}encode(s,a){if(a===0)throw new w("No error correction bytes");const c=s.length-a;if(c<=0)throw new w("No data bytes provided");const u=this.buildGenerator(a),f=new Int32Array(c);I.arraycopy(s,0,f,0,c);let g=new st(this.field,f);g=g.multiplyByMonomial(a,1);const y=g.divide(u)[1].getCoefficients(),b=a-y.length;for(let S=0;S<b;S++)s[c+S]=0;I.arraycopy(y,0,s,c+b,y.length)}}class Jt{constructor(){}static applyMaskPenaltyRule1(s){return Jt.applyMaskPenaltyRule1Internal(s,!0)+Jt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let a=0;const c=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let g=0;g<f-1;g++){const m=c[g];for(let y=0;y<u-1;y++){const b=m[y];b===m[y+1]&&b===c[g+1][y]&&b===c[g+1][y+1]&&a++}}return Jt.N2*a}static applyMaskPenaltyRule3(s){let a=0;const c=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let g=0;g<f;g++)for(let m=0;m<u;m++){const y=c[g];m+6<u&&y[m]===1&&y[m+1]===0&&y[m+2]===1&&y[m+3]===1&&y[m+4]===1&&y[m+5]===0&&y[m+6]===1&&(Jt.isWhiteHorizontal(y,m-4,m)||Jt.isWhiteHorizontal(y,m+7,m+11))&&a++,g+6<f&&c[g][m]===1&&c[g+1][m]===0&&c[g+2][m]===1&&c[g+3][m]===1&&c[g+4][m]===1&&c[g+5][m]===0&&c[g+6][m]===1&&(Jt.isWhiteVertical(c,m,g-4,g)||Jt.isWhiteVertical(c,m,g+7,g+11))&&a++}return a*Jt.N3}static isWhiteHorizontal(s,a,c){a=Math.max(a,0),c=Math.min(c,s.length);for(let u=a;u<c;u++)if(s[u]===1)return!1;return!0}static isWhiteVertical(s,a,c,u){c=Math.max(c,0),u=Math.min(u,s.length);for(let f=c;f<u;f++)if(s[f][a]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let a=0;const c=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let y=0;y<f;y++){const b=c[y];for(let S=0;S<u;S++)b[S]===1&&a++}const g=s.getHeight()*s.getWidth();return Math.floor(Math.abs(a*2-g)*10/g)*Jt.N4}static getDataMaskBit(s,a,c){let u,f;switch(s){case 0:u=c+a&1;break;case 1:u=c&1;break;case 2:u=a%3;break;case 3:u=(c+a)%3;break;case 4:u=Math.floor(c/2)+Math.floor(a/3)&1;break;case 5:f=c*a,u=(f&1)+f%3;break;case 6:f=c*a,u=(f&1)+f%3&1;break;case 7:f=c*a,u=f%3+(c+a&1)&1;break;default:throw new w("Invalid mask pattern: "+s)}return u===0}static applyMaskPenaltyRule1Internal(s,a){let c=0;const u=a?s.getHeight():s.getWidth(),f=a?s.getWidth():s.getHeight(),g=s.getArray();for(let m=0;m<u;m++){let y=0,b=-1;for(let S=0;S<f;S++){const N=a?g[m][S]:g[S][m];N===b?y++:(y>=5&&(c+=Jt.N1+(y-5)),y=1,b=N)}y>=5&&(c+=Jt.N1+(y-5))}return c}}Jt.N1=3,Jt.N2=3,Jt.N3=40,Jt.N4=10;class Rc{constructor(s,a){this.width=s,this.height=a;const c=new Array(a);for(let u=0;u!==a;u++)c[u]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,a){return this.bytes[a][s]}getArray(){return this.bytes}setNumber(s,a,c){this.bytes[a][s]=c}setBoolean(s,a,c){this.bytes[a][s]=c?1:0}clear(s){for(const a of this.bytes)M.fill(a,s)}equals(s){if(!(s instanceof Rc))return!1;const a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(let c=0,u=this.height;c<u;++c){const f=this.bytes[c],g=a.bytes[c];for(let m=0,y=this.width;m<y;++m)if(f[m]!==g[m])return!1}return!0}toString(){const s=new xe;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a];for(let f=0,g=this.width;f<g;++f)switch(u[f]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class $s{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new xe;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<$s.NUM_MASK_PATTERNS}}$s.NUM_MASK_PATTERNS=8;class It extends p{}It.kind="WriterException";class Ye{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,a,c,u,f){Ye.clearMatrix(f),Ye.embedBasicPatterns(c,f),Ye.embedTypeInfo(a,u,f),Ye.maybeEmbedVersionInfo(c,f),Ye.embedDataBits(s,u,f)}static embedBasicPatterns(s,a){Ye.embedPositionDetectionPatternsAndSeparators(a),Ye.embedDarkDotAtLeftBottomCorner(a),Ye.maybeEmbedPositionAdjustmentPatterns(s,a),Ye.embedTimingPatterns(a)}static embedTypeInfo(s,a,c){const u=new P;Ye.makeTypeInfoBits(s,a,u);for(let f=0,g=u.getSize();f<g;++f){const m=u.get(u.getSize()-1-f),y=Ye.TYPE_INFO_COORDINATES[f],b=y[0],S=y[1];if(c.setBoolean(b,S,m),f<8){const N=c.getWidth()-f-1;c.setBoolean(N,8,m)}else{const k=c.getHeight()-7+(f-8);c.setBoolean(8,k,m)}}}static maybeEmbedVersionInfo(s,a){if(s.getVersionNumber()<7)return;const c=new P;Ye.makeVersionInfoBits(s,c);let u=6*3-1;for(let f=0;f<6;++f)for(let g=0;g<3;++g){const m=c.get(u);u--,a.setBoolean(f,a.getHeight()-11+g,m),a.setBoolean(a.getHeight()-11+g,f,m)}}static embedDataBits(s,a,c){let u=0,f=-1,g=c.getWidth()-1,m=c.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);m>=0&&m<c.getHeight();){for(let y=0;y<2;++y){const b=g-y;if(!Ye.isEmpty(c.get(b,m)))continue;let S;u<s.getSize()?(S=s.get(u),++u):S=!1,a!==255&&Jt.getDataMaskBit(a,b,m)&&(S=!S),c.setBoolean(b,m,S)}m+=f}f=-f,m+=f,g-=2}if(u!==s.getSize())throw new It("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-R.numberOfLeadingZeros(s)}static calculateBCHCode(s,a){if(a===0)throw new w("0 polynomial");const c=Ye.findMSBSet(a);for(s<<=c-1;Ye.findMSBSet(s)>=c;)s^=a<<Ye.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,a,c){if(!$s.isValidMaskPattern(a))throw new It("Invalid mask pattern");const u=s.getBits()<<3|a;c.appendBits(u,5);const f=Ye.calculateBCHCode(u,Ye.TYPE_INFO_POLY);c.appendBits(f,10);const g=new P;if(g.appendBits(Ye.TYPE_INFO_MASK_PATTERN,15),c.xor(g),c.getSize()!==15)throw new It("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,a){a.appendBits(s.getVersionNumber(),6);const c=Ye.calculateBCHCode(s.getVersionNumber(),Ye.VERSION_INFO_POLY);if(a.appendBits(c,12),a.getSize()!==18)throw new It("should not happen but we got: "+a.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let a=8;a<s.getWidth()-8;++a){const c=(a+1)%2;Ye.isEmpty(s.get(a,6))&&s.setNumber(a,6,c),Ye.isEmpty(s.get(6,a))&&s.setNumber(6,a,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new It;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,a,c){for(let u=0;u<8;++u){if(!Ye.isEmpty(c.get(s+u,a)))throw new It;c.setNumber(s+u,a,0)}}static embedVerticalSeparationPattern(s,a,c){for(let u=0;u<7;++u){if(!Ye.isEmpty(c.get(s,a+u)))throw new It;c.setNumber(s,a+u,0)}}static embedPositionAdjustmentPattern(s,a,c){for(let u=0;u<5;++u){const f=Ye.POSITION_ADJUSTMENT_PATTERN[u];for(let g=0;g<5;++g)c.setNumber(s+g,a+u,f[g])}}static embedPositionDetectionPattern(s,a,c){for(let u=0;u<7;++u){const f=Ye.POSITION_DETECTION_PATTERN[u];for(let g=0;g<7;++g)c.setNumber(s+g,a+u,f[g])}}static embedPositionDetectionPatternsAndSeparators(s){const a=Ye.POSITION_DETECTION_PATTERN[0].length;Ye.embedPositionDetectionPattern(0,0,s),Ye.embedPositionDetectionPattern(s.getWidth()-a,0,s),Ye.embedPositionDetectionPattern(0,s.getWidth()-a,s);const c=8;Ye.embedHorizontalSeparationPattern(0,c-1,s),Ye.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),Ye.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const u=7;Ye.embedVerticalSeparationPattern(u,0,s),Ye.embedVerticalSeparationPattern(s.getHeight()-u-1,0,s),Ye.embedVerticalSeparationPattern(u,s.getHeight()-u,s)}static maybeEmbedPositionAdjustmentPatterns(s,a){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,u=Ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let f=0,g=u.length;f!==g;f++){const m=u[f];if(m>=0)for(let y=0;y!==g;y++){const b=u[y];b>=0&&Ye.isEmpty(a.get(b,m))&&Ye.embedPositionAdjustmentPattern(b-2,m-2,a)}}}}Ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ye.VERSION_INFO_POLY=7973,Ye.TYPE_INFO_POLY=1335,Ye.TYPE_INFO_MASK_PATTERN=21522;class sC{constructor(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(s){return Jt.applyMaskPenaltyRule1(s)+Jt.applyMaskPenaltyRule2(s)+Jt.applyMaskPenaltyRule3(s)+Jt.applyMaskPenaltyRule4(s)}static encode(s,a,c=null){let u=Dt.DEFAULT_BYTE_MODE_ENCODING;const f=c!==null&&c.get(yn.CHARACTER_SET)!==void 0;f&&(u=c.get(yn.CHARACTER_SET).toString());const g=this.chooseMode(s,u),m=new P;if(g===Ve.BYTE&&(f||Dt.DEFAULT_BYTE_MODE_ENCODING!==u)){const Ce=U.getCharacterSetECIByName(u);Ce!==void 0&&this.appendECI(Ce,m)}this.appendModeInfo(g,m);const y=new P;this.appendBytes(s,g,y,u);let b;if(c!==null&&c.get(yn.QR_VERSION)!==void 0){const Ce=Number.parseInt(c.get(yn.QR_VERSION).toString(),10);b=He.getVersionForNumber(Ce);const me=this.calculateBitsNeeded(g,m,y,b);if(!this.willFit(me,b,a))throw new It("Data too big for requested version")}else b=this.recommendVersion(a,g,m,y);const S=new P;S.appendBitArray(m);const N=g===Ve.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(N,b,g,S),S.appendBitArray(y);const k=b.getECBlocksForLevel(a),B=b.getTotalCodewords()-k.getTotalECCodewords();this.terminateBits(B,S);const Y=this.interleaveWithECBytes(S,b.getTotalCodewords(),B,k.getNumBlocks()),G=new $s;G.setECLevel(a),G.setMode(g),G.setVersion(b);const K=b.getDimensionForVersion(),ie=new Rc(K,K),ve=this.chooseMaskPattern(Y,a,b,ie);return G.setMaskPattern(ve),Ye.buildMatrix(Y,a,b,ve,ie),G.setMatrix(ie),G}static recommendVersion(s,a,c,u){const f=this.calculateBitsNeeded(a,c,u,He.getVersionForNumber(1)),g=this.chooseVersion(f,s),m=this.calculateBitsNeeded(a,c,u,g);return this.chooseVersion(m,s)}static calculateBitsNeeded(s,a,c,u){return a.getSize()+s.getCharacterCountBits(u)+c.getSize()}static getAlphanumericCode(s){return s<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,a=null){if(U.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return Ve.KANJI;let c=!1,u=!1;for(let f=0,g=s.length;f<g;++f){const m=s.charAt(f);if(Dt.isDigit(m))c=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return Ve.BYTE}return u?Ve.ALPHANUMERIC:c?Ve.NUMERIC:Ve.BYTE}static isOnlyDoubleByteKanji(s){let a;try{a=ce.encode(s,U.SJIS)}catch{return!1}const c=a.length;if(c%2!==0)return!1;for(let u=0;u<c;u+=2){const f=a[u]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(s,a,c,u){let f=Number.MAX_SAFE_INTEGER,g=-1;for(let m=0;m<$s.NUM_MASK_PATTERNS;m++){Ye.buildMatrix(s,a,c,m,u);let y=this.calculateMaskPenalty(u);y<f&&(f=y,g=m)}return g}static chooseVersion(s,a){for(let c=1;c<=40;c++){const u=He.getVersionForNumber(c);if(Dt.willFit(s,u,a))return u}throw new It("Data too big")}static willFit(s,a,c){const u=a.getTotalCodewords(),g=a.getECBlocksForLevel(c).getTotalECCodewords(),m=u-g,y=(s+7)/8;return m>=y}static terminateBits(s,a){const c=s*8;if(a.getSize()>c)throw new It("data bits cannot fit in the QR Code"+a.getSize()+" > "+c);for(let g=0;g<4&&a.getSize()<c;++g)a.appendBit(!1);const u=a.getSize()&7;if(u>0)for(let g=u;g<8;g++)a.appendBit(!1);const f=s-a.getSizeInBytes();for(let g=0;g<f;++g)a.appendBits(g&1?17:236,8);if(a.getSize()!==c)throw new It("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,a,c,u,f,g){if(u>=c)throw new It("Block ID too large");const m=s%c,y=c-m,b=Math.floor(s/c),S=b+1,N=Math.floor(a/c),k=N+1,B=b-N,Y=S-k;if(B!==Y)throw new It("EC bytes mismatch");if(c!==y+m)throw new It("RS blocks mismatch");if(s!==(N+B)*y+(k+Y)*m)throw new It("Total bytes mismatch");u<y?(f[0]=N,g[0]=B):(f[0]=k,g[0]=Y)}static interleaveWithECBytes(s,a,c,u){if(s.getSizeInBytes()!==c)throw new It("Number of bits and data bytes does not match");let f=0,g=0,m=0;const y=new Array;for(let S=0;S<u;++S){const N=new Int32Array(1),k=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(a,c,u,S,N,k);const B=N[0],Y=new Uint8Array(B);s.toBytes(8*f,Y,0,B);const G=Dt.generateECBytes(Y,k[0]);y.push(new sC(Y,G)),g=Math.max(g,B),m=Math.max(m,G.length),f+=N[0]}if(c!==f)throw new It("Data bytes does not match offset");const b=new P;for(let S=0;S<g;++S)for(const N of y){const k=N.getDataBytes();S<k.length&&b.appendBits(k[S],8)}for(let S=0;S<m;++S)for(const N of y){const k=N.getErrorCorrectionBytes();S<k.length&&b.appendBits(k[S],8)}if(a!==b.getSizeInBytes())throw new It("Interleaving error: "+a+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(s,a){const c=s.length,u=new Int32Array(c+a);for(let g=0;g<c;g++)u[g]=s[g]&255;new Nf(We.QR_CODE_FIELD_256).encode(u,a);const f=new Uint8Array(a);for(let g=0;g<a;g++)f[g]=u[c+g];return f}static appendModeInfo(s,a){a.appendBits(s.getBits(),4)}static appendLengthInfo(s,a,c,u){const f=c.getCharacterCountBits(a);if(s>=1<<f)throw new It(s+" is bigger than "+((1<<f)-1));u.appendBits(s,f)}static appendBytes(s,a,c,u){switch(a){case Ve.NUMERIC:Dt.appendNumericBytes(s,c);break;case Ve.ALPHANUMERIC:Dt.appendAlphanumericBytes(s,c);break;case Ve.BYTE:Dt.append8BitBytes(s,c,u);break;case Ve.KANJI:Dt.appendKanjiBytes(s,c);break;default:throw new It("Invalid mode: "+a)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const a=Dt.getDigit(s);return a>=0&&a<=9}static appendNumericBytes(s,a){const c=s.length;let u=0;for(;u<c;){const f=Dt.getDigit(s.charAt(u));if(u+2<c){const g=Dt.getDigit(s.charAt(u+1)),m=Dt.getDigit(s.charAt(u+2));a.appendBits(f*100+g*10+m,10),u+=3}else if(u+1<c){const g=Dt.getDigit(s.charAt(u+1));a.appendBits(f*10+g,7),u+=2}else a.appendBits(f,4),u++}}static appendAlphanumericBytes(s,a){const c=s.length;let u=0;for(;u<c;){const f=Dt.getAlphanumericCode(s.charCodeAt(u));if(f===-1)throw new It;if(u+1<c){const g=Dt.getAlphanumericCode(s.charCodeAt(u+1));if(g===-1)throw new It;a.appendBits(f*45+g,11),u+=2}else a.appendBits(f,6),u++}}static append8BitBytes(s,a,c){let u;try{u=ce.encode(s,c)}catch(f){throw new It(f)}for(let f=0,g=u.length;f!==g;f++){const m=u[f];a.appendBits(m,8)}}static appendKanjiBytes(s,a){let c;try{c=ce.encode(s,U.SJIS)}catch(f){throw new It(f)}const u=c.length;for(let f=0;f<u;f+=2){const g=c[f]&255,m=c[f+1]&255,y=g<<8&4294967295|m;let b=-1;if(y>=33088&&y<=40956?b=y-33088:y>=57408&&y<=60351&&(b=y-49472),b===-1)throw new It("Invalid byte sequence");const S=(b>>8)*192+(b&255);a.appendBits(S,13)}}static appendECI(s,a){a.appendBits(Ve.ECI.getBits(),4),a.appendBits(s.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class Ks{write(s,a,c,u=null){if(s.length===0)throw new w("Found empty contents");if(a<0||c<0)throw new w("Requested dimensions are too small: "+a+"x"+c);let f=Nt.L,g=Ks.QUIET_ZONE_SIZE;u!==null&&(u.get(yn.ERROR_CORRECTION)!==void 0&&(f=Nt.fromString(u.get(yn.ERROR_CORRECTION).toString())),u.get(yn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(yn.MARGIN).toString(),10)));const m=Dt.encode(s,f,u);return this.renderResult(m,a,c,g)}writeToDom(s,a,c,u,f=null){typeof s=="string"&&(s=document.querySelector(s));const g=this.write(a,c,u,f);s&&s.appendChild(g)}renderResult(s,a,c,u){const f=s.getMatrix();if(f===null)throw new er;const g=f.getWidth(),m=f.getHeight(),y=g+u*2,b=m+u*2,S=Math.max(a,y),N=Math.max(c,b),k=Math.min(Math.floor(S/y),Math.floor(N/b)),B=Math.floor((S-g*k)/2),Y=Math.floor((N-m*k)/2),G=this.createSVGElement(S,N);for(let K=0,ie=Y;K<m;K++,ie+=k)for(let ve=0,Ce=B;ve<g;ve++,Ce+=k)if(f.get(ve,K)===1){const me=this.createSvgRectElement(Ce,ie,k,k);G.appendChild(me)}return G}createSVGElement(s,a){const c=document.createElementNS(Ks.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",a.toString()),c}createSvgRectElement(s,a,c,u){const f=document.createElementNS(Ks.SVG_NS,"rect");return f.setAttributeNS(null,"x",s.toString()),f.setAttributeNS(null,"y",a.toString()),f.setAttributeNS(null,"height",c.toString()),f.setAttributeNS(null,"width",u.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Ks.QUIET_ZONE_SIZE=4,Ks.SVG_NS="http://www.w3.org/2000/svg";class Po{encode(s,a,c,u,f){if(s.length===0)throw new w("Found empty contents");if(a!==ye.QR_CODE)throw new w("Can only encode QR_CODE, but got "+a);if(c<0||u<0)throw new w(`Requested dimensions are too small: ${c}x${u}`);let g=Nt.L,m=Po.QUIET_ZONE_SIZE;f!==null&&(f.get(yn.ERROR_CORRECTION)!==void 0&&(g=Nt.fromString(f.get(yn.ERROR_CORRECTION).toString())),f.get(yn.MARGIN)!==void 0&&(m=Number.parseInt(f.get(yn.MARGIN).toString(),10)));const y=Dt.encode(s,g,f);return Po.renderResult(y,c,u,m)}static renderResult(s,a,c,u){const f=s.getMatrix();if(f===null)throw new er;const g=f.getWidth(),m=f.getHeight(),y=g+u*2,b=m+u*2,S=Math.max(a,y),N=Math.max(c,b),k=Math.min(Math.floor(S/y),Math.floor(N/b)),B=Math.floor((S-g*k)/2),Y=Math.floor((N-m*k)/2),G=new Oe(S,N);for(let K=0,ie=Y;K<m;K++,ie+=k)for(let ve=0,Ce=B;ve<g;ve++,Ce+=k)f.get(ve,K)===1&&G.setRegion(Ce,ie,k,k);return G}}Po.QUIET_ZONE_SIZE=4;class oC{encode(s,a,c,u,f){let g;switch(a){case ye.QR_CODE:g=new Po;break;default:throw new w("No encoder available for format "+a)}return g.encode(s,a,c,u,f)}}class yi extends oe{constructor(s,a,c,u,f,g,m,y){if(super(g,m),this.yuvData=s,this.dataWidth=a,this.dataHeight=c,this.left=u,this.top=f,u+g>a||f+m>c)throw new w("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(g,m)}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const u=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,u,a,0,c),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.yuvData;const c=s*a,u=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.yuvData,f,u,0,c),u;for(let g=0;g<a;g++){const m=g*s;I.arraycopy(this.yuvData,f,u,m,s),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,c,u){return new yi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+a,c,u,!1)}renderThumbnail(){const s=this.getWidth()/yi.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/yi.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*a),u=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let g=0;g<a;g++){const m=g*s;for(let y=0;y<s;y++){const b=u[f+y*yi.THUMBNAIL_SCALE_FACTOR]&255;c[m+y]=4278190080|b*65793}f+=this.dataWidth*yi.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/yi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/yi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,a){const c=this.yuvData;for(let u=0,f=this.top*this.dataWidth+this.left;u<a;u++,f+=this.dataWidth){const g=f+s/2;for(let m=f,y=f+s-1;m<g;m++,y--){const b=c[m];c[m]=c[y],c[y]=b}}}invert(){return new ge(this)}}yi.THUMBNAIL_SCALE_FACTOR=2;class Of extends oe{constructor(s,a,c,u,f,g,m){if(super(a,c),this.dataWidth=u,this.dataHeight=f,this.left=g,this.top=m,s.BYTES_PER_ELEMENT===4){const y=a*c,b=new Uint8ClampedArray(y);for(let S=0;S<y;S++){const N=s[S],k=N>>16&255,B=N>>7&510,Y=N&255;b[S]=(k+B+Y)/4&255}this.luminances=b}else this.luminances=s;if(u===void 0&&(this.dataWidth=a),f===void 0&&(this.dataHeight=c),g===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+c>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(s,a){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const u=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,u,a,0,c),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.luminances;const c=s*a,u=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.luminances,f,u,0,c),u;for(let g=0;g<a;g++){const m=g*s;I.arraycopy(this.luminances,f,u,m,s),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,c,u){return new Of(this.luminances,c,u,this.dataWidth,this.dataHeight,this.left+s,this.top+a)}invert(){return new ge(this)}}class cp extends U{static forName(s){return this.getCharacterSetECIByName(s)}}class Mf{}Mf.ISO_8859_1=U.ISO8859_1;class up{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class dp{static singletonList(s){return[s]}static min(s,a){return s.sort(a)[0]}}class aC{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Bo extends aC{constructor(s,a,c){super(s),this.value=a,this.bitCount=c}appendTo(s,a){s.appendBits(this.value,this.bitCount)}add(s,a){return new Bo(this,s,a)}addBinaryShift(s,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Bo(this,s,a)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+R.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Df extends Bo{constructor(s,a,c){super(s,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=c}appendTo(s,a){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(a[this.binaryShiftStart+c],8)}addBinaryShift(s,a){return new Df(this,s,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function lC(T,s,a){return new Df(T,s,a)}function Xa(T,s,a){return new Bo(T,s,a)}const cC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],as=0,kc=1,Lr=2,fp=3,wi=4,uC=new Bo(null,0,0),Rf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function dC(T){for(let s of T)M.fill(s,-1);return T[as][wi]=0,T[kc][wi]=0,T[kc][as]=28,T[fp][wi]=0,T[Lr][wi]=0,T[Lr][as]=15,T}const hp=dC(M.createInt32Array(6,6));class bi{constructor(s,a,c,u){this.token=s,this.mode=a,this.binaryShiftByteCount=c,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,a){let c=this.bitCount,u=this.token;if(s!==this.mode){let g=Rf[this.mode][s];u=Xa(u,g&65535,g>>16),c+=g>>16}let f=s===Lr?4:5;return u=Xa(u,a,f),new bi(u,s,0,c+f)}shiftAndAppend(s,a){let c=this.token,u=this.mode===Lr?4:5;return c=Xa(c,hp[this.mode][s],u),c=Xa(c,a,5),new bi(c,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let a=this.token,c=this.mode,u=this.bitCount;if(this.mode===wi||this.mode===Lr){let m=Rf[c][as];a=Xa(a,m&65535,m>>16),u+=m>>16,c=as}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new bi(a,c,this.binaryShiftByteCount+1,u+f);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(s+1)),g}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=lC(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new bi(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let a=this.bitCount+(Rf[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=bi.calculateBinaryShiftCost(s)-bi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount}toBitArray(s){let a=[];for(let u=this.endBinaryShift(s.length).token;u!==null;u=u.getPrevious())a.unshift(u);let c=new P;for(const u of a)u.appendTo(c,s);return c}toString(){return se.format("%s bits=%d bytes=%d",cC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}bi.INITIAL_STATE=new bi(uC,as,0,0);function fC(T){const s=se.getCharCode(" "),a=se.getCharCode("."),c=se.getCharCode(",");T[as][s]=1;const u=se.getCharCode("Z"),f=se.getCharCode("A");for(let k=f;k<=u;k++)T[as][k]=k-f+2;T[kc][s]=1;const g=se.getCharCode("z"),m=se.getCharCode("a");for(let k=m;k<=g;k++)T[kc][k]=k-m+2;T[Lr][s]=1;const y=se.getCharCode("9"),b=se.getCharCode("0");for(let k=b;k<=y;k++)T[Lr][k]=k-b+2;T[Lr][c]=12,T[Lr][a]=13;const S=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let k=0;k<S.length;k++)T[fp][se.getCharCode(S[k])]=k;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let k=0;k<N.length;k++)se.getCharCode(N[k])>0&&(T[wi][se.getCharCode(N[k])]=k);return T}const kf=fC(M.createInt32Array(5,256));class $a{constructor(s){this.text=s}encode(){const s=se.getCharCode(" "),a=se.getCharCode(`
`);let c=dp.singletonList(bi.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let g,m=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case se.getCharCode("\r"):g=m===a?2:0;break;case se.getCharCode("."):g=m===s?3:0;break;case se.getCharCode(","):g=m===s?4:0;break;case se.getCharCode(":"):g=m===s?5:0;break;default:g=0}g>0?(c=$a.updateStateListForPair(c,f,g),f++):c=this.updateStateListForChar(c,f)}return dp.min(c,(f,g)=>f.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,a){const c=[];for(let u of s)this.updateStateForChar(u,a,c);return $a.simplifyStates(c)}updateStateForChar(s,a,c){let u=this.text[a]&255,f=kf[s.getMode()][u]>0,g=null;for(let m=0;m<=wi;m++){let y=kf[m][u];if(y>0){if(g==null&&(g=s.endBinaryShift(a)),!f||m===s.getMode()||m===Lr){const b=g.latchAndAppend(m,y);c.push(b)}if(!f&&hp[s.getMode()][m]>=0){const b=g.shiftAndAppend(m,y);c.push(b)}}}if(s.getBinaryShiftByteCount()>0||kf[s.getMode()][u]===0){let m=s.addBinaryShiftChar(a);c.push(m)}}static updateStateListForPair(s,a,c){const u=[];for(let f of s)this.updateStateForPair(f,a,c,u);return this.simplifyStates(u)}static updateStateForPair(s,a,c,u){let f=s.endBinaryShift(a);if(u.push(f.latchAndAppend(wi,c)),s.getMode()!==wi&&u.push(f.shiftAndAppend(wi,c)),c===3||c===4){let g=f.latchAndAppend(Lr,16-c).latchAndAppend(Lr,1);u.push(g)}if(s.getBinaryShiftByteCount()>0){let g=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(g)}}static simplifyStates(s){let a=[];for(const c of s){let u=!0;for(const f of a){if(f.isBetterThanOrEqualTo(c)){u=!1;break}c.isBetterThanOrEqualTo(f)&&(a=a.filter(g=>g!==f))}u&&a.push(c)}return a}}class gt{constructor(){}static encodeBytes(s){return gt.encode(s,gt.DEFAULT_EC_PERCENT,gt.DEFAULT_AZTEC_LAYERS)}static encode(s,a,c){let u=new $a(s).encode(),f=R.truncDivision(u.getSize()*a,100)+11,g=u.getSize()+f,m,y,b,S,N;if(c!==gt.DEFAULT_AZTEC_LAYERS){if(m=c<0,y=Math.abs(c),y>(m?gt.MAX_NB_BITS_COMPACT:gt.MAX_NB_BITS))throw new w(se.format("Illegal value %s for layers",c));b=gt.totalBitsInLayer(y,m),S=gt.WORD_SIZE[y];let me=b-b%S;if(N=gt.stuffBits(u,S),N.getSize()+f>me)throw new w("Data to large for user specified layer");if(m&&N.getSize()>S*64)throw new w("Data to large for user specified layer")}else{S=0,N=null;for(let me=0;;me++){if(me>gt.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(m=me<=3,y=m?me+1:me,b=gt.totalBitsInLayer(y,m),g>b)continue;(N==null||S!==gt.WORD_SIZE[y])&&(S=gt.WORD_SIZE[y],N=gt.stuffBits(u,S));let lt=b-b%S;if(!(m&&N.getSize()>S*64)&&N.getSize()+f<=lt)break}}let k=gt.generateCheckWords(N,b,S),B=N.getSize()/S,Y=gt.generateModeMessage(m,y,B),G=(m?11:14)+y*4,K=new Int32Array(G),ie;if(m){ie=G;for(let me=0;me<K.length;me++)K[me]=me}else{ie=G+1+2*R.truncDivision(R.truncDivision(G,2)-1,15);let me=R.truncDivision(G,2),lt=R.truncDivision(ie,2);for(let Qe=0;Qe<me;Qe++){let nr=Qe+R.truncDivision(Qe,15);K[me-Qe-1]=lt-nr-1,K[me+Qe]=lt+nr+1}}let ve=new Oe(ie);for(let me=0,lt=0;me<y;me++){let Qe=(y-me)*4+(m?9:12);for(let nr=0;nr<Qe;nr++){let qr=nr*2;for(let rr=0;rr<2;rr++)k.get(lt+qr+rr)&&ve.set(K[me*2+rr],K[me*2+nr]),k.get(lt+Qe*2+qr+rr)&&ve.set(K[me*2+nr],K[G-1-me*2-rr]),k.get(lt+Qe*4+qr+rr)&&ve.set(K[G-1-me*2-rr],K[G-1-me*2-nr]),k.get(lt+Qe*6+qr+rr)&&ve.set(K[G-1-me*2-nr],K[me*2+rr])}lt+=Qe*8}if(gt.drawModeMessage(ve,m,ie,Y),m)gt.drawBullsEye(ve,R.truncDivision(ie,2),5);else{gt.drawBullsEye(ve,R.truncDivision(ie,2),7);for(let me=0,lt=0;me<R.truncDivision(G,2)-1;me+=15,lt+=16)for(let Qe=R.truncDivision(ie,2)&1;Qe<ie;Qe+=2)ve.set(R.truncDivision(ie,2)-lt,Qe),ve.set(R.truncDivision(ie,2)+lt,Qe),ve.set(Qe,R.truncDivision(ie,2)-lt),ve.set(Qe,R.truncDivision(ie,2)+lt)}let Ce=new up;return Ce.setCompact(m),Ce.setSize(ie),Ce.setLayers(y),Ce.setCodeWords(B),Ce.setMatrix(ve),Ce}static drawBullsEye(s,a,c){for(let u=0;u<c;u+=2)for(let f=a-u;f<=a+u;f++)s.set(f,a-u),s.set(f,a+u),s.set(a-u,f),s.set(a+u,f);s.set(a-c,a-c),s.set(a-c+1,a-c),s.set(a-c,a-c+1),s.set(a+c,a-c),s.set(a+c,a-c+1),s.set(a+c,a+c-1)}static generateModeMessage(s,a,c){let u=new P;return s?(u.appendBits(a-1,2),u.appendBits(c-1,6),u=gt.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(c-1,11),u=gt.generateCheckWords(u,40,4)),u}static drawModeMessage(s,a,c,u){let f=R.truncDivision(c,2);if(a)for(let g=0;g<7;g++){let m=f-3+g;u.get(g)&&s.set(m,f-5),u.get(g+7)&&s.set(f+5,m),u.get(20-g)&&s.set(m,f+5),u.get(27-g)&&s.set(f-5,m)}else for(let g=0;g<10;g++){let m=f-5+g+R.truncDivision(g,5);u.get(g)&&s.set(m,f-7),u.get(g+10)&&s.set(f+7,m),u.get(29-g)&&s.set(m,f+7),u.get(39-g)&&s.set(f-7,m)}}static generateCheckWords(s,a,c){let u=s.getSize()/c,f=new Nf(gt.getGF(c)),g=R.truncDivision(a,c),m=gt.bitsToWords(s,c,g);f.encode(m,g-u);let y=a%c,b=new P;b.appendBits(0,y);for(const S of Array.from(m))b.appendBits(S,c);return b}static bitsToWords(s,a,c){let u=new Int32Array(c),f,g;for(f=0,g=s.getSize()/a;f<g;f++){let m=0;for(let y=0;y<a;y++)m|=s.get(f*a+y)?1<<a-y-1:0;u[f]=m}return u}static getGF(s){switch(s){case 4:return We.AZTEC_PARAM;case 6:return We.AZTEC_DATA_6;case 8:return We.AZTEC_DATA_8;case 10:return We.AZTEC_DATA_10;case 12:return We.AZTEC_DATA_12;default:throw new w("Unsupported word size "+s)}}static stuffBits(s,a){let c=new P,u=s.getSize(),f=(1<<a)-2;for(let g=0;g<u;g+=a){let m=0;for(let y=0;y<a;y++)(g+y>=u||s.get(g+y))&&(m|=1<<a-1-y);(m&f)===f?(c.appendBits(m&f,a),g--):m&f?c.appendBits(m,a):(c.appendBits(m|1,a),g--)}return c}static totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}gt.DEFAULT_EC_PERCENT=33,gt.DEFAULT_AZTEC_LAYERS=0,gt.MAX_NB_BITS=32,gt.MAX_NB_BITS_COMPACT=4,gt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Lc{encode(s,a,c,u){return this.encodeWithHints(s,a,c,u,null)}encodeWithHints(s,a,c,u,f){let g=Mf.ISO_8859_1,m=gt.DEFAULT_EC_PERCENT,y=gt.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(yn.CHARACTER_SET)&&(g=cp.forName(f.get(yn.CHARACTER_SET).toString())),f.has(yn.ERROR_CORRECTION)&&(m=R.parseInt(f.get(yn.ERROR_CORRECTION).toString())),f.has(yn.AZTEC_LAYERS)&&(y=R.parseInt(f.get(yn.AZTEC_LAYERS).toString()))),Lc.encodeLayers(s,a,c,u,g,m,y)}static encodeLayers(s,a,c,u,f,g,m){if(a!==ye.AZTEC)throw new w("Can only encode AZTEC, but got "+a);let y=gt.encode(se.getBytes(s,f),g,m);return Lc.renderResult(y,c,u)}static renderResult(s,a,c){let u=s.getMatrix();if(u==null)throw new er;let f=u.getWidth(),g=u.getHeight(),m=Math.max(a,f),y=Math.max(c,g),b=Math.min(m/f,y/g),S=(m-f*b)/2,N=(y-g*b)/2,k=new Oe(m,y);for(let B=0,Y=N;B<g;B++,Y+=b)for(let G=0,K=S;G<f;G++,K+=b)u.get(G,B)&&k.setRegion(K,Y,b,b);return k}}n.AbstractExpandedDecoder=qt,n.ArgumentException=x,n.ArithmeticException=nt,n.AztecCode=up,n.AztecCodeReader=Bn,n.AztecCodeWriter=Lc,n.AztecDecoder=ht,n.AztecDetector=Do,n.AztecDetectorResult=mi,n.AztecEncoder=gt,n.AztecHighLevelEncoder=$a,n.AztecPoint=Wt,n.BarcodeFormat=ye,n.Binarizer=_,n.BinaryBitmap=C,n.BitArray=P,n.BitMatrix=Oe,n.BitSource=Ef,n.BrowserAztecCodeReader=Bi,n.BrowserBarcodeReader=V3,n.BrowserCodeReader=Ue,n.BrowserDatamatrixCodeReader=Y3,n.BrowserMultiFormatReader=nC,n.BrowserPDF417Reader=rC,n.BrowserQRCodeReader=iC,n.BrowserQRCodeSvgWriter=Ks,n.CharacterSetECI=U,n.ChecksumException=E,n.Code128Reader=Se,n.Code39Reader=Yt,n.DataMatrixDecodedBitStreamParser=rs,n.DataMatrixReader=is,n.DecodeHintType=z,n.DecoderResult=Vt,n.DefaultGridSampler=pr,n.DetectorResult=Nn,n.EAN13Reader=Fe,n.EncodeHintType=yn,n.Exception=p,n.FormatException=A,n.GenericGF=We,n.GenericGFPoly=st,n.GlobalHistogramBinarizer=ke,n.GridSampler=xi,n.GridSamplerInstance=mr,n.HTMLCanvasElementLuminanceSource=pe,n.HybridBinarizer=be,n.ITFReader=q,n.IllegalArgumentException=w,n.IllegalStateException=er,n.InvertedLuminanceSource=ge,n.LuminanceSource=oe,n.MathUtils=rt,n.MultiFormatOneDReader=ko,n.MultiFormatReader=lp,n.MultiFormatWriter=oC,n.NotFoundException=X,n.OneDReader=_t,n.PDF417DecodedBitStreamParser=re,n.PDF417DecoderErrorCorrection=np,n.PDF417Reader=Dn,n.PDF417ResultMetadata=ip,n.PerspectiveTransform=Qt,n.PlanarYUVLuminanceSource=yi,n.QRCodeByteMatrix=Rc,n.QRCodeDataMask=Rr,n.QRCodeDecodedBitStreamParser=Gt,n.QRCodeDecoderErrorCorrectionLevel=Nt,n.QRCodeDecoderFormatInformation=jn,n.QRCodeEncoder=Dt,n.QRCodeEncoderQRCode=$s,n.QRCodeMaskUtil=Jt,n.QRCodeMatrixUtil=Ye,n.QRCodeMode=Ve,n.QRCodeReader=ss,n.QRCodeVersion=He,n.QRCodeWriter=Po,n.RGBLuminanceSource=Of,n.RSS14Reader=Ft,n.RSSExpandedReader=fe,n.ReaderException=Dc,n.ReedSolomonDecoder=Gn,n.ReedSolomonEncoder=Nf,n.ReedSolomonException=Kr,n.Result=Ie,n.ResultMetadataType=at,n.ResultPoint=De,n.StringUtils=se,n.UnsupportedOperationException=J,n.VideoInputDevice=Pe,n.WhiteRectangleDetector=Xn,n.WriterException=It,n.ZXingArrays=M,n.ZXingCharset=cp,n.ZXingInteger=R,n.ZXingStandardCharsets=Mf,n.ZXingStringBuilder=xe,n.ZXingStringEncoding=ce,n.ZXingSystem=I,n.createAbstractExpandedDecoder=Cn,Object.defineProperty(n,"__esModule",{value:!0})})})(r1,r1.exports);var Pt=r1.exports;const H6=Pd(Pt),V6=x1({__proto__:null,default:H6},[Pt]);var Ox=function(){function e(t,n,r){if(this.formatMap=new Map([[Me.QR_CODE,Pt.BarcodeFormat.QR_CODE],[Me.AZTEC,Pt.BarcodeFormat.AZTEC],[Me.CODABAR,Pt.BarcodeFormat.CODABAR],[Me.CODE_39,Pt.BarcodeFormat.CODE_39],[Me.CODE_93,Pt.BarcodeFormat.CODE_93],[Me.CODE_128,Pt.BarcodeFormat.CODE_128],[Me.DATA_MATRIX,Pt.BarcodeFormat.DATA_MATRIX],[Me.MAXICODE,Pt.BarcodeFormat.MAXICODE],[Me.ITF,Pt.BarcodeFormat.ITF],[Me.EAN_13,Pt.BarcodeFormat.EAN_13],[Me.EAN_8,Pt.BarcodeFormat.EAN_8],[Me.PDF_417,Pt.BarcodeFormat.PDF_417],[Me.RSS_14,Pt.BarcodeFormat.RSS_14],[Me.RSS_EXPANDED,Pt.BarcodeFormat.RSS_EXPANDED],[Me.UPC_A,Pt.BarcodeFormat.UPC_A],[Me.UPC_E,Pt.BarcodeFormat.UPC_E],[Me.UPC_EAN_EXTENSION,Pt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!V6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),o=new Map;o.set(Pt.DecodeHintType.POSSIBLE_FORMATS,i),o.set(Pt.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(o){i(o)}})},e.prototype.decode=function(t){var n=new Pt.MultiFormatReader(this.verbose,this.hints),r=new Pt.HTMLCanvasElementLuminanceSource(t),i=new Pt.BinaryBitmap(new Pt.HybridBinarizer(r)),o=n.decode(i);return{text:o.text,format:Gv.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),W6=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(x){try{p(r.next(x))}catch(w){l(w)}}function h(x){try{p(r.throw(x))}catch(w){l(w)}}function p(x){x.done?o(x.value):i(x.value).then(d,h)}p((r=r.apply(e,t||[])).next())})},Y6=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Mx=function(){function e(t,n,r){if(this.formatMap=new Map([[Me.QR_CODE,"qr_code"],[Me.AZTEC,"aztec"],[Me.CODABAR,"codabar"],[Me.CODE_39,"code_39"],[Me.CODE_93,"code_93"],[Me.CODE_128,"code_128"],[Me.DATA_MATRIX,"data_matrix"],[Me.ITF,"itf"],[Me.EAN_13,"ean_13"],[Me.EAN_8,"ean_8"],[Me.PDF_417,"pdf417"],[Me.UPC_A,"upc_a"],[Me.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return W6(this,void 0,void 0,function(){var n,r;return Y6(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Gv.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,o=t;i<o.length;i++){var l=o[i],d=l.boundingBox.width*l.boundingBox.height;d>r&&(r=d,n=l)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Dx=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(x){try{p(r.next(x))}catch(w){l(w)}}function h(x){try{p(r.throw(x))}catch(w){l(w)}}function p(x){x.done?o(x.value):i(x.value).then(d,h)}p((r=r.apply(e,t||[])).next())})},Rx=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},G6=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Mx.isSupported()?(this.primaryDecoder=new Mx(t,r,i),this.secondaryDecoder=new Ox(t,r,i)):this.primaryDecoder=new Ox(t,r,i)}return e.prototype.decodeAsync=function(t){return Dx(this,void 0,void 0,function(){var n;return Rx(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Dx(this,void 0,void 0,function(){var n,r;return Rx(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Ug=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ad=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(x){try{p(r.next(x))}catch(w){l(w)}}function h(x){try{p(r.throw(x))}catch(w){l(w)}}function p(x){x.done?o(x.value):i(x.value).then(d,h)}p((r=r.apply(e,t||[])).next())})},_d=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Zv=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),X6=function(e){Ug(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Zv),$6=function(e){Ug(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(X6),K6=function(e){Ug(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Zv),Z6=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new $6(this.track)},e.prototype.torchFeature=function(){return new K6(this.track)},e}(),Q6=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Ad(this,void 0,void 0,function(){var o,l;return _d(this,function(d){switch(d.label){case 0:return o=new e(t,n,i),r.aspectRatio?(l={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:d.sent(),d.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Ad(this,void 0,void 0,function(){return _d(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),o=i.length,l=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++l,l>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Z6(this.getFirstTrackOrFail())},e}(),q6=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Ad(this,void 0,void 0,function(){return _d(this,function(i){return[2,Q6.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Ad(this,void 0,void 0,function(){var n,r;return _d(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),kx=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(x){try{p(r.next(x))}catch(w){l(w)}}function h(x){try{p(r.throw(x))}catch(w){l(w)}}function p(x){x.done?o(x.value):i(x.value).then(d,h)}p((r=r.apply(e,t||[])).next())})},Lx=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},J6=function(){function e(){}return e.failIfNotSupported=function(){return kx(this,void 0,void 0,function(){return Lx(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return kx(this,void 0,void 0,function(){return Lx(this,function(n){return[2,q6.create(t)]})})},e}(),eN=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(x){try{p(r.next(x))}catch(w){l(w)}}function h(x){try{p(r.throw(x))}catch(w){l(w)}}function p(x){x.done?o(x.value):i(x.value).then(d,h)}p((r=r.apply(e,t||[])).next())})},tN=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},nN=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=ia.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=ia.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return eN(this,void 0,void 0,function(){var t,n,r,i,o,l,d;return tN(this,function(h){switch(h.label){case 0:return t=function(p){for(var x=p.getVideoTracks(),w=0,C=x;w<C.length;w++){var E=C[w];E.enabled=!1,E.stop(),p.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=h.sent(),i=[],o=0,l=r;o<l.length;o++)d=l[o],d.kind==="videoinput"&&i.push({id:d.deviceId,label:d.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(o){for(var l=[],d=0,h=o;d<h.length;d++){var p=h[d];p.kind==="video"&&l.push({id:p.id,label:p.label})}t(l)},i=MediaStreamTrack;i.getSources(r)})},e}(),en;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(en||(en={}));var rN=function(){function e(){this.state=en.NOT_STARTED,this.onGoingTransactionNewState=en.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===en.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=en.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===en.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=en.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==en.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case en.UNKNOWN:throw"Transition from unknown is not allowed";case en.NOT_STARTED:this.failIfNewStateIs(t,[en.PAUSED]);break;case en.SCANNING:break;case en.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),iN=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===en.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==en.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===en.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===en.PAUSED},e}(),sN=function(){function e(){}return e.create=function(){return new iN(new rN)},e}(),oN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yr=function(e){oN(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ri),aN=function(){function e(t,n){this.logger=n,this.fps=yr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=yr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Kv.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!_i(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Px=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new $v(this.verbose),this.qrcode=new G6(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=sN.create()}return e.prototype.start=function(t,n,r,i){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var d=aN.create(n,this.logger);this.clearElement();var h=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=h,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:yr.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,C=this.stateManagerProxy.startTransition(en.SCANNING);return new Promise(function(E,_){var I=p?d.videoConstraints:w.createVideoConstraints(t);if(!I){C.cancel(),_("videoConstraints should be defined");return}var D={};(!p||d.aspectRatio)&&(D.aspectRatio=d.aspectRatio);var O={onRenderSurfaceReady:function(M,R){w.setupUi(M,R,d),w.isScanning=!0,w.foreverScan(d,r,l)}};J6.failIfNotSupported().then(function(M){M.create(I).then(function(R){return R.render(o.element,D,O).then(function(P){w.renderedCamera=P,C.execute(),E(null)}).catch(function(P){C.cancel(),_(P)})}).catch(function(R){C.cancel(),_(ia.errorGettingUserMedia(R))})}).catch(function(M){C.cancel(),_(ia.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(en.PAUSED),this.showPausedState(),(_i(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(en.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(en.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var o=document.getElementById(yr.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(_i(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var l=new Image;l.onload=function(){var d=l.width,h=l.height,p=document.getElementById(r.elementId),x=p.clientWidth?p.clientWidth:yr.DEFAULT_WIDTH,w=Math.max(p.clientHeight?p.clientHeight:h,yr.FILE_SCAN_MIN_HEIGHT),C=r.computeCanvasDrawConfig(d,h,x,w);if(n){var E=r.createCanvasElement(x,w,"qr-canvas-visible");E.style.display="inline-block",p.appendChild(E);var _=E.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=x,_.canvas.height=w,_.drawImage(l,0,0,d,h,C.x,C.y,C.width,C.height)}var I=yr.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(l.width,C.width),O=Math.max(l.height,C.height),M=D+2*I,R=O+2*I,P=r.createCanvasElement(M,R);p.appendChild(P);var F=P.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=M,F.canvas.height=R,F.drawImage(l,0,0,d,h,I,I,D,O);try{r.qrcode.decodeRobustlyAsync(P).then(function(z){i(Tx.createFromQrcodeResult(z))}).catch(o)}catch(z){o("QR code parse error, error = ".concat(z))}},l.onerror=o,l.onabort=o,l.onstalled=o,l.onsuspend=o,l.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return nN.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Kv.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Me.QR_CODE,Me.AZTEC,Me.CODABAR,Me.CODE_39,Me.CODE_93,Me.CODE_128,Me.DATA_MATRIX,Me.MAXICODE,Me.ITF,Me.EAN_13,Me.EAN_8,Me.PDF_417,Me.RSS_14,Me.RSS_EXPANDED,Me.UPC_A,Me.UPC_E,Me.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=t.formatsToSupport;i<o.length;i++){var l=o[i];U6(l)?r.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(_i(t))return!0;if(!_i(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(_i(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return _i(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,o=r.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(t,n,o),d=function(p){if(p<yr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(yr.MIN_QR_BOX_SIZE,"px.")},h=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};d(l.width),d(l.height),l.width=h(l.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=_i(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=r.isShadedBoxEnabled()&&o.height<=n,d={x:0,y:0,width:t,height:n},h=l?this.getShadedRegionBounds(t,n,o):d,p=this.createCanvasElement(h.width,h.height),x={willReadFrequently:!0},w=p.getContext("2d",x);w.canvas.width=h.width,w.canvas.height=h.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=w,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=ia.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Tx.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=ia.codeParseError(i);return n(o,Xv.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),l=o.videoWidth/o.clientWidth,d=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*l,p=this.qrRegion.height*d,x=this.qrRegion.x*l,w=this.qrRegion.y*d;this.context.drawImage(o,x,w,h,p,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){C()})):C()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",l=function(_){if(_ in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var h=Object.keys(t)[0];if(h!==n&&h!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(h===n){var p=t.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(o in p){if(l(p["".concat(o)]))return{facingMode:{exact:p["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var x=typeof p;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(o in w)return{deviceId:{exact:w["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var C=typeof w;throw"Invalid type of 'deviceId' = ".concat(C)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var o=(r-t)/2,l=(i-n)/2;return{x:o,y:l,width:t,height:n}}else{var d=t,h=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(h)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?yr.BORDER_SHADER_MATCH_COLOR:yr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,o=n,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(o,"px"),l.style.display="none",l.id=_i(r)?"qr-canvas":r,l},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var l=(n-i.width)/2,d=(r-i.height)/2;if(o.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(yr.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var h=5,p=40;this.insertShaderBorders(o,p,h,-h,null,0,!0),this.insertShaderBorders(o,p,h,-h,null,0,!1),this.insertShaderBorders(o,p,h,null,-h,0,!0),this.insertShaderBorders(o,p,h,null,-h,0,!1),this.insertShaderBorders(o,h,p+h,-h,null,-h,!0),this.insertShaderBorders(o,h,p+h,null,-h,-h,!0),this.insertShaderBorders(o,h,p+h,-h,null,-h,!1),this.insertShaderBorders(o,h,p+h,null,-h,-h,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,r,i,o,l,d){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=yr.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(n,"px"),h.style.height="".concat(r,"px"),i!==null&&(h.style.top="".concat(i,"px")),o!==null&&(h.style.bottom="".concat(o,"px")),d?h.style.left="".concat(l,"px"):h.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),t.appendChild(h)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),zg="data:image/svg+xml;base64,",lN=zg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",cN=zg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Bx=zg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",uN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",jx=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),dN=function(){function e(){this.data=jx.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=jx.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),fN=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Nx.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var o=document.createElement("a");o.innerText=Nx.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),hN=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Bx,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=uN,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Bx,this.infoIcon.style.opacity="0.6")},e}(),gN=function(){function e(){var t=this;this.infoDiv=new fN,this.infoIcon=new hN(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),pN=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(x){try{p(r.next(x))}catch(w){l(w)}}function h(x){try{p(r.throw(x))}catch(w){l(w)}}function p(x){x.done?o(x.value):i(x.value).then(d,h)}p((r=r.apply(e,t||[])).next())})},mN=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Fx=function(){function e(){}return e.hasPermissions=function(){return pN(this,void 0,void 0,function(){var t,n,r,i;return mN(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e}(),us=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===js.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===js.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ri.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ri.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!ri.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),Sr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),$i=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(Sr.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),Qv=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function d(x){try{p(r.next(x))}catch(w){l(w)}}function h(x){try{p(r.throw(x))}catch(w){l(w)}}function p(x){x.done?o(x.value):i(x.value).then(d,h)}p((r=r.apply(e,t||[])).next())})},qv=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Ux=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Qv(this,void 0,void 0,function(){var t,n;return qv(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ct.torchOffButton():Ct.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Ct.torchOnFailedMessage():Ct.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),xN=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=$i.createElement("button",Sr.TORCH_BUTTON_ID),this.torchController=new Ux(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Ct.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(o){return Qv(r,void 0,void 0,function(){return qv(this,function(l){switch(l.label){case 0:return[4,i.torchController.flipState()];case 1:return l.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Sr.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Sr.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Sr.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Sr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Ux(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ct.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var o=new e(n,i);return o.render(t,r),o},e}(),yN=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=$i.createElement("button",Sr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=$i.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var h=d.target;if(!(h.files&&h.files.length===0)){var p=h.files,x=p[0],w=x.name;o.setImageNameToButton(w),r(x)}}});var l=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(l),this.fileBasedScanRegion.addEventListener("dragenter",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var h=d.dataTransfer;if(h){var p=h.files;if(!p||p.length===0)return;for(var x=!1,w=0;w<p.length;++w){var C=p.item(w);if(C){var E=/image.*/;if(C.type.match(E)){x=!0;var _=C.name;o.setImageNameToButton(_),r(C),l.innerText=Ct.dragAndDropMessage();break}}}x||(l.innerText=Ct.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ct.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,o=t.substring(i-8,i);t="".concat(r,"....").concat(o)}var l=Ct.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=l},e.prototype.setInitialValueToButton=function(){var t=Ct.fileSelectionChooseImage()+" - "+Ct.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e}(),wN=function(){function e(t){this.selectElement=$i.createElement("select",Sr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Ct.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var o=1,l=0,d=this.cameras;l<d.length;l++){var h=d[l],p=h.id,x=h.label==null?p:h.label;(!x||x==="")&&(x=[Ct.anonymousCameraPrefix(),o++].join(" "));var w=document.createElement("option");w.value=p,w.innerText=x,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),bN=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=$i.createElement("input",Sr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ct.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ct.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),wr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(wr||(wr={}));function vN(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function CN(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var EN=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new us(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new $v(this.verbose),this.persistedDataManager=new dN,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,l){if(t)t(o,l);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(Ct.lastMatch(o),wr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,l){n&&n(o,l)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Px(this.getScanRegionId(),CN(this.config,this.verbose))},e.prototype.pause=function(t){(_i(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),i(o)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ri.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ri.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ri.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ri.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ri.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ri.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ri.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),us.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),o=this.getDashboardId();i.id=o,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new gN;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Ct.cameraPermissionRequesting());var o=function(){r||i.createPermissionButton(t,n)};Px.getCameras().then(function(l){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),l&&l.length>0?(t.removeChild(n),i.renderCameraSelection(l)):(i.setHeaderMessage(Ct.noCameraFound(),wr.STATUS_WARNING),o())}).catch(function(l){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),i.setHeaderMessage(l,wr.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=$i.createElement("button",this.getCameraPermissionButtonId());i.innerText=Ct.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(us.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Fx.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=us.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=us.isFileScanType(this.currentScanType),r=this,i=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";us.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ct.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(l){r.resetHeaderMessage(),r.qrCodeSuccessCallback(l.decodedText,l)}).catch(function(l){r.setHeaderMessage(l,wr.STATUS_WARNING),r.qrCodeErrorCallback(l,Xv.createFrom(l))}))};this.fileSelectionUi=yN.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var o=bN.create(i,!1),l=function(I){var D=I.zoomFeature();if(D.isSupported()){o.setOnCameraZoomValueChangeCallback(function(M){D.apply(M)});var O=1;n.config.defaultZoomValueIfSupported&&(O=n.config.defaultZoomValueIfSupported),O=z6(O,D.min(),D.max()),o.setValues(D.min(),D.max(),O,D.step()),o.show()}},d=wN.create(i,t),h=document.createElement("span"),p=$i.createElement("button",Sr.CAMERA_START_BUTTON_ID);p.innerText=Ct.scanButtonStartScanningText(),h.appendChild(p);var x=$i.createElement("button",Sr.CAMERA_STOP_BUTTON_ID);x.innerText=Ct.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,h.appendChild(x);var w,C=function(I){if(!I.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(I.torchFeature()):w=xN.create(h,I.torchFeature(),{display:"none",marginLeft:"5px"},function(D){r.setHeaderMessage(D,wr.STATUS_WARNING)}),w.show()};i.appendChild(h);var E=function(I){I||(p.style.display="none"),p.innerText=Ct.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,I&&(p.style.display="inline-block")};if(p.addEventListener("click",function(I){p.innerText=Ct.scanButtonScanningStarting(),d.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var D=d.getValue();r.persistedDataManager.setLastUsedCameraId(D),r.html5Qrcode.start(D,vN(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(O){x.disabled=!1,x.style.display="inline-block",E(!1);var M=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&C(M),n.config.showZoomSliderIfSupported===!0&&l(M)}).catch(function(O){r.showHideScanTypeSwapLink(!0),d.enable(),E(!0),r.setHeaderMessage(O,wr.STATUS_WARNING)})}),d.hasSingleItem()&&p.click(),x.addEventListener("click",function(I){if(!r.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,r.html5Qrcode.stop().then(function(D){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),p.disabled=!1,x.style.display="none",p.style.display="inline-block",w&&(w.reset(),w.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(D){x.disabled=!1,r.setHeaderMessage(D,wr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var _=r.persistedDataManager.getLastUsedCameraId();d.hasValue(_)?(d.setValue(_),p.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ct.textIfCameraScanSelected(),r=Ct.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var l=$i.createElement("span",this.getDashboardSectionSwapLinkId());l.style.textDecoration="underline",l.style.cursor="pointer",l.innerText=us.isCameraScanType(this.currentScanType)?n:r,l.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,us.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),l.innerText=r,t.currentScanType=js.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),l.innerText=n,t.currentScanType=js.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),o.appendChild(l),i.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Fx.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=wr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case wr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case wr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case wr.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=lN,this.cameraScanImage.alt=Ct.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=cN,this.fileScanImage.alt=Ct.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Sr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Sr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function iu({action:e,type:t}){const n=Jd(),[r,i]=V.useState("");return V.useEffect(()=>{const o=new EN("reader",{fps:10,qrbox:{width:250,height:250}}),l=async d=>{o.clear();let h="",p="";t==="return"?(h=d.split("@")[0],p=d.split("@")[1]):h=d;const x=de.loading("Scanning..."),w=await e(h,p);de.remove(x),w.status==="success"&&w.message?(i(d),de.success(w.message),o.render(l)):(de.error(w.message),o.render(l)),n(".")};return o.render(l),()=>{o.clear().catch(d=>{console.error("Failed to clear html5QrcodeScanner. ",d)}),i("")}},[r,e,t]),v.jsxs("div",{className:"m-2 w-100 mt-3",children:[v.jsx(Ag,{position:"top-center",reverseOrder:!1}),v.jsx("div",{id:"reader"})," "]})}function SN(e){const n=/[A-Z]/.test(e),r=/[a-z]/.test(e),i=/\d/.test(e),o=/[!@#$%^&*(),.?":{}|<>]/.test(e);return e?e.length<8?{status:"error",message:"Password must be more than 8 characters"}:r?n?i?o?{status:"success",message:"Strong password entered"}:{status:"error",message:"Password must contain special char, e.g @, $"}:{status:"error",message:"Password must contain number"}:{status:"error",message:"Password must contain uppercase, e.g A, B"}:{status:"error",message:"Password must contain lowercase, e.g a, b"}:null}function AN(e,t){return t?e===t?{status:"success",message:"confirm password is same with password"}:{status:"error",message:"confirm password is not same with password"}:null}const zx=async({request:e})=>{const t=await e.formData(),n=t.get("name"),r=t.get("email"),i=t.get("profileImg"),o=t.get("department"),l=t.get("IDCard"),d=new FormData;n&&d.append("name",n),r&&d.append("email",r),i&&i.size>0&&d.append("profileImg",i),o&&d.append("department",o),l&&l.size>0&&d.append("IDCard",l);const h=de.loading("Making changes..."),p=await TT(d);return de.remove(h),p.status==="success"&&p.message?de.success(p.message):de.error(p.message),null};function Hx(){var se,xe,Oe,X,ke;const e=Mb(),t=No(),n=Jd(),[r,i]=V.useState("idle"),[o,l]=V.useState(!1),[d,h]=V.useState({password:null,confirm_password:null}),[p,x]=V.useState({email:((se=e.user)==null?void 0:se.email)||"",password:"",current_password:"",confirm_password:"",code:""}),[w,C]=V.useState({name:((xe=e.user)==null?void 0:xe.name)||"",email:((Oe=e.user)==null?void 0:Oe.email)||"",department:((X=e.user)==null?void 0:X.department)||""}),[E,_]=V.useState(""),[I,D]=V.useState(""),[O,M]=V.useState(0),[R,P]=V.useState(0);function F(be){const{name:oe,value:ge}=be.target;C(pe=>({...pe,[oe]:ge}))}function z(be){const{name:oe,type:ge,files:pe,id:Pe}=be.target,Ae=["image/jpeg","image/png","image/webp"];if(ge==="file"&&pe[0]){const Ue=pe[0];if(Ae.includes(Ue.type))if(Pe==="IDCard"){const Ie=new FileReader;Ie.onprogress=ze=>{if(ze.lengthComputable){const ye=Math.round(ze.loaded/ze.total*100);M(ye)}},Ie.readAsDataURL(Ue)}else if(Pe==="SUBADMIN_IDCard"){const Ie=new FileReader;Ie.onprogress=ze=>{if(ze.lengthComputable){const ye=Math.round(ze.loaded/ze.total*100);P(ye)}},Ie.readAsDataURL(Ue)}else(async()=>{const ze=await _g(Ue);Pe==="profileImg"?_(ze):D(ze)})();else{de.error("Invalid image format. Please upload a valid image file.");return}}}function A(be){const{name:oe,value:ge}=be.target;[oe]=="password"?h(pe=>({...pe,password:SN(ge)})):[oe]=="confirm_password"&&h(pe=>({...pe,confirm_password:AN(p.password,ge)})),x(pe=>({...pe,[oe]:ge}))}async function j(){i("submitting");const be=de.loading("Sending OTP..."),oe=await OT();i("idle"),de.remove(be),oe.status==="success"&&oe.message?(de.success(oe.message),l(!0)):de.error(oe.message)}async function U(){i("submitting");const be=de.loading("Updating password..."),oe=await NT(p.code,{password:p.password,current_password:p.current_password,confirm_password:p.confirm_password});i("idle"),de.remove(be),oe.status==="success"&&oe.message?(de.success(oe.message),setTimeout(()=>{n("/admin/login")},3e3)):de.error(oe.message)}async function J(be){be.preventDefault();const oe=be.target,ge=new FormData(oe),pe=ge.get("name"),Pe=ge.get("password"),Ae=ge.get("email"),Ue=ge.get("profileImg"),Ie=ge.get("department"),ze=ge.get("IDCard");if(!pe)return de.error("Please enter the name field.");if(!Ae)return de.error("Please enter the email field.");if(!Pe)return de.error("Please enter the password field.");if(!Ue||Ue.size<=0)return de.error("Please upload your profile Image.");if(!Ie)return de.error("Please enter the department field.");if(!ze||ze.size<=0)return de.error("Please upload a valid employee ID Card.");const ye=de.loading("Creating new admin..."),mt=await IT(ge);return de.remove(ye),mt.status==="success"&&mt.message?de.success(mt.message):de.error(mt.message)}function ce(){D(""),P(0)}return v.jsxs(_N,{children:[v.jsx(Ca,{courseId:e.user._id,buttonText:"Click to add new Sub Admin",title:"Add New Admin",cancelAction:ce,bStyles:"btn btn-primary border-0 text-light p-3 my-3 rounded-pill w-auto mx-1 shadow text-center",footer:v.jsx(v.Fragment,{}),children:v.jsx("div",{className:"my-3 d-flex mx-auto justify-content-center",children:v.jsxs("form",{method:"POST",onSubmit:J,className:"row g-2 shadow bg-secondary p-2 rounded-3",children:[v.jsxs("div",{className:"col-12 d-flex",children:[v.jsx("label",{htmlFor:"subadmin_profileImg",className:"text-center justify-content-center mx-auto",style:{cursor:"pointer"},children:v.jsx(vn.LazyLoadImage,{src:I||Ir,placeholderSrc:async()=>await Hn(I||Ir),effect:"blur",alt:"new admin img",className:"rounded-circle border-5 border border-secondary",width:"120px",height:"120px"})}),v.jsx("input",{type:"file",id:"subadmin_profileImg",onChange:z,accept:"image/*",name:"profileImg",className:"d-none"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"name",className:"form-label",children:"Full-name"}),v.jsx("input",{type:"text",name:"name",className:"form-control form-control-sm",id:"name"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",name:"email",className:"form-control form-control-sm",id:"email"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),v.jsx("input",{type:"password",name:"password",className:"form-control form-control-sm",id:"password"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"department",className:"form-label",children:"Department"}),v.jsx("input",{type:"text",name:"department",className:"form-control form-control-sm",id:"department"})]}),v.jsxs("div",{className:"col-12 border border-white text-dark rounded-3 shadow mt-4",children:[v.jsxs("label",{htmlFor:"SUBADMIN_IDCard",className:"form-label d-inline-flex",style:{cursor:"pointer"},children:[v.jsx(vn.LazyLoadImage,{src:Mi,placeholderSrc:async()=>await Hn(Mi),effect:"blur",alt:"id img",className:"rounded-3 w-75 mx-auto"}),v.jsx("p",{className:"text-nowrap align-self-center",children:"Click To Upload A Valid Employee ID Card"})]}),v.jsx("input",{type:"file",id:"SUBADMIN_IDCard",accept:"image/*",onChange:z,name:"IDCard",className:"d-none"})]}),v.jsx(va,{progress:R}),v.jsx("button",{type:"submit",disabled:t.state==="submitting",className:`btn ${t.state==="submitting"?"btn-secondary":"btn-primary"} rounded-3 my-2 w-100 p-2 text-light border-0`,children:"Submit"})]})})}),v.jsxs(ka,{method:"PATCH",className:"row g-3 mx-auto",encType:"multipart/form-data",children:[v.jsxs("div",{className:"profile-header text-nowrap rounded-3 text-light",style:{background:`url("${jg}")`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",objectFit:"cover"},children:[v.jsx("div",{className:"mx-auto d-flex flex-row flex-nowrap mb-3 justify-content-center align-items-center gap-2 rounded-3",children:v.jsxs("div",{className:" bg-transparent border border-0 position-relative",children:[v.jsx(vn.LazyLoadImage,{className:"rounded-circle border-5 border border-white",width:"140px",height:"140px",alt:"profile img",src:E||e.user.profileImg||Ir,placeholderSrc:async()=>await Hn(E||e.user.profileImg||Ir),effect:"blur"}),v.jsxs("button",{type:"button",style:{transform:"translate(-55px,-15px)"},className:"position-absolute top-50 mt-5 start-100 badge border border-light rounded-circle bg-white p-2",children:[v.jsx("label",{htmlFor:"profileImg",children:v.jsxs("svg",{width:"24px",height:"24px",viewBox:"0 0 512 512",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",children:[v.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),v.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",v.jsx("title",{children:"Edit Profile Image"})," ",v.jsxs("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[" ",v.jsxs("g",{id:"icon",fill:"#ffc107",transform:"translate(42.666667, 64.000000)",children:[" ",v.jsx("path",{d:"M277.333333,1.42108547e-14 C277.333333,1.42108547e-14 277.681778,0.557511111 278.378667,1.67253333 L278.698667,2.18453333 C279.438222,3.36782222 280.478222,5.03182222 281.818667,7.17653333 L282.458667,8.20053333 C283.891556,10.4931556 285.624889,13.2664889 287.658667,16.5205333 L288.618667,18.0565333 C290.744889,21.4584889 293.171556,25.3411556 295.898667,29.7045333 L297.178667,31.7525333 C299.998222,36.2638222 303.118222,41.2558222 306.538667,46.7285333 L308.138667,49.2885333 C311.003462,53.8722052 314.068069,58.775577 317.332489,63.9986486 L426.666667,64 L426.666667,362.666667 L7.10542736e-15,362.666667 L7.10542736e-15,64 L109.333,64 L149.333333,1.42108547e-14 L277.333333,1.42108547e-14 L277.333333,1.42108547e-14 Z M213.333333,85.3333333 C148.531923,85.3333333 96,137.865256 96,202.666667 C96,267.468077 148.531923,320 213.333333,320 C278.134744,320 330.666667,267.468077 330.666667,202.666667 C330.666667,137.865256 278.134744,85.3333333 213.333333,85.3333333 Z M213.333333,128 C254.570595,128 288,161.429405 288,202.666667 C288,243.903928 254.570595,277.333333 213.333333,277.333333 C172.096072,277.333333 138.666667,243.903928 138.666667,202.666667 C138.666667,161.429405 172.096072,128 213.333333,128 Z M384,106.666667 C372.217925,106.666667 362.666667,116.217925 362.666667,128 C362.666667,139.782075 372.217925,149.333333 384,149.333333 C395.782075,149.333333 405.333333,139.782075 405.333333,128 C405.333333,116.217925 395.782075,106.666667 384,106.666667 Z",id:"Combined-Shape",children:" "})," "]})," "]})," "]})]})}),v.jsx("input",{onChange:z,className:"d-none",type:"file",name:"profileImg",accept:"image/*",id:"profileImg"})]})]})}),v.jsx("p",{className:"fw-medium",children:e.user.name}),v.jsxs("div",{className:"profile-stats mt-4 gap-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Department"}),v.jsx("p",{className:"",children:e.user.department})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Email"}),v.jsx("p",{children:e.user.email})]}),v.jsxs("div",{children:[v.jsx("p",{className:"fw-medium",children:"Status"}),v.jsx("p",{children:(ke=e.user)!=null&&ke.verified?"Verified":"Not Verified"})]})]})]}),v.jsxs("div",{className:"bg-secondary row ms-0 pt-4 rounded-bottom round-3 mb-3 text-light",children:[v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"name",className:"form-label",children:"Full-name"}),v.jsx("input",{type:"text",name:"name",value:w.name,onChange:F,className:"form-control",id:"name"})]}),v.jsxs("div",{className:"col-6",children:[v.jsx("label",{htmlFor:"department",className:"form-label",children:"Department"}),v.jsx("input",{type:"text",name:"department",value:w.department,onChange:F,className:"form-control",id:"department"})]}),v.jsx("div",{className:"my-2"}),v.jsxs("div",{className:"col-12",children:[v.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),v.jsx("input",{type:"email",name:"email",value:w.email,onChange:F,className:"form-control",id:"email"})]}),v.jsxs("div",{className:"col-12",children:[v.jsx("p",{className:"p-0 m-0 mt-3 mb-1",children:"Click here to upload new ID Card"}),v.jsx("input",{type:"file",className:"form-control",id:"IDCard",accept:"image/*",onChange:z,name:"IDCard"})]}),v.jsx(va,{progress:O}),v.jsx("div",{className:"my-5 d-flex mx-auto justify-content-center",style:{maxHeight:"400px",width:"90%"},children:v.jsx(vn.LazyLoadImage,{className:"shadow rounded-3",height:"100%",width:"100%",alt:"id img",src:e.user.IDCard||Mi,placeholderSrc:async()=>await Hn(e.user.IDCard||Mi),effect:"blur"})}),v.jsx(Ca,{courseId:e.user._id,title:"Set Password",buttonText:"Set Password",bStyles:"btn btn-dark py-2 my-2 rounded-3 text-light",footer:v.jsx("button",{onClick:U,disabled:r==="submitting",type:"button",className:`btn ${r==="idle"?"btn-primary":r==="submitting"?"btn-secondary":"btn-danger"}`,children:"Process"}),children:v.jsxs(IN,{children:[v.jsx("label",{htmlFor:"static-email",children:"Email address"}),v.jsx("input",{type:"text",id:"static-email",value:p.email,disabled:!0}),v.jsx("label",{htmlFor:"verification-code",children:"Click the button Get Code"}),v.jsx("span",{className:"text-danger fw-medium",children:o&&v.jsx(Bg,{})}),v.jsxs("div",{className:"get-code",children:[v.jsx("input",{type:"text",id:"verification-code",maxLength:7,name:"code",value:p.code,onChange:A,placeholder:"enter OTP Code"}),v.jsx("button",{disabled:r==="submitting",onClick:j,children:"Get Code"})]}),v.jsx("p",{children:"Check your email and get the verification code"}),v.jsx("label",{htmlFor:"current-password",children:"Current Password"}),v.jsx("input",{type:"password",name:"current_password",id:"current-password",value:p.current_password,onChange:A}),v.jsx("label",{htmlFor:"new-password",children:"New Password"}),v.jsx("input",{type:"password",name:"password",id:"new-password",value:p.password,onChange:A}),d.password&&v.jsx("p",{className:`${d.password.status==="error"?"text-danger":"text-success"} fw-medium`,children:d.password.message}),v.jsx("label",{htmlFor:"confirm-password",children:"Confirm New Password"}),v.jsx("input",{type:"password",name:"confirm_password",id:"confirm-password",value:p.confirm_password,onChange:A}),d.confirm_password&&v.jsx("p",{className:`${d.confirm_password.status==="error"?"text-danger":"text-success"} fw-medium`,children:d.confirm_password.message})]})}),v.jsx("button",{type:"submit",disabled:t.state==="submitting",className:`btn ${t.state==="submitting"?"btn-secondary":"btn-primary"} rounded-3 p-3 text-light border-0 mt-2 mb-4`,children:"Save Profile"})]})]})]})}const _N=Pi.div`
  .profile-header {
    padding: 20px;
    text-align: center;
    height: max-content;
    border-image: fill 0 linear-gradient(rgba(93, 93, 93, 0.003), #161616);
  }
  .profile-stats {
    display: flex;
    justify-content: space-evenly;
    margin-top: 20px;
  }

`,IN=Pi.div`
    font-size: 14px;
    color: #333;
    max-height: 600px;
    overflow-y: scroll;
    label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    input[type='text'],
    input[type='password'] {
        width: calc(100% - 20px);
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
    }

    input[type='text']:disabled {
        background-color: #f0f0f0;
    }

    .get-code {
        display: flex;
        align-items: center;

        input {
            flex: 1;
        }

        button {
            padding: 10px 20px;
            margin-left: 10px;
            border: none;
            background-color: #e0e0e0;
            border-radius: 4px;
            cursor: pointer;
        }
    }
`,TN=$8`
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
`,NN=Pi.div`
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh; /* Full height of the viewport */
  background-color: #f4f4f4; /* Light background color */
`,ON=Pi.div`
  border: 8px solid rgba(255, 255, 255, 0.3);
  border-left-color: #3498db; /* Spinner color */
  border-radius: 50%;
  width: 60px;
  height: 60px;
  animation: ${TN} 1s linear infinite; /* Spinner animation */
`,MN=()=>v.jsx(NN,{children:v.jsx(ON,{})});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ic(e){return e+.5|0}const vs=(e,t,n)=>Math.max(Math.min(e,n),t);function vl(e){return vs(Ic(e*2.55),0,255)}function Ds(e){return vs(Ic(e*255),0,255)}function Yi(e){return vs(Ic(e/2.55)/100,0,1)}function Vx(e){return vs(Ic(e*100),0,100)}const Pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},i1=[..."0123456789ABCDEF"],DN=e=>i1[e&15],RN=e=>i1[(e&240)>>4]+i1[e&15],su=e=>(e&240)>>4===(e&15),kN=e=>su(e.r)&&su(e.g)&&su(e.b)&&su(e.a);function LN(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Pr[e[1]]*17,g:255&Pr[e[2]]*17,b:255&Pr[e[3]]*17,a:t===5?Pr[e[4]]*17:255}:(t===7||t===9)&&(n={r:Pr[e[1]]<<4|Pr[e[2]],g:Pr[e[3]]<<4|Pr[e[4]],b:Pr[e[5]]<<4|Pr[e[6]],a:t===9?Pr[e[7]]<<4|Pr[e[8]]:255})),n}const PN=(e,t)=>e<255?t(e):"";function BN(e){var t=kN(e)?DN:RN;return e?"#"+t(e.r)+t(e.g)+t(e.b)+PN(e.a,t):void 0}const jN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jv(e,t,n){const r=t*Math.min(n,1-n),i=(o,l=(o+e/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function FN(e,t,n){const r=(i,o=(i+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function UN(e,t,n){const r=Jv(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function zN(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Hg(e){const n=e.r/255,r=e.g/255,i=e.b/255,o=Math.max(n,r,i),l=Math.min(n,r,i),d=(o+l)/2;let h,p,x;return o!==l&&(x=o-l,p=d>.5?x/(2-o-l):x/(o+l),h=zN(n,r,i,x,o),h=h*60+.5),[h|0,p||0,d]}function Vg(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Ds)}function Wg(e,t,n){return Vg(Jv,e,t,n)}function HN(e,t,n){return Vg(UN,e,t,n)}function VN(e,t,n){return Vg(FN,e,t,n)}function e3(e){return(e%360+360)%360}function WN(e){const t=jN.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?vl(+t[5]):Ds(+t[5]));const i=e3(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?r=HN(i,o,l):t[1]==="hsv"?r=VN(i,o,l):r=Wg(i,o,l),{r:r[0],g:r[1],b:r[2],a:n}}function YN(e,t){var n=Hg(e);n[0]=e3(n[0]+t),n=Wg(n),e.r=n[0],e.g=n[1],e.b=n[2]}function GN(e){if(!e)return;const t=Hg(e),n=t[0],r=Vx(t[1]),i=Vx(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${Yi(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Wx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Yx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function XN(){const e={},t=Object.keys(Yx),n=Object.keys(Wx);let r,i,o,l,d;for(r=0;r<t.length;r++){for(l=d=t[r],i=0;i<n.length;i++)o=n[i],d=d.replace(o,Wx[o]);o=parseInt(Yx[l],16),e[d]=[o>>16&255,o>>8&255,o&255]}return e}let ou;function $N(e){ou||(ou=XN(),ou.transparent=[0,0,0,0]);const t=ou[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const KN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ZN(e){const t=KN.exec(e);let n=255,r,i,o;if(t){if(t[7]!==r){const l=+t[7];n=t[8]?vl(l):vs(l*255,0,255)}return r=+t[1],i=+t[3],o=+t[5],r=255&(t[2]?vl(r):vs(r,0,255)),i=255&(t[4]?vl(i):vs(i,0,255)),o=255&(t[6]?vl(o):vs(o,0,255)),{r,g:i,b:o,a:n}}}function QN(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Yi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Sh=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Vo=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function qN(e,t,n){const r=Vo(Yi(e.r)),i=Vo(Yi(e.g)),o=Vo(Yi(e.b));return{r:Ds(Sh(r+n*(Vo(Yi(t.r))-r))),g:Ds(Sh(i+n*(Vo(Yi(t.g))-i))),b:Ds(Sh(o+n*(Vo(Yi(t.b))-o))),a:e.a+n*(t.a-e.a)}}function au(e,t,n){if(e){let r=Hg(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Wg(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function t3(e,t){return e&&Object.assign(t||{},e)}function Gx(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ds(e[3]))):(t=t3(e,{r:0,g:0,b:0,a:1}),t.a=Ds(t.a)),t}function JN(e){return e.charAt(0)==="r"?ZN(e):WN(e)}class cc{constructor(t){if(t instanceof cc)return t;const n=typeof t;let r;n==="object"?r=Gx(t):n==="string"&&(r=LN(t)||$N(t)||JN(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=t3(this._rgb);return t&&(t.a=Yi(t.a)),t}set rgb(t){this._rgb=Gx(t)}rgbString(){return this._valid?QN(this._rgb):void 0}hexString(){return this._valid?BN(this._rgb):void 0}hslString(){return this._valid?GN(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let o;const l=n===o?.5:n,d=2*l-1,h=r.a-i.a,p=((d*h===-1?d:(d+h)/(1+d*h))+1)/2;o=1-p,r.r=255&p*r.r+o*i.r+.5,r.g=255&p*r.g+o*i.g+.5,r.b=255&p*r.b+o*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=qN(this._rgb,t._rgb,n)),this}clone(){return new cc(this.rgb)}alpha(t){return this._rgb.a=Ds(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ic(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return au(this._rgb,2,t),this}darken(t){return au(this._rgb,2,-t),this}saturate(t){return au(this._rgb,1,t),this}desaturate(t){return au(this._rgb,1,-t),this}rotate(t){return YN(this._rgb,t),this}}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Fi(){}const eO=(()=>{let e=0;return()=>e++})();function nn(e){return e===null||typeof e>"u"}function In(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ft(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Yn(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ci(e,t){return Yn(e)?e:t}function dt(e,t){return typeof e>"u"?t:e}const tO=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Bt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Et(e,t,n,r){let i,o,l;if(In(e))for(o=e.length,i=0;i<o;i++)t.call(n,e[i],i);else if(ft(e))for(l=Object.keys(e),o=l.length,i=0;i<o;i++)t.call(n,e[l[i]],l[i])}function Id(e,t){let n,r,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Td(e){if(In(e))return e.map(Td);if(ft(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=Td(e[n[i]]);return t}return e}function n3(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function nO(e,t,n,r){if(!n3(e))return;const i=t[e],o=n[e];ft(i)&&ft(o)?uc(i,o,r):t[e]=Td(o)}function uc(e,t,n){const r=In(t)?t:[t],i=r.length;if(!ft(e))return e;n=n||{};const o=n.merger||nO;let l;for(let d=0;d<i;++d){if(l=r[d],!ft(l))continue;const h=Object.keys(l);for(let p=0,x=h.length;p<x;++p)o(h[p],e,l,n)}return e}function Pl(e,t){return uc(e,t,{merger:rO})}function rO(e,t,n){if(!n3(e))return;const r=t[e],i=n[e];ft(r)&&ft(i)?Pl(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Td(i))}const Xx={"":e=>e,x:e=>e.x,y:e=>e.y};function iO(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function sO(e){const t=iO(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Nd(e,t){return(Xx[t]||(Xx[t]=sO(t)))(e)}function Yg(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Od=e=>typeof e<"u",Fs=e=>typeof e=="function",$x=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function oO(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Vn=Math.PI,ui=2*Vn,aO=ui+Vn,Md=Number.POSITIVE_INFINITY,lO=Vn/180,si=Vn/2,Qs=Vn/4,Kx=Vn*2/3,s1=Math.log10,Ta=Math.sign;function Bl(e,t,n){return Math.abs(e-t)<n}function Zx(e){const t=Math.round(e);e=Bl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(s1(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function cO(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,o)=>i-o).pop(),t}function dc(e){return!isNaN(parseFloat(e))&&isFinite(e)}function uO(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function dO(e,t,n){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function uo(e){return e*(Vn/180)}function fO(e){return e*(180/Vn)}function Qx(e){if(!Yn(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function hO(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*Vn&&(o+=ui),{angle:o,distance:i}}function o1(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function gO(e,t){return(e-t+aO)%ui-Vn}function Ti(e){return(e%ui+ui)%ui}function r3(e,t,n,r){const i=Ti(e),o=Ti(t),l=Ti(n),d=Ti(o-i),h=Ti(l-i),p=Ti(i-o),x=Ti(i-l);return i===o||i===l||r&&o===l||d>h&&p<x}function Vr(e,t,n){return Math.max(t,Math.min(n,e))}function pO(e){return Vr(e,-32768,32767)}function sa(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Gg(e,t,n){n=n||(l=>e[l]<t);let r=e.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const fo=(e,t,n,r)=>Gg(e,n,r?i=>{const o=e[i][t];return o<n||o===n&&e[i+1][t]===n}:i=>e[i][t]<n),mO=(e,t,n)=>Gg(e,n,r=>e[r][t]>=n);function xO(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const i3=["push","pop","shift","splice","unshift"];function yO(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),i3.forEach(n=>{const r="_onData"+Yg(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const l=i.apply(this,o);return e._chartjs.listeners.forEach(d=>{typeof d[r]=="function"&&d[r](...o)}),l}})})}function qx(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(i3.forEach(o=>{delete e[o]}),delete e._chartjs)}function wO(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const s3=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function o3(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,s3.call(window,()=>{r=!1,e.apply(t,n)}))}}function bO(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const a3=e=>e==="start"?"left":e==="end"?"right":"center",br=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,vO=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function CO(e,t,n){const r=t.length;let i=0,o=r;if(e._sorted){const{iScale:l,_parsed:d}=e,h=l.axis,{min:p,max:x,minDefined:w,maxDefined:C}=l.getUserBounds();w&&(i=Vr(Math.min(fo(d,h,p).lo,n?r:fo(t,h,l.getPixelForValue(p)).lo),0,r-1)),C?o=Vr(Math.max(fo(d,l.axis,x,!0).hi+1,n?0:fo(t,h,l.getPixelForValue(x),!0).hi+1),i,r)-i:o=r-i}return{start:i,count:o}}function EO(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const lu=e=>e===0||e===1,Jx=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ui/n)),ey=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ui/n)+1,jl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*si)+1,easeOutSine:e=>Math.sin(e*si),easeInOutSine:e=>-.5*(Math.cos(Vn*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>lu(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>lu(e)?e:Jx(e,.075,.3),easeOutElastic:e=>lu(e)?e:ey(e,.075,.3),easeInOutElastic(e){return lu(e)?e:e<.5?.5*Jx(e*2,.1125,.45):.5+.5*ey(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-jl.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?jl.easeInBounce(e*2)*.5:jl.easeOutBounce(e*2-1)*.5+.5};function Xg(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ty(e){return Xg(e)?e:new cc(e)}function Ah(e){return Xg(e)?e:new cc(e).saturate(.5).darken(.1).hexString()}const SO=["x","y","borderWidth","radius","tension"],AO=["color","borderColor","backgroundColor"];function _O(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:AO},numbers:{type:"number",properties:SO}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function IO(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ny=new Map;function TO(e,t){t=t||{};const n=e+JSON.stringify(t);let r=ny.get(n);return r||(r=new Intl.NumberFormat(e,t),ny.set(n,r)),r}function l3(e,t,n){return TO(t,n).format(e)}const c3={values(e){return In(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,o=e;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(i="scientific"),o=NO(e,n)}const l=s1(Math.abs(o)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(h,this.options.ticks.format),l3(e,r,h)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(s1(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?c3.numeric.call(this,e,t,n):""}};function NO(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var u3={formatters:c3};function OO(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:u3.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _o=Object.create(null),a1=Object.create(null);function Fl(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const o=n[r];e=e[o]||(e[o]=Object.create(null))}return e}function _h(e,t,n){return typeof t=="string"?uc(Fl(e,t),n):uc(Fl(e,""),t)}class MO{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ah(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ah(i.borderColor),this.hoverColor=(r,i)=>Ah(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return _h(this,t,n)}get(t){return Fl(this,t)}describe(t,n){return _h(a1,t,n)}override(t,n){return _h(_o,t,n)}route(t,n,r,i){const o=Fl(this,t),l=Fl(this,r),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[d],p=l[i];return ft(h)?Object.assign({},p,h):dt(h,p)},set(h){this[d]=h}}})}apply(t){t.forEach(n=>n(this))}}var cn=new MO({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_O,IO,OO]);function DO(e){return!e||nn(e.size)||nn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ry(e,t,n,r,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r}function qs(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function iy(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function l1(e,t,n,r){d3(e,t,n,r,null)}function d3(e,t,n,r,i){let o,l,d,h,p,x,w,C;const E=t.pointStyle,_=t.rotation,I=t.radius;let D=(_||0)*lO;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(D),e.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),e.restore();return}if(!(isNaN(I)||I<=0)){switch(e.beginPath(),E){default:i?e.ellipse(n,r,i/2,I,0,0,ui):e.arc(n,r,I,0,ui),e.closePath();break;case"triangle":x=i?i/2:I,e.moveTo(n+Math.sin(D)*x,r-Math.cos(D)*I),D+=Kx,e.lineTo(n+Math.sin(D)*x,r-Math.cos(D)*I),D+=Kx,e.lineTo(n+Math.sin(D)*x,r-Math.cos(D)*I),e.closePath();break;case"rectRounded":p=I*.516,h=I-p,l=Math.cos(D+Qs)*h,w=Math.cos(D+Qs)*(i?i/2-p:h),d=Math.sin(D+Qs)*h,C=Math.sin(D+Qs)*(i?i/2-p:h),e.arc(n-w,r-d,p,D-Vn,D-si),e.arc(n+C,r-l,p,D-si,D),e.arc(n+w,r+d,p,D,D+si),e.arc(n-C,r+l,p,D+si,D+Vn),e.closePath();break;case"rect":if(!_){h=Math.SQRT1_2*I,x=i?i/2:h,e.rect(n-x,r-h,2*x,2*h);break}D+=Qs;case"rectRot":w=Math.cos(D)*(i?i/2:I),l=Math.cos(D)*I,d=Math.sin(D)*I,C=Math.sin(D)*(i?i/2:I),e.moveTo(n-w,r-d),e.lineTo(n+C,r-l),e.lineTo(n+w,r+d),e.lineTo(n-C,r+l),e.closePath();break;case"crossRot":D+=Qs;case"cross":w=Math.cos(D)*(i?i/2:I),l=Math.cos(D)*I,d=Math.sin(D)*I,C=Math.sin(D)*(i?i/2:I),e.moveTo(n-w,r-d),e.lineTo(n+w,r+d),e.moveTo(n+C,r-l),e.lineTo(n-C,r+l);break;case"star":w=Math.cos(D)*(i?i/2:I),l=Math.cos(D)*I,d=Math.sin(D)*I,C=Math.sin(D)*(i?i/2:I),e.moveTo(n-w,r-d),e.lineTo(n+w,r+d),e.moveTo(n+C,r-l),e.lineTo(n-C,r+l),D+=Qs,w=Math.cos(D)*(i?i/2:I),l=Math.cos(D)*I,d=Math.sin(D)*I,C=Math.sin(D)*(i?i/2:I),e.moveTo(n-w,r-d),e.lineTo(n+w,r+d),e.moveTo(n+C,r-l),e.lineTo(n-C,r+l);break;case"line":l=i?i/2:Math.cos(D)*I,d=Math.sin(D)*I,e.moveTo(n-l,r-d),e.lineTo(n+l,r+d);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(D)*(i?i/2:I),r+Math.sin(D)*I);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function fc(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function mf(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function xf(e){e.restore()}function RO(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function kO(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function LO(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),nn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function PO(e,t,n,r,i){if(i.strikethrough||i.underline){const o=e.measureText(r),l=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,h=n-o.actualBoundingBoxAscent,p=n+o.actualBoundingBoxDescent,x=i.strikethrough?(h+p)/2:p;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(l,x),e.lineTo(d,x),e.stroke()}}function BO(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Dd(e,t,n,r,i,o={}){const l=In(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="";let h,p;for(e.save(),e.font=i.string,LO(e,o),h=0;h<l.length;++h)p=l[h],o.backdrop&&BO(e,o.backdrop),d&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),nn(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(p,n,r,o.maxWidth)),e.fillText(p,n,r,o.maxWidth),PO(e,n,r,p,o),r+=Number(i.lineHeight);e.restore()}function c1(e,t){const{x:n,y:r,w:i,h:o,radius:l}=t;e.arc(n+l.topLeft,r+l.topLeft,l.topLeft,1.5*Vn,Vn,!0),e.lineTo(n,r+o-l.bottomLeft),e.arc(n+l.bottomLeft,r+o-l.bottomLeft,l.bottomLeft,Vn,si,!0),e.lineTo(n+i-l.bottomRight,r+o),e.arc(n+i-l.bottomRight,r+o-l.bottomRight,l.bottomRight,si,0,!0),e.lineTo(n+i,r+l.topRight),e.arc(n+i-l.topRight,r+l.topRight,l.topRight,0,-si,!0),e.lineTo(n+l.topLeft,r)}const jO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function UO(e,t){const n=(""+e).match(jO);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const zO=e=>+e||0;function f3(e,t){const n={},r=ft(t),i=r?Object.keys(t):t,o=ft(e)?r?l=>dt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of i)n[l]=zO(o(l));return n}function HO(e){return f3(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ul(e){return f3(e,["topLeft","topRight","bottomLeft","bottomRight"])}function hi(e){const t=HO(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ur(e,t){e=e||{},t=t||cn.font;let n=dt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=dt(e.style,t.style);r&&!(""+r).match(FO)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:dt(e.family,t.family),lineHeight:UO(dt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:dt(e.weight,t.weight),string:""};return i.string=DO(i),i}function cu(e,t,n,r){let i,o,l;for(i=0,o=e.length;i<o;++i)if(l=e[i],l!==void 0&&l!==void 0)return l}function VO(e,t,n){const{min:r,max:i}=e,o=tO(t,(i-r)/2),l=(d,h)=>n&&d===0?0:d+h;return{min:l(r,-Math.abs(o)),max:l(i,o)}}function Mo(e,t){return Object.assign(Object.create(e),t)}function $g(e,t=[""],n,r,i=()=>e[0]){const o=n||e;typeof r>"u"&&(r=m3("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:r,_getTarget:i,override:d=>$g([d,...e],t,o,r)};return new Proxy(l,{deleteProperty(d,h){return delete d[h],delete d._keys,delete e[0][h],!0},get(d,h){return g3(d,h,()=>QO(h,t,e,d))},getOwnPropertyDescriptor(d,h){return Reflect.getOwnPropertyDescriptor(d._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(d,h){return oy(d).includes(h)},ownKeys(d){return oy(d)},set(d,h,p){const x=d._storage||(d._storage=i());return d[h]=x[h]=p,delete d._keys,!0}})}function Na(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:h3(e,r),setContext:o=>Na(e,o,n,r),override:o=>Na(e.override(o),t,n,r)};return new Proxy(i,{deleteProperty(o,l){return delete o[l],delete e[l],!0},get(o,l,d){return g3(o,l,()=>YO(o,l,d))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(o,l,d){return e[l]=d,delete o[l],!0}})}function h3(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Fs(n)?n:()=>n,isIndexable:Fs(r)?r:()=>r}}const WO=(e,t)=>e?e+Yg(t):t,Kg=(e,t)=>ft(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function g3(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function YO(e,t,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=e;let d=r[t];return Fs(d)&&l.isScriptable(t)&&(d=GO(t,d,e,n)),In(d)&&d.length&&(d=XO(t,d,e,l.isIndexable)),Kg(t,d)&&(d=Na(d,i,o&&o[t],l)),d}function GO(e,t,n,r){const{_proxy:i,_context:o,_subProxy:l,_stack:d}=n;if(d.has(e))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+e);d.add(e);let h=t(o,l||r);return d.delete(e),Kg(e,h)&&(h=Zg(i._scopes,i,e,h)),h}function XO(e,t,n,r){const{_proxy:i,_context:o,_subProxy:l,_descriptors:d}=n;if(typeof o.index<"u"&&r(e))return t[o.index%t.length];if(ft(t[0])){const h=t,p=i._scopes.filter(x=>x!==h);t=[];for(const x of h){const w=Zg(p,i,e,x);t.push(Na(w,o,l&&l[e],d))}}return t}function p3(e,t,n){return Fs(e)?e(t,n):e}const $O=(e,t)=>e===!0?t:typeof e=="string"?Nd(t,e):void 0;function KO(e,t,n,r,i){for(const o of t){const l=$O(n,o);if(l){e.add(l);const d=p3(l._fallback,n,i);if(typeof d<"u"&&d!==n&&d!==r)return d}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function Zg(e,t,n,r){const i=t._rootScopes,o=p3(t._fallback,n,r),l=[...e,...i],d=new Set;d.add(r);let h=sy(d,l,n,o||n,r);return h===null||typeof o<"u"&&o!==n&&(h=sy(d,l,o,h,r),h===null)?!1:$g(Array.from(d),[""],i,o,()=>ZO(t,n,r))}function sy(e,t,n,r,i){for(;n;)n=KO(e,t,n,r,i);return n}function ZO(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return In(i)&&ft(n)?n:i||{}}function QO(e,t,n,r){let i;for(const o of t)if(i=m3(WO(o,e),n),typeof i<"u")return Kg(e,i)?Zg(n,r,e,i):i}function m3(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function oy(e){let t=e._keys;return t||(t=e._keys=qO(e._scopes)),t}function qO(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const JO=Number.EPSILON||1e-14,Oa=(e,t)=>t<e.length&&!e[t].skip&&e[t],x3=e=>e==="x"?"y":"x";function e5(e,t,n,r){const i=e.skip?t:e,o=t,l=n.skip?t:n,d=o1(o,i),h=o1(l,o);let p=d/(d+h),x=h/(d+h);p=isNaN(p)?0:p,x=isNaN(x)?0:x;const w=r*p,C=r*x;return{previous:{x:o.x-w*(l.x-i.x),y:o.y-w*(l.y-i.y)},next:{x:o.x+C*(l.x-i.x),y:o.y+C*(l.y-i.y)}}}function t5(e,t,n){const r=e.length;let i,o,l,d,h,p=Oa(e,0);for(let x=0;x<r-1;++x)if(h=p,p=Oa(e,x+1),!(!h||!p)){if(Bl(t[x],0,JO)){n[x]=n[x+1]=0;continue}i=n[x]/t[x],o=n[x+1]/t[x],d=Math.pow(i,2)+Math.pow(o,2),!(d<=9)&&(l=3/Math.sqrt(d),n[x]=i*l*t[x],n[x+1]=o*l*t[x])}}function n5(e,t,n="x"){const r=x3(n),i=e.length;let o,l,d,h=Oa(e,0);for(let p=0;p<i;++p){if(l=d,d=h,h=Oa(e,p+1),!d)continue;const x=d[n],w=d[r];l&&(o=(x-l[n])/3,d[`cp1${n}`]=x-o,d[`cp1${r}`]=w-o*t[p]),h&&(o=(h[n]-x)/3,d[`cp2${n}`]=x+o,d[`cp2${r}`]=w+o*t[p])}}function r5(e,t="x"){const n=x3(t),r=e.length,i=Array(r).fill(0),o=Array(r);let l,d,h,p=Oa(e,0);for(l=0;l<r;++l)if(d=h,h=p,p=Oa(e,l+1),!!h){if(p){const x=p[t]-h[t];i[l]=x!==0?(p[n]-h[n])/x:0}o[l]=d?p?Ta(i[l-1])!==Ta(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}t5(e,i,o),n5(e,o,t)}function uu(e,t,n){return Math.max(Math.min(e,n),t)}function i5(e,t){let n,r,i,o,l,d=fc(e[0],t);for(n=0,r=e.length;n<r;++n)l=o,o=d,d=n<r-1&&fc(e[n+1],t),o&&(i=e[n],l&&(i.cp1x=uu(i.cp1x,t.left,t.right),i.cp1y=uu(i.cp1y,t.top,t.bottom)),d&&(i.cp2x=uu(i.cp2x,t.left,t.right),i.cp2y=uu(i.cp2y,t.top,t.bottom)))}function s5(e,t,n,r,i){let o,l,d,h;if(t.spanGaps&&(e=e.filter(p=>!p.skip)),t.cubicInterpolationMode==="monotone")r5(e,i);else{let p=r?e[e.length-1]:e[0];for(o=0,l=e.length;o<l;++o)d=e[o],h=e5(p,d,e[Math.min(o+1,l-(r?0:1))%l],t.tension),d.cp1x=h.previous.x,d.cp1y=h.previous.y,d.cp2x=h.next.x,d.cp2y=h.next.y,p=d}t.capBezierPoints&&i5(e,n)}function Qg(){return typeof window<"u"&&typeof document<"u"}function qg(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Rd(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const yf=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function o5(e,t){return yf(e).getPropertyValue(t)}const a5=["top","right","bottom","left"];function yo(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=a5[i];r[o]=parseFloat(e[t+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const l5=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function c5(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=r;let l=!1,d,h;if(l5(i,o,e.target))d=i,h=o;else{const p=t.getBoundingClientRect();d=r.clientX-p.left,h=r.clientY-p.top,l=!0}return{x:d,y:h,box:l}}function no(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=yf(n),o=i.boxSizing==="border-box",l=yo(i,"padding"),d=yo(i,"border","width"),{x:h,y:p,box:x}=c5(e,n),w=l.left+(x&&d.left),C=l.top+(x&&d.top);let{width:E,height:_}=t;return o&&(E-=l.width+d.width,_-=l.height+d.height),{x:Math.round((h-w)/E*n.width/r),y:Math.round((p-C)/_*n.height/r)}}function u5(e,t,n){let r,i;if(t===void 0||n===void 0){const o=e&&qg(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const l=o.getBoundingClientRect(),d=yf(o),h=yo(d,"border","width"),p=yo(d,"padding");t=l.width-p.width-h.width,n=l.height-p.height-h.height,r=Rd(d.maxWidth,o,"clientWidth"),i=Rd(d.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:r||Md,maxHeight:i||Md}}const du=e=>Math.round(e*10)/10;function d5(e,t,n,r){const i=yf(e),o=yo(i,"margin"),l=Rd(i.maxWidth,e,"clientWidth")||Md,d=Rd(i.maxHeight,e,"clientHeight")||Md,h=u5(e,t,n);let{width:p,height:x}=h;if(i.boxSizing==="content-box"){const C=yo(i,"border","width"),E=yo(i,"padding");p-=E.width+C.width,x-=E.height+C.height}return p=Math.max(0,p-o.width),x=Math.max(0,r?p/r:x-o.height),p=du(Math.min(p,l,h.maxWidth)),x=du(Math.min(x,d,h.maxHeight)),p&&!x&&(x=du(p/2)),(t!==void 0||n!==void 0)&&r&&h.height&&x>h.height&&(x=h.height,p=du(Math.floor(x*r))),{width:p,height:x}}function ay(e,t,n){const r=t||1,i=Math.floor(e.height*r),o=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||l.height!==i||l.width!==o?(e.currentDevicePixelRatio=r,l.height=i,l.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const f5=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ly(e,t){const n=o5(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ro(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function h5(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function g5(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},l=ro(e,i,n),d=ro(i,o,n),h=ro(o,t,n),p=ro(l,d,n),x=ro(d,h,n);return ro(p,x,n)}const p5=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},m5=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function fa(e,t,n){return e?p5(t,n):m5()}function y3(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function w3(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function b3(e){return e==="angle"?{between:r3,compare:gO,normalize:Ti}:{between:sa,compare:(t,n)=>t-n,normalize:t=>t}}function cy({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function x5(e,t,n){const{property:r,start:i,end:o}=n,{between:l,normalize:d}=b3(r),h=t.length;let{start:p,end:x,loop:w}=e,C,E;if(w){for(p+=h,x+=h,C=0,E=h;C<E&&l(d(t[p%h][r]),i,o);++C)p--,x--;p%=h,x%=h}return x<p&&(x+=h),{start:p,end:x,loop:w,style:e.style}}function v3(e,t,n){if(!n)return[e];const{property:r,start:i,end:o}=n,l=t.length,{compare:d,between:h,normalize:p}=b3(r),{start:x,end:w,loop:C,style:E}=x5(e,t,n),_=[];let I=!1,D=null,O,M,R;const P=()=>h(i,R,O)&&d(i,R)!==0,F=()=>d(o,O)===0||h(o,R,O),z=()=>I||P(),A=()=>!I||F();for(let j=x,U=x;j<=w;++j)M=t[j%l],!M.skip&&(O=p(M[r]),O!==R&&(I=h(O,i,o),D===null&&z()&&(D=d(O,i)===0?j:U),D!==null&&A()&&(_.push(cy({start:D,end:j,loop:C,count:l,style:E})),D=null),U=j,R=O));return D!==null&&_.push(cy({start:D,end:w,loop:C,count:l,style:E})),_}function C3(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const o=v3(r[i],e.points,t);o.length&&n.push(...o)}return n}function y5(e,t,n,r){let i=0,o=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function w5(e,t,n,r){const i=e.length,o=[];let l=t,d=e[t],h;for(h=t+1;h<=n;++h){const p=e[h%i];p.skip||p.stop?d.skip||(r=!1,o.push({start:t%i,end:(h-1)%i,loop:r}),t=l=p.stop?h:null):(l=h,d.skip&&(t=h)),d=p}return l!==null&&o.push({start:t%i,end:l%i,loop:r}),o}function b5(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:l,end:d}=y5(n,i,o,r);if(r===!0)return uy(e,[{start:l,end:d,loop:o}],n,t);const h=d<l?d+i:d,p=!!e._fullLoop&&l===0&&d===i-1;return uy(e,w5(n,l,h,p),n,t)}function uy(e,t,n,r){return!r||!r.setContext||!n?t:v5(e,t,n,r)}function v5(e,t,n,r){const i=e._chart.getContext(),o=dy(e.options),{_datasetIndex:l,options:{spanGaps:d}}=e,h=n.length,p=[];let x=o,w=t[0].start,C=w;function E(_,I,D,O){const M=d?-1:1;if(_!==I){for(_+=h;n[_%h].skip;)_-=M;for(;n[I%h].skip;)I+=M;_%h!==I%h&&(p.push({start:_%h,end:I%h,loop:D,style:O}),x=O,w=I%h)}}for(const _ of t){w=d?w:_.start;let I=n[w%h],D;for(C=w+1;C<=_.end;C++){const O=n[C%h];D=dy(r.setContext(Mo(i,{type:"segment",p0:I,p1:O,p0DataIndex:(C-1)%h,p1DataIndex:C%h,datasetIndex:l}))),C5(D,x)&&E(w,C-1,_.loop,x),I=O,x=D}w<C-1&&E(w,C-1,_.loop,x)}return p}function dy(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function C5(e,t){if(!t)return!1;const n=[],r=function(i,o){return Xg(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,r)!==JSON.stringify(t,r)}/*!
 * Chart.js v4.4.4
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class E5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const o=n.listeners[i],l=n.duration;o.forEach(d=>d({chart:t,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=s3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let l=o.length-1,d=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(t),d=!0):(o[l]=o[o.length-1],o.pop());d&&(i.draw(),this._notify(i,r,t,"progress")),o.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ui=new E5;const fy="transparent",S5={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=ty(e||fy),i=r.valid&&ty(t||fy);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class A5{constructor(t,n,r,i){const o=n[r];i=cu([t.to,i,o,t.from]);const l=cu([t.from,o,i]);this._active=!0,this._fn=t.fn||S5[t.type||typeof l],this._easing=jl[t.easing]||jl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,l=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=cu([t.to,n,i,t.from]),this._from=cu([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,o=this._from,l=this._loop,d=this._to;let h;if(this._active=o!==d&&(l||n<r),!this._active){this._target[i]=d,this._notify(!0);return}if(n<0){this._target[i]=o;return}h=n/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(o,d,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class E3{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ft(t))return;const n=Object.keys(cn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!ft(o))return;const l={};for(const d of n)l[d]=o[d];(In(o.properties)&&o.properties||[i]).forEach(d=>{(d===i||!r.has(d))&&r.set(d,l)})})}_animateOptions(t,n){const r=n.options,i=I5(t,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&_5(t.options.$animations,r).then(()=>{t.options=r},()=>{}),o}_createAnimations(t,n){const r=this._properties,i=[],o=t.$animations||(t.$animations={}),l=Object.keys(n),d=Date.now();let h;for(h=l.length-1;h>=0;--h){const p=l[h];if(p.charAt(0)==="$")continue;if(p==="options"){i.push(...this._animateOptions(t,n));continue}const x=n[p];let w=o[p];const C=r.get(p);if(w)if(C&&w.active()){w.update(C,x,d);continue}else w.cancel();if(!C||!C.duration){t[p]=x;continue}o[p]=w=new A5(C,t,p,x),i.push(w)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Ui.add(this._chart,r),!0}}function _5(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const o=e[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function I5(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function hy(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:r?o:i,end:r?i:o}}function T5(e,t,n){if(n===!1)return!1;const r=hy(e,n),i=hy(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function N5(e){let t,n,r,i;return ft(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function S3(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function gy(e,t,n,r={}){const i=e.keys,o=r.mode==="single";let l,d,h,p;if(t!==null){for(l=0,d=i.length;l<d;++l){if(h=+i[l],h===n){if(r.all)continue;break}p=e.values[h],Yn(p)&&(o||t===0||Ta(t)===Ta(p))&&(t+=p)}return t}}function O5(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",l=Object.keys(e),d=new Array(l.length);let h,p,x;for(h=0,p=l.length;h<p;++h)x=l[h],d[h]={[i]:x,[o]:e[x]};return d}function py(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function M5(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function D5(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function R5(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function my(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const o=e[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function xy(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:d}=r,h=o.axis,p=l.axis,x=M5(o,l,r),w=t.length;let C;for(let E=0;E<w;++E){const _=t[E],{[h]:I,[p]:D}=_,O=_._stacks||(_._stacks={});C=O[p]=R5(i,x,I),C[d]=D,C._top=my(C,l,!0,r.type),C._bottom=my(C,l,!1,r.type);const M=C._visualValues||(C._visualValues={});M[d]=D}}function Ih(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function k5(e,t){return Mo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function L5(e,t,n){return Mo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ul(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const Th=e=>e==="reset"||e==="none",yy=(e,t)=>t?e:Object.assign({},e),P5=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:S3(n,!0),values:null};class zl{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=py(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ul(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(w,C,E,_)=>w==="x"?C:w==="r"?_:E,o=n.xAxisID=dt(r.xAxisID,Ih(t,"x")),l=n.yAxisID=dt(r.yAxisID,Ih(t,"y")),d=n.rAxisID=dt(r.rAxisID,Ih(t,"r")),h=n.indexAxis,p=n.iAxisID=i(h,o,l,d),x=n.vAxisID=i(h,l,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(x)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&qx(this._data,this),t._stacked&&ul(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(ft(n)){const i=this._cachedMeta;this._data=O5(n,i)}else if(r!==n){if(r){qx(r,this);const i=this._cachedMeta;ul(i),i._parsed=[]}n&&Object.isExtensible(n)&&yO(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=py(n.vScale,n),n.stack!==r.stack&&(i=!0,ul(n),n.stack=r.stack),this._resyncElements(t),(i||o!==n._stacked)&&xy(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:l}=r,d=o.axis;let h=t===0&&n===i.length?!0:r._sorted,p=t>0&&r._parsed[t-1],x,w,C;if(this._parsing===!1)r._parsed=i,r._sorted=!0,C=i;else{In(i[t])?C=this.parseArrayData(r,i,t,n):ft(i[t])?C=this.parseObjectData(r,i,t,n):C=this.parsePrimitiveData(r,i,t,n);const E=()=>w[d]===null||p&&w[d]<p[d];for(x=0;x<n;++x)r._parsed[x+t]=w=C[x],h&&(E()&&(h=!1),p=w);r._sorted=h}l&&xy(this,C)}parsePrimitiveData(t,n,r,i){const{iScale:o,vScale:l}=t,d=o.axis,h=l.axis,p=o.getLabels(),x=o===l,w=new Array(i);let C,E,_;for(C=0,E=i;C<E;++C)_=C+r,w[C]={[d]:x||o.parse(p[_],_),[h]:l.parse(n[_],_)};return w}parseArrayData(t,n,r,i){const{xScale:o,yScale:l}=t,d=new Array(i);let h,p,x,w;for(h=0,p=i;h<p;++h)x=h+r,w=n[x],d[h]={x:o.parse(w[0],x),y:l.parse(w[1],x)};return d}parseObjectData(t,n,r,i){const{xScale:o,yScale:l}=t,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,p=new Array(i);let x,w,C,E;for(x=0,w=i;x<w;++x)C=x+r,E=n[C],p[x]={x:o.parse(Nd(E,d),C),y:l.parse(Nd(E,h),C)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,o=this._cachedMeta,l=n[t.axis],d={keys:S3(i,!0),values:n._stacks[t.axis]._visualValues};return gy(d,l,o.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const o=r[n.axis];let l=o===null?NaN:o;const d=i&&r._stacks[n.axis];i&&d&&(i.values=d,l=gy(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&t===r.iScale,l=i.length,d=this._getOtherScale(t),h=P5(n,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:x,max:w}=D5(d);let C,E;function _(){E=i[C];const I=E[d.axis];return!Yn(E[t.axis])||x>I||w<I}for(C=0;C<l&&!(!_()&&(this.updateRangeFromParsed(p,t,E,h),o));++C);if(o){for(C=l-1;C>=0;--C)if(!_()){this.updateRangeFromParsed(p,t,E,h);break}}return p}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,o,l;for(i=0,o=n.length;i<o;++i)l=n[i][t.axis],Yn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=N5(dt(this.options.clip,T5(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],o=n.chartArea,l=[],d=this._drawStart||0,h=this._drawCount||i.length-d,p=this.options.drawActiveElementsOnTop;let x;for(r.dataset&&r.dataset.draw(t,o,d,h),x=d;x<d+h;++x){const w=i[x];w.hidden||(w.active&&p?l.push(w):w.draw(t,o))}for(x=0;x<l.length;++x)l[x].draw(t,o)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=L5(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=k5(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",o=this._cachedDataOpts,l=t+"-"+n,d=o[l],h=this.enableOptionSharing&&Od(r);if(d)return yy(d,h);const p=this.chart.config,x=p.datasetElementScopeKeys(this._type,t),w=i?[`${t}Hover`,"hover",t,""]:[t,""],C=p.getOptionScopes(this.getDataset(),x),E=Object.keys(cn.elements[t]),_=()=>this.getContext(r,i,n),I=p.resolveNamedOptions(C,E,_,w);return I.$shared&&(I.$shared=h,o[l]=Object.freeze(yy(I,h))),I}_resolveAnimations(t,n,r){const i=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,d=o[l];if(d)return d;let h;if(i.options.animation!==!1){const x=this.chart.config,w=x.datasetAnimationScopeKeys(this._type,n),C=x.getOptionScopes(this.getDataset(),w);h=x.createResolver(C,this.getContext(t,r,n))}const p=new E3(i,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Th(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:l}}updateElement(t,n,r,i){Th(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!Th(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[d,h,p]of this._syncList)this[d](h,p);this._syncList=[];const i=r.length,o=n.length,l=Math.min(o,i);l&&this.parse(0,l),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,n,r=!0){const i=this._cachedMeta,o=i.data,l=t+n;let d;const h=p=>{for(p.length+=n,d=p.length-1;d>=l;d--)p[d]=p[d-n]};for(h(o),d=t;d<l;++d)o[d]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(t,n),r&&this.updateElements(o,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&ul(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}et(zl,"defaults",{}),et(zl,"datasetElementType",null),et(zl,"dataElementType",null);class Hu extends zl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:d,count:h}=CO(n,i,l);this._drawStart=d,this._drawCount=h,EO(n)&&(d=0,h=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:p},t),this.updateElements(i,d,h,t)}updateElements(t,n,r,i){const o=i==="reset",{iScale:l,vScale:d,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(n,i),C=l.axis,E=d.axis,{spanGaps:_,segment:I}=this.options,D=dc(_)?_:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||i==="none",M=n+r,R=t.length;let P=n>0&&this.getParsed(n-1);for(let F=0;F<R;++F){const z=t[F],A=O?z:{};if(F<n||F>=M){A.skip=!0;continue}const j=this.getParsed(F),U=nn(j[E]),J=A[C]=l.getPixelForValue(j[C],F),ce=A[E]=o||U?d.getBasePixel():d.getPixelForValue(h?this.applyStack(d,j,h):j[E],F);A.skip=isNaN(J)||isNaN(ce)||U,A.stop=F>0&&Math.abs(j[C]-P[C])>D,I&&(A.parsed=j,A.raw=p.data[F]),w&&(A.options=x||this.resolveDataElementOptions(F,z.active?"active":i)),O||this.updateElement(z,F,A,i),P=j}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}et(Hu,"id","line"),et(Hu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),et(Hu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Js(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jg{constructor(t){et(this,"options");this.options=t||{}}static override(t){Object.assign(Jg.prototype,t)}init(){}formats(){return Js()}parse(){return Js()}format(){return Js()}add(){return Js()}diff(){return Js()}startOf(){return Js()}endOf(){return Js()}}var B5={_date:Jg};function j5(e,t,n,r){const{controller:i,data:o,_sorted:l}=e,d=i._cachedMeta.iScale;if(d&&t===d.axis&&t!=="r"&&l&&o.length){const h=d._reversePixels?mO:fo;if(r){if(i._sharedOptions){const p=o[0],x=typeof p.getRange=="function"&&p.getRange(t);if(x){const w=h(o,t,n-x),C=h(o,t,n+x);return{lo:w.lo,hi:C.hi}}}}else return h(o,t,n)}return{lo:0,hi:o.length-1}}function Tc(e,t,n,r,i){const o=e.getSortedVisibleDatasetMetas(),l=n[t];for(let d=0,h=o.length;d<h;++d){const{index:p,data:x}=o[d],{lo:w,hi:C}=j5(o[d],t,l,i);for(let E=w;E<=C;++E){const _=x[E];_.skip||r(_,p,E)}}}function F5(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const o=t?Math.abs(r.x-i.x):0,l=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Nh(e,t,n,r,i){const o=[];return!i&&!e.isPointInArea(t)||Tc(e,n,t,function(d,h,p){!i&&!fc(d,e.chartArea,0)||d.inRange(t.x,t.y,r)&&o.push({element:d,datasetIndex:h,index:p})},!0),o}function U5(e,t,n,r){let i=[];function o(l,d,h){const{startAngle:p,endAngle:x}=l.getProps(["startAngle","endAngle"],r),{angle:w}=hO(l,{x:t.x,y:t.y});r3(w,p,x)&&i.push({element:l,datasetIndex:d,index:h})}return Tc(e,n,t,o),i}function z5(e,t,n,r,i,o){let l=[];const d=F5(n);let h=Number.POSITIVE_INFINITY;function p(x,w,C){const E=x.inRange(t.x,t.y,i);if(r&&!E)return;const _=x.getCenterPoint(i);if(!(!!o||e.isPointInArea(_))&&!E)return;const D=d(t,_);D<h?(l=[{element:x,datasetIndex:w,index:C}],h=D):D===h&&l.push({element:x,datasetIndex:w,index:C})}return Tc(e,n,t,p),l}function Oh(e,t,n,r,i,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!r?U5(e,t,n,i):z5(e,t,n,r,i,o)}function wy(e,t,n,r,i){const o=[],l=n==="x"?"inXRange":"inYRange";let d=!1;return Tc(e,n,t,(h,p,x)=>{h[l]&&h[l](t[n],i)&&(o.push({element:h,datasetIndex:p,index:x}),d=d||h.inRange(t.x,t.y,i))}),r&&!d?[]:o}var H5={evaluateInteractionItems:Tc,modes:{index(e,t,n,r){const i=no(t,e),o=n.axis||"x",l=n.includeInvisible||!1,d=n.intersect?Nh(e,i,o,r,l):Oh(e,i,o,!1,r,l),h=[];return d.length?(e.getSortedVisibleDatasetMetas().forEach(p=>{const x=d[0].index,w=p.data[x];w&&!w.skip&&h.push({element:w,datasetIndex:p.index,index:x})}),h):[]},dataset(e,t,n,r){const i=no(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;let d=n.intersect?Nh(e,i,o,r,l):Oh(e,i,o,!1,r,l);if(d.length>0){const h=d[0].datasetIndex,p=e.getDatasetMeta(h).data;d=[];for(let x=0;x<p.length;++x)d.push({element:p[x],datasetIndex:h,index:x})}return d},point(e,t,n,r){const i=no(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Nh(e,i,o,r,l)},nearest(e,t,n,r){const i=no(t,e),o=n.axis||"xy",l=n.includeInvisible||!1;return Oh(e,i,o,n.intersect,r,l)},x(e,t,n,r){const i=no(t,e);return wy(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=no(t,e);return wy(e,i,"y",n.intersect,r)}}};const A3=["left","top","right","bottom"];function dl(e,t){return e.filter(n=>n.pos===t)}function by(e,t){return e.filter(n=>A3.indexOf(n.pos)===-1&&n.box.axis===t)}function fl(e,t){return e.sort((n,r)=>{const i=t?r:n,o=t?n:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function V5(e){const t=[];let n,r,i,o,l,d;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:o,options:{stack:l,stackWeight:d=1}}=i,t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&o+l,stackWeight:d});return t}function W5(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:o}=n;if(!r||!A3.includes(i))continue;const l=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function Y5(e,t){const n=W5(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let o,l,d;for(o=0,l=e.length;o<l;++o){d=e[o];const{fullSize:h}=d.box,p=n[d.stack],x=p&&d.stackWeight/p.weight;d.horizontal?(d.width=x?x*r:h&&t.availableWidth,d.height=i):(d.width=r,d.height=x?x*i:h&&t.availableHeight)}return n}function G5(e){const t=V5(e),n=fl(t.filter(p=>p.box.fullSize),!0),r=fl(dl(t,"left"),!0),i=fl(dl(t,"right")),o=fl(dl(t,"top"),!0),l=fl(dl(t,"bottom")),d=by(t,"x"),h=by(t,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(h).concat(l).concat(d),chartArea:dl(t,"chartArea"),vertical:r.concat(i).concat(h),horizontal:o.concat(l).concat(d)}}function vy(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function _3(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function X5(e,t,n,r){const{pos:i,box:o}=n,l=e.maxPadding;if(!ft(i)){n.size&&(e[i]-=n.size);const w=r[n.stack]||{size:0,count:1};w.size=Math.max(w.size,n.horizontal?o.height:o.width),n.size=w.size/w.count,e[i]+=n.size}o.getPadding&&_3(l,o.getPadding());const d=Math.max(0,t.outerWidth-vy(l,e,"left","right")),h=Math.max(0,t.outerHeight-vy(l,e,"top","bottom")),p=d!==e.w,x=h!==e.h;return e.w=d,e.h=h,n.horizontal?{same:p,other:x}:{same:x,other:p}}function $5(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function K5(e,t){const n=t.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{o[l]=Math.max(t[l],n[l])}),o}return r(e?["left","right"]:["top","bottom"])}function Cl(e,t,n,r){const i=[];let o,l,d,h,p,x;for(o=0,l=e.length,p=0;o<l;++o){d=e[o],h=d.box,h.update(d.width||t.w,d.height||t.h,K5(d.horizontal,t));const{same:w,other:C}=X5(t,n,d,r);p|=w&&i.length,x=x||C,h.fullSize||i.push(d)}return p&&Cl(i,t,n,r)||x}function fu(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Cy(e,t,n,r){const i=n.padding;let{x:o,y:l}=t;for(const d of e){const h=d.box,p=r[d.stack]||{count:1,placed:0,weight:1},x=d.stackWeight/p.weight||1;if(d.horizontal){const w=t.w*x,C=p.size||h.height;Od(p.start)&&(l=p.start),h.fullSize?fu(h,i.left,l,n.outerWidth-i.right-i.left,C):fu(h,t.left+p.placed,l,w,C),p.start=l,p.placed+=w,l=h.bottom}else{const w=t.h*x,C=p.size||h.width;Od(p.start)&&(o=p.start),h.fullSize?fu(h,o,i.top,C,n.outerHeight-i.bottom-i.top):fu(h,o,t.top+p.placed,C,w),p.start=o,p.placed+=w,o=h.right}}t.x=o,t.y=l}var Cs={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=hi(e.options.layout.padding),o=Math.max(t-i.width,0),l=Math.max(n-i.height,0),d=G5(e.boxes),h=d.vertical,p=d.horizontal;Et(e.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const x=h.reduce((I,D)=>D.box.options&&D.box.options.display===!1?I:I+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/x,hBoxMaxHeight:l/2}),C=Object.assign({},i);_3(C,hi(r));const E=Object.assign({maxPadding:C,w:o,h:l,x:i.left,y:i.top},i),_=Y5(h.concat(p),w);Cl(d.fullSize,E,w,_),Cl(h,E,w,_),Cl(p,E,w,_)&&Cl(h,E,w,_),$5(E),Cy(d.leftAndTop,E,w,_),E.x+=E.w,E.y+=E.h,Cy(d.rightAndBottom,E,w,_),e.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Et(d.chartArea,I=>{const D=I.box;Object.assign(D,e.chartArea),D.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class I3{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class Z5 extends I3{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Vu="$chartjs",Q5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ey=e=>e===null||e==="";function q5(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Vu]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ey(i)){const o=ly(e,"width");o!==void 0&&(e.width=o)}if(Ey(r))if(e.style.height==="")e.height=e.width/(t||2);else{const o=ly(e,"height");o!==void 0&&(e.height=o)}return e}const T3=f5?{passive:!0}:!1;function J5(e,t,n){e&&e.addEventListener(t,n,T3)}function eM(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,T3)}function tM(e,t){const n=Q5[e.type]||e.type,{x:r,y:i}=no(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function kd(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function nM(e,t,n){const r=e.canvas,i=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||kd(d.addedNodes,r),l=l&&!kd(d.removedNodes,r);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function rM(e,t,n){const r=e.canvas,i=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||kd(d.removedNodes,r),l=l&&!kd(d.addedNodes,r);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const hc=new Map;let Sy=0;function N3(){const e=window.devicePixelRatio;e!==Sy&&(Sy=e,hc.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function iM(e,t){hc.size||window.addEventListener("resize",N3),hc.set(e,t)}function sM(e){hc.delete(e),hc.size||window.removeEventListener("resize",N3)}function oM(e,t,n){const r=e.canvas,i=r&&qg(r);if(!i)return;const o=o3((d,h)=>{const p=i.clientWidth;n(d,h),p<i.clientWidth&&n()},window),l=new ResizeObserver(d=>{const h=d[0],p=h.contentRect.width,x=h.contentRect.height;p===0&&x===0||o(p,x)});return l.observe(i),iM(e,o),l}function Mh(e,t,n){n&&n.disconnect(),t==="resize"&&sM(e)}function aM(e,t,n){const r=e.canvas,i=o3(o=>{e.ctx!==null&&n(tM(o,e))},e);return J5(r,t,i),i}class lM extends I3{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(q5(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Vu])return!1;const r=n[Vu].initial;["height","width"].forEach(o=>{const l=r[o];nn(l)?n.removeAttribute(o):n.setAttribute(o,l)});const i=r.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Vu],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),l={attach:nM,detach:rM,resize:oM}[n]||aM;i[n]=l(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:Mh,detach:Mh,resize:Mh}[n]||eM)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return d5(t,n,r,i)}isAttached(t){const n=t&&qg(t);return!!(n&&n.isConnected)}}function cM(e){return!Qg()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Z5:lM}class Us{constructor(){et(this,"x");et(this,"y");et(this,"active",!1);et(this,"options");et(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return dc(this.x)&&dc(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}et(Us,"defaults",{}),et(Us,"defaultRoutes");function uM(e,t){const n=e.options.ticks,r=dM(e),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?hM(t):[],l=o.length,d=o[0],h=o[l-1],p=[];if(l>i)return gM(t,p,o,l/i),p;const x=fM(o,t,i);if(l>0){let w,C;const E=l>1?Math.round((h-d)/(l-1)):null;for(hu(t,p,x,nn(E)?0:d-E,d),w=0,C=l-1;w<C;w++)hu(t,p,x,o[w],o[w+1]);return hu(t,p,x,h,nn(E)?t.length:h+E),p}return hu(t,p,x),p}function dM(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function fM(e,t,n){const r=pM(e),i=t.length/n;if(!r)return Math.max(i,1);const o=cO(r);for(let l=0,d=o.length-1;l<d;l++){const h=o[l];if(h>i)return h}return Math.max(i,1)}function hM(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function gM(e,t,n,r){let i=0,o=n[0],l;for(r=Math.ceil(r),l=0;l<e.length;l++)l===o&&(t.push(e[l]),i++,o=n[i*r])}function hu(e,t,n,r,i){const o=dt(r,0),l=Math.min(dt(i,e.length),e.length);let d=0,h,p,x;for(n=Math.ceil(n),i&&(h=i-r,n=h/Math.floor(h/n)),x=o;x<0;)d++,x=Math.round(o+d*n);for(p=Math.max(o,0);p<l;p++)p===x&&(t.push(e[p]),d++,x=Math.round(o+d*n))}function pM(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const mM=e=>e==="left"?"right":e==="right"?"left":e,Ay=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,_y=(e,t)=>Math.min(t||e,e);function Iy(e,t){const n=[],r=e.length/t,i=e.length;let o=0;for(;o<i;o+=r)n.push(e[Math.floor(o)]);return n}function xM(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),o=e._startPixel,l=e._endPixel,d=1e-6;let h=e.getPixelForTick(i),p;if(!(n&&(r===1?p=Math.max(h-o,l-h):t===0?p=(e.getPixelForTick(1)-h)/2:p=(h-e.getPixelForTick(i-1))/2,h+=i<t?p:-p,h<o-d||h>l+d)))return h}function yM(e,t){Et(e,n=>{const r=n.gc,i=r.length/2;let o;if(i>t){for(o=0;o<i;++o)delete n.data[r[o]];r.splice(0,i)}})}function hl(e){return e.drawTicks?e.tickLength:0}function Ty(e,t){if(!e.display)return 0;const n=ur(e.font,t),r=hi(e.padding);return(In(e.text)?e.text.length:1)*n.lineHeight+r.height}function wM(e,t){return Mo(e,{scale:t,type:"scale"})}function bM(e,t,n){return Mo(e,{tick:n,index:t,type:"tick"})}function vM(e,t,n){let r=a3(e);return(n&&t!=="right"||!n&&t==="right")&&(r=mM(r)),r}function CM(e,t,n,r){const{top:i,left:o,bottom:l,right:d,chart:h}=e,{chartArea:p,scales:x}=h;let w=0,C,E,_;const I=l-i,D=d-o;if(e.isHorizontal()){if(E=br(r,o,d),ft(n)){const O=Object.keys(n)[0],M=n[O];_=x[O].getPixelForValue(M)+I-t}else n==="center"?_=(p.bottom+p.top)/2+I-t:_=Ay(e,n,t);C=d-o}else{if(ft(n)){const O=Object.keys(n)[0],M=n[O];E=x[O].getPixelForValue(M)-D+t}else n==="center"?E=(p.left+p.right)/2-D+t:E=Ay(e,n,t);_=br(r,l,i),w=n==="left"?-si:si}return{titleX:E,titleY:_,maxWidth:C,rotation:w}}class Ua extends Us{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=Ci(t,Number.POSITIVE_INFINITY),n=Ci(n,Number.NEGATIVE_INFINITY),r=Ci(r,Number.POSITIVE_INFINITY),i=Ci(i,Number.NEGATIVE_INFINITY),{min:Ci(t,r),max:Ci(n,i),minDefined:Yn(t),maxDefined:Yn(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),l;if(i&&o)return{min:n,max:r};const d=this.getMatchingVisibleMetas();for(let h=0,p=d.length;h<p;++h)l=d[h].controller.getMinMax(this,t),i||(n=Math.min(n,l.min)),o||(r=Math.max(r,l.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:Ci(n,Ci(r,n)),max:Ci(r,Ci(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Bt(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:o,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=VO(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=d<this.ticks.length;this._convertTicksToLabels(h?Iy(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=uM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Bt(this.options.afterUpdate,[this])}beforeSetDimensions(){Bt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Bt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Bt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Bt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r],o.label=Bt(n.callback,[o.value,r,t],this)}afterTickToLabelConversion(){Bt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Bt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=_y(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let l=i,d,h,p;if(!this._isVisible()||!n.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const x=this._getLabelSizes(),w=x.widest.width,C=x.highest.height,E=Vr(this.chart.width-w,0,this.maxWidth);d=t.offset?this.maxWidth/r:E/(r-1),w+6>d&&(d=E/(r-(t.offset?.5:1)),h=this.maxHeight-hl(t.grid)-n.padding-Ty(t.title,this.chart.options.font),p=Math.sqrt(w*w+C*C),l=fO(Math.min(Math.asin(Vr((x.highest.height+6)/d,-1,1)),Math.asin(Vr(h/p,-1,1))-Math.asin(Vr(C/p,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Bt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Bt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:o}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const h=Ty(i,n.options.font);if(d?(t.width=this.maxWidth,t.height=hl(o)+h):(t.height=this.maxHeight,t.width=hl(o)+h),r.display&&this.ticks.length){const{first:p,last:x,widest:w,highest:C}=this._getLabelSizes(),E=r.padding*2,_=uo(this.labelRotation),I=Math.cos(_),D=Math.sin(_);if(d){const O=r.mirror?0:D*w.width+I*C.height;t.height=Math.min(this.maxHeight,t.height+O+E)}else{const O=r.mirror?0:I*w.width+D*C.height;t.width=Math.min(this.maxWidth,t.width+O+E)}this._calculatePadding(p,x,D,I)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:o,padding:l},position:d}=this.options,h=this.labelRotation!==0,p=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const x=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,E=0;h?p?(C=i*t.width,E=r*n.height):(C=r*t.height,E=i*n.width):o==="start"?E=n.width:o==="end"?C=t.width:o!=="inner"&&(C=t.width/2,E=n.width/2),this.paddingLeft=Math.max((C-x+l)*this.width/(this.width-x),0),this.paddingRight=Math.max((E-w+l)*this.width/(this.width-w),0)}else{let x=n.height/2,w=t.height/2;o==="start"?(x=0,w=t.height):o==="end"&&(x=n.height,w=0),this.paddingTop=x+l,this.paddingBottom=w+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Bt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)nn(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Iy(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:o}=this,l=[],d=[],h=Math.floor(n/_y(n,r));let p=0,x=0,w,C,E,_,I,D,O,M,R,P,F;for(w=0;w<n;w+=h){if(_=t[w].label,I=this._resolveTickFontOptions(w),i.font=D=I.string,O=o[D]=o[D]||{data:{},gc:[]},M=I.lineHeight,R=P=0,!nn(_)&&!In(_))R=ry(i,O.data,O.gc,R,_),P=M;else if(In(_))for(C=0,E=_.length;C<E;++C)F=_[C],!nn(F)&&!In(F)&&(R=ry(i,O.data,O.gc,R,F),P+=M);l.push(R),d.push(P),p=Math.max(R,p),x=Math.max(P,x)}yM(o,n);const z=l.indexOf(p),A=d.indexOf(x),j=U=>({width:l[U]||0,height:d[U]||0});return{first:j(0),last:j(n-1),widest:j(z),highest:j(A),widths:l,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return pO(this._alignToPixels?qs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=bM(this.getContext(),t,r))}return this.$context||(this.$context=wM(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=uo(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,d=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*r>d*i?d/r:h/i:h*i<d*r?h/r:d/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:o,position:l,border:d}=i,h=o.offset,p=this.isHorizontal(),w=this.ticks.length+(h?1:0),C=hl(o),E=[],_=d.setContext(this.getContext()),I=_.display?_.width:0,D=I/2,O=function(ke){return qs(r,ke,I)};let M,R,P,F,z,A,j,U,J,ce,se,xe;if(l==="top")M=O(this.bottom),A=this.bottom-C,U=M-D,ce=O(t.top)+D,xe=t.bottom;else if(l==="bottom")M=O(this.top),ce=t.top,xe=O(t.bottom)-D,A=M+D,U=this.top+C;else if(l==="left")M=O(this.right),z=this.right-C,j=M-D,J=O(t.left)+D,se=t.right;else if(l==="right")M=O(this.left),J=t.left,se=O(t.right)-D,z=M+D,j=this.left+C;else if(n==="x"){if(l==="center")M=O((t.top+t.bottom)/2+.5);else if(ft(l)){const ke=Object.keys(l)[0],be=l[ke];M=O(this.chart.scales[ke].getPixelForValue(be))}ce=t.top,xe=t.bottom,A=M+D,U=A+C}else if(n==="y"){if(l==="center")M=O((t.left+t.right)/2);else if(ft(l)){const ke=Object.keys(l)[0],be=l[ke];M=O(this.chart.scales[ke].getPixelForValue(be))}z=M-D,j=z-C,J=t.left,se=t.right}const Oe=dt(i.ticks.maxTicksLimit,w),X=Math.max(1,Math.ceil(w/Oe));for(R=0;R<w;R+=X){const ke=this.getContext(R),be=o.setContext(ke),oe=d.setContext(ke),ge=be.lineWidth,pe=be.color,Pe=oe.dash||[],Ae=oe.dashOffset,Ue=be.tickWidth,Ie=be.tickColor,ze=be.tickBorderDash||[],ye=be.tickBorderDashOffset;P=xM(this,R,h),P!==void 0&&(F=qs(r,P,ge),p?z=j=J=se=F:A=U=ce=xe=F,E.push({tx1:z,ty1:A,tx2:j,ty2:U,x1:J,y1:ce,x2:se,y2:xe,width:ge,color:pe,borderDash:Pe,borderDashOffset:Ae,tickWidth:Ue,tickColor:Ie,tickBorderDash:ze,tickBorderDashOffset:ye}))}return this._ticksLength=w,this._borderValue=M,E}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:o}=r,l=this.isHorizontal(),d=this.ticks,{align:h,crossAlign:p,padding:x,mirror:w}=o,C=hl(r.grid),E=C+x,_=w?-x:E,I=-uo(this.labelRotation),D=[];let O,M,R,P,F,z,A,j,U,J,ce,se,xe="middle";if(i==="top")z=this.bottom-_,A=this._getXAxisLabelAlignment();else if(i==="bottom")z=this.top+_,A=this._getXAxisLabelAlignment();else if(i==="left"){const X=this._getYAxisLabelAlignment(C);A=X.textAlign,F=X.x}else if(i==="right"){const X=this._getYAxisLabelAlignment(C);A=X.textAlign,F=X.x}else if(n==="x"){if(i==="center")z=(t.top+t.bottom)/2+E;else if(ft(i)){const X=Object.keys(i)[0],ke=i[X];z=this.chart.scales[X].getPixelForValue(ke)+E}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")F=(t.left+t.right)/2-E;else if(ft(i)){const X=Object.keys(i)[0],ke=i[X];F=this.chart.scales[X].getPixelForValue(ke)}A=this._getYAxisLabelAlignment(C).textAlign}n==="y"&&(h==="start"?xe="top":h==="end"&&(xe="bottom"));const Oe=this._getLabelSizes();for(O=0,M=d.length;O<M;++O){R=d[O],P=R.label;const X=o.setContext(this.getContext(O));j=this.getPixelForTick(O)+o.labelOffset,U=this._resolveTickFontOptions(O),J=U.lineHeight,ce=In(P)?P.length:1;const ke=ce/2,be=X.color,oe=X.textStrokeColor,ge=X.textStrokeWidth;let pe=A;l?(F=j,A==="inner"&&(O===M-1?pe=this.options.reverse?"left":"right":O===0?pe=this.options.reverse?"right":"left":pe="center"),i==="top"?p==="near"||I!==0?se=-ce*J+J/2:p==="center"?se=-Oe.highest.height/2-ke*J+J:se=-Oe.highest.height+J/2:p==="near"||I!==0?se=J/2:p==="center"?se=Oe.highest.height/2-ke*J:se=Oe.highest.height-ce*J,w&&(se*=-1),I!==0&&!X.showLabelBackdrop&&(F+=J/2*Math.sin(I))):(z=j,se=(1-ce)*J/2);let Pe;if(X.showLabelBackdrop){const Ae=hi(X.backdropPadding),Ue=Oe.heights[O],Ie=Oe.widths[O];let ze=se-Ae.top,ye=0-Ae.left;switch(xe){case"middle":ze-=Ue/2;break;case"bottom":ze-=Ue;break}switch(A){case"center":ye-=Ie/2;break;case"right":ye-=Ie;break;case"inner":O===M-1?ye-=Ie:O>0&&(ye-=Ie/2);break}Pe={left:ye,top:ze,width:Ie+Ae.width,height:Ue+Ae.height,color:X.backdropColor}}D.push({label:P,font:U,textOffset:se,options:{rotation:I,color:be,strokeColor:oe,strokeWidth:ge,textAlign:pe,textBaseline:xe,translation:[F,z],backdrop:Pe}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-uo(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,l=this._getLabelSizes(),d=t+o,h=l.widest.width;let p,x;return n==="left"?i?(x=this.right+o,r==="near"?p="left":r==="center"?(p="center",x+=h/2):(p="right",x+=h)):(x=this.right-d,r==="near"?p="right":r==="center"?(p="center",x-=h/2):(p="left",x=this.left)):n==="right"?i?(x=this.left+o,r==="near"?p="right":r==="center"?(p="center",x-=h/2):(p="left",x-=h)):(x=this.left+d,r==="near"?p="left":r==="center"?(p="center",x+=h/2):(p="right",x=this.right)):p="right",{textAlign:p,x}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:o,height:l}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,o,l),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const d=(h,p,x)=>{!x.width||!x.color||(r.save(),r.lineWidth=x.width,r.strokeStyle=x.color,r.setLineDash(x.borderDash||[]),r.lineDashOffset=x.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(n.display)for(o=0,l=i.length;o<l;++o){const h=i[o];n.drawOnChartArea&&d({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&d({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),l=r.display?o.width:0;if(!l)return;const d=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,x,w,C;this.isHorizontal()?(p=qs(t,this.left,l)-l/2,x=qs(t,this.right,d)+d/2,w=C=h):(w=qs(t,this.top,l)-l/2,C=qs(t,this.bottom,d)+d/2,p=x=h),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(p,w),n.lineTo(x,C),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&mf(r,i);const o=this.getLabelItems(t);for(const l of o){const d=l.options,h=l.font,p=l.label,x=l.textOffset;Dd(r,p,0,x,h,d)}i&&xf(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const o=ur(r.font),l=hi(r.padding),d=r.align;let h=o.lineHeight/2;n==="bottom"||n==="center"||ft(n)?(h+=l.bottom,In(r.text)&&(h+=o.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:p,titleY:x,maxWidth:w,rotation:C}=CM(this,h,n,d);Dd(t,r.text,0,0,o,{color:r.color,maxWidth:w,rotation:C,textAlign:vM(d,n,i),textBaseline:"middle",translation:[p,x]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=dt(t.grid&&t.grid.z,-1),i=dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ua.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,l;for(o=0,l=n.length;o<l;++o){const d=n[o];d[r]===this.id&&(!t||d.type===t)&&i.push(d)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ur(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class gu{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;AM(n)&&(r=this.register(n));const i=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,EM(t,l,r),this.override&&cn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in cn[i]&&(delete cn[i][r],this.override&&delete _o[r])}}function EM(e,t,n){const r=uc(Object.create(null),[n?cn.get(n):{},cn.get(t),e.defaults]);cn.set(t,r),e.defaultRoutes&&SM(t,e.defaultRoutes),e.descriptors&&cn.describe(t,e.descriptors)}function SM(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),o=[e].concat(r).join("."),l=t[n].split("."),d=l.pop(),h=l.join(".");cn.route(o,i,h,d)})}function AM(e){return"id"in e&&"defaults"in e}class _M{constructor(){this.controllers=new gu(zl,"datasets",!0),this.elements=new gu(Us,"elements"),this.plugins=new gu(Object,"plugins"),this.scales=new gu(Ua,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):Et(i,l=>{const d=r||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,n,r){const i=Yg(t);Bt(r["before"+i],[],r),n[t](r),Bt(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Ii=new _M;class IM{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),l=this._notify(o,t,n,r);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,n,r,i){i=i||{};for(const o of t){const l=o.plugin,d=l[r],h=[n,i,o.options];if(Bt(d,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){nn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=dt(r.options&&r.options.plugins,{}),o=TM(r);return i===!1&&!n?[]:OM(t,o,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(o,l)=>o.filter(d=>!l.some(h=>d.plugin.id===h.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function TM(e){const t={},n=[],r=Object.keys(Ii.plugins.items);for(let o=0;o<r.length;o++)n.push(Ii.getPlugin(r[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const l=i[o];n.indexOf(l)===-1&&(n.push(l),t[l.id]=!0)}return{plugins:n,localIds:t}}function NM(e,t){return!t&&e===!1?null:e===!0?{}:e}function OM(e,{plugins:t,localIds:n},r,i){const o=[],l=e.getContext();for(const d of t){const h=d.id,p=NM(r[h],i);p!==null&&o.push({plugin:d,options:MM(e.config,{plugin:d,local:n[h]},p,l)})}return o}function MM(e,{plugin:t,local:n},r,i){const o=e.pluginScopeKeys(t),l=e.getOptionScopes(r,o);return n&&t.defaults&&l.push(t.defaults),e.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function u1(e,t){const n=cn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function DM(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function RM(e,t){return e===t?"_index_":"_value_"}function Ny(e){if(e==="x"||e==="y"||e==="r")return e}function kM(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function d1(e,...t){if(Ny(e))return e;for(const n of t){const r=n.axis||kM(n.position)||e.length>1&&Ny(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Oy(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function LM(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return Oy(e,"x",n[0])||Oy(e,"y",n[0])}return{}}function PM(e,t){const n=_o[e.type]||{scales:{}},r=t.scales||{},i=u1(e.type,t),o=Object.create(null);return Object.keys(r).forEach(l=>{const d=r[l];if(!ft(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=d1(l,d,LM(l,e),cn.scales[d.type]),p=RM(h,i),x=n.scales||{};o[l]=Pl(Object.create(null),[{axis:h},d,x[h],x[p]])}),e.data.datasets.forEach(l=>{const d=l.type||e.type,h=l.indexAxis||u1(d,t),x=(_o[d]||{}).scales||{};Object.keys(x).forEach(w=>{const C=DM(w,h),E=l[C+"AxisID"]||C;o[E]=o[E]||Object.create(null),Pl(o[E],[{axis:C},r[E],x[w]])})}),Object.keys(o).forEach(l=>{const d=o[l];Pl(d,[cn.scales[d.type],cn.scale])}),o}function O3(e){const t=e.options||(e.options={});t.plugins=dt(t.plugins,{}),t.scales=PM(e,t)}function M3(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function BM(e){return e=e||{},e.data=M3(e.data),O3(e),e}const My=new Map,D3=new Set;function pu(e,t){let n=My.get(e);return n||(n=t(),My.set(e,n),D3.add(n)),n}const gl=(e,t,n)=>{const r=Nd(t,n);r!==void 0&&e.add(r)};class jM{constructor(t){this._config=BM(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=M3(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),O3(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return pu(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return pu(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return pu(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return pu(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:o}=this,l=this._cachedScopes(t,r),d=l.get(n);if(d)return d;const h=new Set;n.forEach(x=>{t&&(h.add(t),x.forEach(w=>gl(h,t,w))),x.forEach(w=>gl(h,i,w)),x.forEach(w=>gl(h,_o[o]||{},w)),x.forEach(w=>gl(h,cn,w)),x.forEach(w=>gl(h,a1,w))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),D3.has(n)&&l.set(n,p),p}chartOptionScopes(){const{options:t,type:n}=this;return[t,_o[n]||{},cn.datasets[n]||{},{type:n},cn,a1]}resolveNamedOptions(t,n,r,i=[""]){const o={$shared:!0},{resolver:l,subPrefixes:d}=Dy(this._resolverCache,t,i);let h=l;if(UM(l,n)){o.$shared=!1,r=Fs(r)?r():r;const p=this.createResolver(t,r,d);h=Na(l,r,p)}for(const p of n)o[p]=h[p];return o}createResolver(t,n,r=[""],i){const{resolver:o}=Dy(this._resolverCache,t,r);return ft(n)?Na(o,n,void 0,i):o}}function Dy(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let o=r.get(i);return o||(o={resolver:$g(t,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},r.set(i,o)),o}const FM=e=>ft(e)&&Object.getOwnPropertyNames(e).some(t=>Fs(e[t]));function UM(e,t){const{isScriptable:n,isIndexable:r}=h3(e);for(const i of t){const o=n(i),l=r(i),d=(l||o)&&e[i];if(o&&(Fs(d)||FM(d))||l&&In(d))return!0}return!1}var zM="4.4.4";const HM=["top","bottom","left","right","chartArea"];function Ry(e,t){return e==="top"||e==="bottom"||HM.indexOf(e)===-1&&t==="x"}function ky(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Ly(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Bt(n&&n.onComplete,[e],t)}function VM(e){const t=e.chart,n=t.options.animation;Bt(n&&n.onProgress,[e],t)}function R3(e){return Qg()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Wu={},Py=e=>{const t=R3(e);return Object.values(Wu).filter(n=>n.canvas===t).pop()};function WM(e,t,n){const r=Object.keys(e);for(const i of r){const o=+i;if(o>=t){const l=e[i];delete e[i],(n>0||o>t)&&(e[o+n]=l)}}}function YM(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}function mu(e,t,n){return e.options.clip?e[n]:t[n]}function GM(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:mu(n,t,"left"),right:mu(n,t,"right"),top:mu(r,t,"top"),bottom:mu(r,t,"bottom")}:t}var ds;let wf=(ds=class{static register(...t){Ii.add(...t),By()}static unregister(...t){Ii.remove(...t),By()}constructor(t,n){const r=this.config=new jM(n),i=R3(t),o=Py(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||cM(i)),this.platform.updateConfig(r);const d=this.platform.acquireContext(i,l.aspectRatio),h=d&&d.canvas,p=h&&h.height,x=h&&h.width;if(this.id=eO(),this.ctx=d,this.canvas=h,this.width=x,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new IM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bO(w=>this.update(w),l.resizeDelay||0),this._dataChanges=[],Wu[this.id]=this,!d||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ui.listen(this,"complete",Ly),Ui.listen(this,"progress",VM),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:o}=this;return nn(t)?n&&o?o:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ii}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ay(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iy(this.canvas,this.ctx),this}stop(){return Ui.stop(this),this}resize(t,n){Ui.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,t,n,o),d=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,ay(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),Bt(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Et(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((l,d)=>(l[d]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const d=n[l],h=d1(l,d),p=h==="r",x=h==="x";return{options:d,dposition:p?"chartArea":x?"bottom":"left",dtype:p?"radialLinear":x?"category":"linear"}}))),Et(o,l=>{const d=l.options,h=d.id,p=d1(h,d),x=dt(d.type,l.dtype);(d.position===void 0||Ry(d.position,p)!==Ry(l.dposition))&&(d.position=l.dposition),i[h]=!0;let w=null;if(h in r&&r[h].type===x)w=r[h];else{const C=Ii.getScale(x);w=new C({id:h,type:x,ctx:this.ctx,chart:this}),r[w.id]=w}w.init(d,t)}),Et(i,(l,d)=>{l||delete r[d]}),Et(r,l=>{Cs.configure(this,l,l.options),Cs.addBox(this,l)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,o)=>i.index-o.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(ky("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const o=n[r];let l=this.getDatasetMeta(r);const d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=d,l.indexAxis=o.indexAxis||u1(d,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=Ii.getController(d),{datasetElementType:p,dataElementType:x}=cn.datasets[d];Object.assign(h,{dataElementType:Ii.getElement(x),datasetElementType:p&&Ii.getElement(p)}),l.controller=new h(this,r),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Et(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,x=this.data.datasets.length;p<x;p++){const{controller:w}=this.getDatasetMeta(p),C=!i&&o.indexOf(w)===-1;w.buildOrUpdateElements(C),l=Math.max(+w.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||Et(o,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ky("z","_idx"));const{_active:d,_lastEvent:h}=this;h?this._eventHandler(h,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Et(this.scales,t=>{Cs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!$x(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of n){const l=r==="_removeElements"?-o:o;WM(t,i,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(t.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),i=r(0);for(let o=1;o<n;o++)if(!$x(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cs.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Et(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Fs(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ui.has(this)?this.attached&&!Ui.running(this)&&Ui.start(this):(this.draw(),Ly({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];(!t||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r=t._clip,i=!r.disabled,o=GM(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(i&&mf(n,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),t.controller.draw(),i&&xf(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return fc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const o=H5.modes[n];return typeof o=="function"?o(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Mo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,i);Od(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),l.update(o,{visible:r}),this.update(d=>d.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Ui.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),iy(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Wu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(o,l)=>{n.addEventListener(this,o,l),t[o]=l},i=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};Et(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(h,p)=>{n.addEventListener(this,h,p),t[h]=p},i=(h,p)=>{t[h]&&(n.removeEventListener(this,h,p),delete t[h])},o=(h,p)=>{this.canvas&&this.resize(h,p)};let l;const d=()=>{i("attach",d),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",d)},n.isAttached(this.canvas)?d():l()}unbindEvents(){Et(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Et(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let o,l,d,h;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),d=0,h=t.length;d<h;++d){l=t[d];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:o,index:l})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!Id(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,o=(h,p)=>h.filter(x=>!p.some(w=>x.datasetIndex===w.datasetIndex&&x.index===w.index)),l=o(n,t),d=r?t:o(t,n);l.length&&this.updateHoverStyle(l,i.mode,!1),d.length&&i.mode&&this.updateHoverStyle(d,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:o}=this,l=n,d=this._getActiveElements(t,i,r,l),h=oO(t),p=YM(t,this._lastEvent,r,h);r&&(this._lastEvent=null,Bt(o.onHover,[t,d,this],this),h&&Bt(o.onClick,[t,d,this],this));const x=!Id(d,i);return(x||n)&&(this._active=d,this._updateHoverStyles(d,i,n)),this._lastEvent=p,x}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}},et(ds,"defaults",cn),et(ds,"instances",Wu),et(ds,"overrides",_o),et(ds,"registry",Ii),et(ds,"version",zM),et(ds,"getChart",Py),ds);function By(){return Et(wf.instances,e=>e._plugins.invalidate())}function k3(e,t,n=t){e.lineCap=dt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(dt(n.borderDash,t.borderDash)),e.lineDashOffset=dt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=dt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=dt(n.borderWidth,t.borderWidth),e.strokeStyle=dt(n.borderColor,t.borderColor)}function XM(e,t,n){e.lineTo(n.x,n.y)}function $M(e){return e.stepped?RO:e.tension||e.cubicInterpolationMode==="monotone"?kO:XM}function L3(e,t,n={}){const r=e.length,{start:i=0,end:o=r-1}=n,{start:l,end:d}=t,h=Math.max(i,l),p=Math.min(o,d),x=i<l&&o<l||i>d&&o>d;return{count:r,start:h,loop:t.loop,ilen:p<h&&!x?r+p-h:p-h}}function KM(e,t,n,r){const{points:i,options:o}=t,{count:l,start:d,loop:h,ilen:p}=L3(i,n,r),x=$M(o);let{move:w=!0,reverse:C}=r||{},E,_,I;for(E=0;E<=p;++E)_=i[(d+(C?p-E:E))%l],!_.skip&&(w?(e.moveTo(_.x,_.y),w=!1):x(e,I,_,C,o.stepped),I=_);return h&&(_=i[(d+(C?p:0))%l],x(e,I,_,C,o.stepped)),!!h}function ZM(e,t,n,r){const i=t.points,{count:o,start:l,ilen:d}=L3(i,n,r),{move:h=!0,reverse:p}=r||{};let x=0,w=0,C,E,_,I,D,O;const M=P=>(l+(p?d-P:P))%o,R=()=>{I!==D&&(e.lineTo(x,D),e.lineTo(x,I),e.lineTo(x,O))};for(h&&(E=i[M(0)],e.moveTo(E.x,E.y)),C=0;C<=d;++C){if(E=i[M(C)],E.skip)continue;const P=E.x,F=E.y,z=P|0;z===_?(F<I?I=F:F>D&&(D=F),x=(w*x+P)/++w):(R(),e.lineTo(P,F),_=z,w=0,I=D=F),O=F}R()}function f1(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?ZM:KM}function QM(e){return e.stepped?h5:e.tension||e.cubicInterpolationMode==="monotone"?g5:ro}function qM(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),k3(e,t.options),e.stroke(i)}function JM(e,t,n,r){const{segments:i,options:o}=t,l=f1(t);for(const d of i)k3(e,o,d.style),e.beginPath(),l(e,t,d,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const eD=typeof Path2D=="function";function tD(e,t,n,r){eD&&!t.options.segment?qM(e,t,n,r):JM(e,t,n,r)}class Es extends Us{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;s5(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=b5(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],o=this.points,l=C3(this,{property:n,start:i,end:i});if(!l.length)return;const d=[],h=QM(r);let p,x;for(p=0,x=l.length;p<x;++p){const{start:w,end:C}=l[p],E=o[w],_=o[C];if(E===_){d.push(E);continue}const I=Math.abs((i-E[n])/(_[n]-E[n])),D=h(E,_,I,r.stepped);D[n]=t[n],d.push(D)}return d.length===1?d[0]:d}pathSegment(t,n,r){return f1(this)(t,this,n,r)}path(t,n,r){const i=this.segments,o=f1(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const d of i)l&=o(t,this,d,{start:n,end:n+r-1});return!!l}draw(t,n,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),tD(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}et(Es,"id","line"),et(Es,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),et(Es,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),et(Es,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function jy(e,t,n,r){const i=e.options,{[n]:o}=e.getProps([n],r);return Math.abs(t-o)<i.radius+i.hitRadius}class Yu extends Us{constructor(n){super();et(this,"parsed");et(this,"skip");et(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.options,{x:l,y:d}=this.getProps(["x","y"],i);return Math.pow(n-l,2)+Math.pow(r-d,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,r){return jy(this,n,"x",r)}inYRange(n,r){return jy(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!fc(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,l1(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}et(Yu,"id","point"),et(Yu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),et(Yu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nD(e,t,n){const r=e.segments,i=e.points,o=t.points,l=[];for(const d of r){let{start:h,end:p}=d;p=ep(h,p,i);const x=h1(n,i[h],i[p],d.loop);if(!t.segments){l.push({source:d,target:x,start:i[h],end:i[p]});continue}const w=C3(t,x);for(const C of w){const E=h1(n,o[C.start],o[C.end],C.loop),_=v3(d,i,E);for(const I of _)l.push({source:I,target:C,start:{[n]:Fy(x,E,"start",Math.max)},end:{[n]:Fy(x,E,"end",Math.min)}})}}return l}function h1(e,t,n,r){if(r)return;let i=t[e],o=n[e];return e==="angle"&&(i=Ti(i),o=Ti(o)),{property:e,start:i,end:o}}function rD(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,o=[];return t.segments.forEach(({start:l,end:d})=>{d=ep(l,d,i);const h=i[l],p=i[d];r!==null?(o.push({x:h.x,y:r}),o.push({x:p.x,y:r})):n!==null&&(o.push({x:n,y:h.y}),o.push({x:n,y:p.y}))}),o}function ep(e,t,n){for(;t>e;t--){const r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function Fy(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function P3(e,t){let n=[],r=!1;return In(e)?(r=!0,n=e):n=rD(e,t),n.length?new Es({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Uy(e){return e&&e.fill!==!1}function iD(e,t,n){let i=e[t].fill;const o=[t];let l;if(!n)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Yn(i))return i;if(l=e[i],!l)return!1;if(l.visible)return i;o.push(i),i=l.fill}return!1}function sD(e,t,n){const r=cD(e);if(ft(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Yn(i)&&Math.floor(i)===i?oD(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function oD(e,t,n,r){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=r?!1:n}function aD(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:ft(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function lD(e,t,n){let r;return e==="start"?r=n:e==="end"?r=t.options.reverse?t.min:t.max:ft(e)?r=e.value:r=t.getBaseValue(),r}function cD(e){const t=e.options,n=t.fill;let r=dt(n&&n.target,n);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function uD(e){const{scale:t,index:n,line:r}=e,i=[],o=r.segments,l=r.points,d=dD(t,n);d.push(P3({x:null,y:t.bottom},r));for(let h=0;h<o.length;h++){const p=o[h];for(let x=p.start;x<=p.end;x++)fD(i,l[x],d)}return new Es({points:i,options:{}})}function dD(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function fD(e,t,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:l,last:d,point:h}=hD(o,t,"x");if(!(!h||l&&d)){if(l)r.unshift(h);else if(e.push(h),!d)break}}e.push(...r)}function hD(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const i=r[n],o=e.segments,l=e.points;let d=!1,h=!1;for(let p=0;p<o.length;p++){const x=o[p],w=l[x.start][n],C=l[x.end][n];if(sa(i,w,C)){d=i===w,h=i===C;break}}return{first:d,last:h,point:r}}class B3{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,r){const{x:i,y:o,radius:l}=this;return n=n||{start:0,end:ui},t.arc(i,o,l,n.end,n.start,!0),!r.bounds}interpolate(t){const{x:n,y:r,radius:i}=this,o=t.angle;return{x:n+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function gD(e){const{chart:t,fill:n,line:r}=e;if(Yn(n))return pD(t,n);if(n==="stack")return uD(e);if(n==="shape")return!0;const i=mD(e);return i instanceof B3?i:P3(i,r)}function pD(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function mD(e){return(e.scale||{}).getPointPositionForValue?yD(e):xD(e)}function xD(e){const{scale:t={},fill:n}=e,r=aD(n,t);if(Yn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function yD(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,o=r.reverse?t.max:t.min,l=lD(n,t,o),d=[];if(r.grid.circular){const h=t.getPointPositionForValue(0,o);return new B3({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<i;++h)d.push(t.getPointPositionForValue(h,l));return d}function Dh(e,t,n){const r=gD(t),{line:i,scale:o,axis:l}=t,d=i.options,h=d.fill,p=d.backgroundColor,{above:x=p,below:w=p}=h||{};r&&i.points.length&&(mf(e,n),wD(e,{line:i,target:r,above:x,below:w,area:n,scale:o,axis:l}),xf(e))}function wD(e,t){const{line:n,target:r,above:i,below:o,area:l,scale:d}=t,h=n._loop?"angle":t.axis;e.save(),h==="x"&&o!==i&&(zy(e,r,l.top),Hy(e,{line:n,target:r,color:i,scale:d,property:h}),e.restore(),e.save(),zy(e,r,l.bottom)),Hy(e,{line:n,target:r,color:o,scale:d,property:h}),e.restore()}function zy(e,t,n){const{segments:r,points:i}=t;let o=!0,l=!1;e.beginPath();for(const d of r){const{start:h,end:p}=d,x=i[h],w=i[ep(h,p,i)];o?(e.moveTo(x.x,x.y),o=!1):(e.lineTo(x.x,n),e.lineTo(x.x,x.y)),l=!!t.pathSegment(e,d,{move:l}),l?e.closePath():e.lineTo(w.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Hy(e,t){const{line:n,target:r,property:i,color:o,scale:l}=t,d=nD(n,r,i);for(const{source:h,target:p,start:x,end:w}of d){const{style:{backgroundColor:C=o}={}}=h,E=r!==!0;e.save(),e.fillStyle=C,bD(e,l,E&&h1(i,x,w)),e.beginPath();const _=!!n.pathSegment(e,h);let I;if(E){_?e.closePath():Vy(e,r,w,i);const D=!!r.pathSegment(e,p,{move:_,reverse:!0});I=_&&D,I||Vy(e,r,x,i)}e.closePath(),e.fill(I?"evenodd":"nonzero"),e.restore()}}function bD(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:o,start:l,end:d}=n||{};o==="x"&&(e.beginPath(),e.rect(l,r,d-l,i-r),e.clip())}function Vy(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var vD={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let o,l,d,h;for(l=0;l<r;++l)o=e.getDatasetMeta(l),d=o.dataset,h=null,d&&d.options&&d instanceof Es&&(h={visible:e.isDatasetVisible(l),index:l,fill:sD(d,l,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:d}),o.$filler=h,i.push(h);for(l=0;l<r;++l)h=i[l],!(!h||h.fill===!1)&&(h.fill=iD(i,l,n.propagate))},beforeDraw(e,t,n){const r=n.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let l=i.length-1;l>=0;--l){const d=i[l].$filler;d&&(d.line.updateControlPoints(o,d.axis),r&&d.fill&&Dh(e.ctx,d,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;Uy(o)&&Dh(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;!Uy(r)||n.drawTime!=="beforeDatasetDraw"||Dh(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wy=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},CD=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Yy extends Us{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Bt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=ur(r.font),o=i.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:h}=Wy(r,o);let p,x;n.font=i.string,this.isHorizontal()?(p=this.maxWidth,x=this._fitRows(l,o,d,h)+10):(x=this.maxHeight,p=this._fitCols(l,i,d,h)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(x,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:o,maxWidth:l,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],x=i+d;let w=t;o.textAlign="left",o.textBaseline="middle";let C=-1,E=-x;return this.legendItems.forEach((_,I)=>{const D=r+n/2+o.measureText(_.text).width;(I===0||p[p.length-1]+D+2*d>l)&&(w+=x,p[p.length-(I>0?0:1)]=0,E+=x,C++),h[I]={left:0,top:E,row:C,width:D,height:i},p[p.length-1]+=D+d}),w}_fitCols(t,n,r,i){const{ctx:o,maxHeight:l,options:{labels:{padding:d}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],x=l-t;let w=d,C=0,E=0,_=0,I=0;return this.legendItems.forEach((D,O)=>{const{itemWidth:M,itemHeight:R}=ED(r,n,o,D,i);O>0&&E+R+2*d>x&&(w+=C+d,p.push({width:C,height:E}),_+=C+d,I++,C=E=0),h[O]={left:_,top:E,col:I,width:M,height:R},C=Math.max(C,M),E+=R+d}),w+=C,p.push({width:C,height:E}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:o}}=this,l=fa(o,this.left,this.width);if(this.isHorizontal()){let d=0,h=br(r,this.left+i,this.right-this.lineWidths[d]);for(const p of n)d!==p.row&&(d=p.row,h=br(r,this.left+i,this.right-this.lineWidths[d])),p.top+=this.top+t+i,p.left=l.leftForLtr(l.x(h),p.width),h+=p.width+i}else{let d=0,h=br(r,this.top+t+i,this.bottom-this.columnSizes[d].height);for(const p of n)p.col!==d&&(d=p.col,h=br(r,this.top+t+i,this.bottom-this.columnSizes[d].height)),p.top=h,p.left+=this.left+i,p.left=l.leftForLtr(l.x(p.left),p.width),h+=p.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;mf(t,this),this._draw(),xf(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:o,labels:l}=t,d=cn.color,h=fa(t.rtl,this.left,this.width),p=ur(l.font),{padding:x}=l,w=p.size,C=w/2;let E;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=p.string;const{boxWidth:_,boxHeight:I,itemHeight:D}=Wy(l,w),O=function(z,A,j){if(isNaN(_)||_<=0||isNaN(I)||I<0)return;i.save();const U=dt(j.lineWidth,1);if(i.fillStyle=dt(j.fillStyle,d),i.lineCap=dt(j.lineCap,"butt"),i.lineDashOffset=dt(j.lineDashOffset,0),i.lineJoin=dt(j.lineJoin,"miter"),i.lineWidth=U,i.strokeStyle=dt(j.strokeStyle,d),i.setLineDash(dt(j.lineDash,[])),l.usePointStyle){const J={radius:I*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:U},ce=h.xPlus(z,_/2),se=A+C;d3(i,J,ce,se,l.pointStyleWidth&&_)}else{const J=A+Math.max((w-I)/2,0),ce=h.leftForLtr(z,_),se=Ul(j.borderRadius);i.beginPath(),Object.values(se).some(xe=>xe!==0)?c1(i,{x:ce,y:J,w:_,h:I,radius:se}):i.rect(ce,J,_,I),i.fill(),U!==0&&i.stroke()}i.restore()},M=function(z,A,j){Dd(i,j.text,z,A+D/2,p,{strikethrough:j.hidden,textAlign:h.textAlign(j.textAlign)})},R=this.isHorizontal(),P=this._computeTitleHeight();R?E={x:br(o,this.left+x,this.right-r[0]),y:this.top+x+P,line:0}:E={x:this.left+x,y:br(o,this.top+P+x,this.bottom-n[0].height),line:0},y3(this.ctx,t.textDirection);const F=D+x;this.legendItems.forEach((z,A)=>{i.strokeStyle=z.fontColor,i.fillStyle=z.fontColor;const j=i.measureText(z.text).width,U=h.textAlign(z.textAlign||(z.textAlign=l.textAlign)),J=_+C+j;let ce=E.x,se=E.y;h.setWidth(this.width),R?A>0&&ce+J+x>this.right&&(se=E.y+=F,E.line++,ce=E.x=br(o,this.left+x,this.right-r[E.line])):A>0&&se+F>this.bottom&&(ce=E.x=ce+n[E.line].width+x,E.line++,se=E.y=br(o,this.top+P+x,this.bottom-n[E.line].height));const xe=h.x(ce);if(O(xe,se,z),ce=vO(U,ce+_+C,R?ce+J:this.right,t.rtl),M(h.x(ce),se,z),R)E.x+=J+x;else if(typeof z.text!="string"){const Oe=p.lineHeight;E.y+=j3(z,Oe)+x}else E.y+=F}),w3(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=ur(n.font),i=hi(n.padding);if(!n.display)return;const o=fa(t.rtl,this.left,this.width),l=this.ctx,d=n.position,h=r.size/2,p=i.top+h;let x,w=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),x=this.top+p,w=br(t.align,w,this.right-C);else{const _=this.columnSizes.reduce((I,D)=>Math.max(I,D.height),0);x=p+br(t.align,this.top,this.bottom-_-t.labels.padding-this._computeTitleHeight())}const E=br(d,w,w+C);l.textAlign=o.textAlign(a3(d)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,Dd(l,n.text,E,x,r)}_computeTitleHeight(){const t=this.options.title,n=ur(t.font),r=hi(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,o;if(sa(t,this.left,this.right)&&sa(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],sa(t,i.left,i.left+i.width)&&sa(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!_D(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=CD(i,r);i&&!o&&Bt(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!o&&Bt(n.onHover,[t,r,this],this)}else r&&Bt(n.onClick,[t,r,this],this)}}function ED(e,t,n,r,i){const o=SD(r,e,t,n),l=AD(i,r,t.lineHeight);return{itemWidth:o,itemHeight:l}}function SD(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,l)=>o.length>l.length?o:l)),t+n.size/2+r.measureText(i).width}function AD(e,t,n){let r=e;return typeof t.text!="string"&&(r=j3(t,n)),r}function j3(e,t){const n=e.text?e.text.length:0;return t*n}function _D(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var ID={id:"legend",_element:Yy,start(e,t,n){const r=e.legend=new Yy({ctx:e.ctx,options:n,chart:e});Cs.configure(e,r,n),Cs.addBox(e,r)},stop(e){Cs.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Cs.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:d}}=e.legend.options;return e._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(n?0:void 0),x=hi(p.borderWidth);return{text:t[h.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(x.width+x.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:i||p.textAlign,borderRadius:l&&(d||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const El={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,o=0;for(t=0,n=e.length;t<n;++t){const d=e[t].element;if(d&&d.hasValue()){const h=d.tooltipPosition();r.add(h.x),i+=h.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((d,h)=>d+h)/r.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,o,l,d;for(o=0,l=e.length;o<l;++o){const h=e[o].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),x=o1(t,p);x<i&&(i=x,d=h)}}if(d){const h=d.tooltipPosition();n=h.x,r=h.y}return{x:n,y:r}}};function Si(e,t){return t&&(In(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function zi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function TD(e,t){const{element:n,datasetIndex:r,index:i}=t,o=e.getDatasetMeta(r).controller,{label:l,value:d}=o.getLabelAndValue(i);return{chart:e,label:l,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:d,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Gy(e,t){const n=e.chart.ctx,{body:r,footer:i,title:o}=e,{boxWidth:l,boxHeight:d}=t,h=ur(t.bodyFont),p=ur(t.titleFont),x=ur(t.footerFont),w=o.length,C=i.length,E=r.length,_=hi(t.padding);let I=_.height,D=0,O=r.reduce((P,F)=>P+F.before.length+F.lines.length+F.after.length,0);if(O+=e.beforeBody.length+e.afterBody.length,w&&(I+=w*p.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),O){const P=t.displayColors?Math.max(d,h.lineHeight):h.lineHeight;I+=E*P+(O-E)*h.lineHeight+(O-1)*t.bodySpacing}C&&(I+=t.footerMarginTop+C*x.lineHeight+(C-1)*t.footerSpacing);let M=0;const R=function(P){D=Math.max(D,n.measureText(P).width+M)};return n.save(),n.font=p.string,Et(e.title,R),n.font=h.string,Et(e.beforeBody.concat(e.afterBody),R),M=t.displayColors?l+2+t.boxPadding:0,Et(r,P=>{Et(P.before,R),Et(P.lines,R),Et(P.after,R)}),M=0,n.font=x.string,Et(e.footer,R),n.restore(),D+=_.width,{width:D,height:I}}function ND(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function OD(e,t,n,r){const{x:i,width:o}=r,l=n.caretSize+n.caretPadding;if(e==="left"&&i+o+l>t.width||e==="right"&&i-o-l<0)return!0}function MD(e,t,n,r){const{x:i,width:o}=n,{width:l,chartArea:{left:d,right:h}}=e;let p="center";return r==="center"?p=i<=(d+h)/2?"left":"right":i<=o/2?p="left":i>=l-o/2&&(p="right"),OD(p,e,t,n)&&(p="center"),p}function Xy(e,t,n){const r=n.yAlign||t.yAlign||ND(e,n);return{xAlign:n.xAlign||t.xAlign||MD(e,t,n,r),yAlign:r}}function DD(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function RD(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function $y(e,t,n,r){const{caretSize:i,caretPadding:o,cornerRadius:l}=e,{xAlign:d,yAlign:h}=n,p=i+o,{topLeft:x,topRight:w,bottomLeft:C,bottomRight:E}=Ul(l);let _=DD(t,d);const I=RD(t,h,p);return h==="center"?d==="left"?_+=p:d==="right"&&(_-=p):d==="left"?_-=Math.max(x,C)+i:d==="right"&&(_+=Math.max(w,E)+i),{x:Vr(_,0,r.width-t.width),y:Vr(I,0,r.height-t.height)}}function xu(e,t,n){const r=hi(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Ky(e){return Si([],zi(e))}function kD(e,t,n){return Mo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Zy(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const F3={beforeTitle:Fi,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Fi,beforeBody:Fi,beforeLabel:Fi,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return nn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Fi,afterBody:Fi,beforeFooter:Fi,footer:Fi,afterFooter:Fi};function ir(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?F3[t].call(n,r):i}class g1 extends Us{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new E3(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=kD(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=ir(r,"beforeTitle",this,t),o=ir(r,"title",this,t),l=ir(r,"afterTitle",this,t);let d=[];return d=Si(d,zi(i)),d=Si(d,zi(o)),d=Si(d,zi(l)),d}getBeforeBody(t,n){return Ky(ir(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Et(t,o=>{const l={before:[],lines:[],after:[]},d=Zy(r,o);Si(l.before,zi(ir(d,"beforeLabel",this,o))),Si(l.lines,ir(d,"label",this,o)),Si(l.after,zi(ir(d,"afterLabel",this,o))),i.push(l)}),i}getAfterBody(t,n){return Ky(ir(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=ir(r,"beforeFooter",this,t),o=ir(r,"footer",this,t),l=ir(r,"afterFooter",this,t);let d=[];return d=Si(d,zi(i)),d=Si(d,zi(o)),d=Si(d,zi(l)),d}_createItems(t){const n=this._active,r=this.chart.data,i=[],o=[],l=[];let d=[],h,p;for(h=0,p=n.length;h<p;++h)d.push(TD(this.chart,n[h]));return t.filter&&(d=d.filter((x,w,C)=>t.filter(x,w,C,r))),t.itemSort&&(d=d.sort((x,w)=>t.itemSort(x,w,r))),Et(d,x=>{const w=Zy(t.callbacks,x);i.push(ir(w,"labelColor",this,x)),o.push(ir(w,"labelPointStyle",this,x)),l.push(ir(w,"labelTextColor",this,x))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=d,d}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let o,l=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const d=El[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=Gy(this,r),p=Object.assign({},d,h),x=Xy(this.chart,r,p),w=$y(r,p,x,this.chart);this.xAlign=x.xAlign,this.yAlign=x.yAlign,o={opacity:1,x:w.x,y:w.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const o=this.getCaretPosition(t,r,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:o}=this,{caretSize:l,cornerRadius:d}=r,{topLeft:h,topRight:p,bottomLeft:x,bottomRight:w}=Ul(d),{x:C,y:E}=t,{width:_,height:I}=n;let D,O,M,R,P,F;return o==="center"?(P=E+I/2,i==="left"?(D=C,O=D-l,R=P+l,F=P-l):(D=C+_,O=D+l,R=P-l,F=P+l),M=D):(i==="left"?O=C+Math.max(h,x)+l:i==="right"?O=C+_-Math.max(p,w)-l:O=this.caretX,o==="top"?(R=E,P=R-l,D=O-l,M=O+l):(R=E+I,P=R+l,D=O+l,M=O-l),F=R),{x1:D,x2:O,x3:M,y1:R,y2:P,y3:F}}drawTitle(t,n,r){const i=this.title,o=i.length;let l,d,h;if(o){const p=fa(r.rtl,this.x,this.width);for(t.x=xu(this,r.titleAlign,r),n.textAlign=p.textAlign(r.titleAlign),n.textBaseline="middle",l=ur(r.titleFont),d=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,h=0;h<o;++h)n.fillText(i[h],p.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+d,h+1===o&&(t.y+=r.titleMarginBottom-d)}}_drawColorBox(t,n,r,i,o){const l=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:h,boxWidth:p}=o,x=ur(o.bodyFont),w=xu(this,"left",o),C=i.x(w),E=h<x.lineHeight?(x.lineHeight-h)/2:0,_=n.y+E;if(o.usePointStyle){const I={radius:Math.min(p,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},D=i.leftForLtr(C,p)+p/2,O=_+h/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,l1(t,I,D,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,l1(t,I,D,O)}else{t.lineWidth=ft(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const I=i.leftForLtr(C,p),D=i.leftForLtr(i.xPlus(C,1),p-2),O=Ul(l.borderRadius);Object.values(O).some(M=>M!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,c1(t,{x:I,y:_,w:p,h,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),c1(t,{x:D,y:_+1,w:p-2,h:h-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,_,p,h),t.strokeRect(I,_,p,h),t.fillStyle=l.backgroundColor,t.fillRect(D,_+1,p-2,h-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:o,bodyAlign:l,displayColors:d,boxHeight:h,boxWidth:p,boxPadding:x}=r,w=ur(r.bodyFont);let C=w.lineHeight,E=0;const _=fa(r.rtl,this.x,this.width),I=function(j){n.fillText(j,_.x(t.x+E),t.y+C/2),t.y+=C+o},D=_.textAlign(l);let O,M,R,P,F,z,A;for(n.textAlign=l,n.textBaseline="middle",n.font=w.string,t.x=xu(this,D,r),n.fillStyle=r.bodyColor,Et(this.beforeBody,I),E=d&&D!=="right"?l==="center"?p/2+x:p+2+x:0,P=0,z=i.length;P<z;++P){for(O=i[P],M=this.labelTextColors[P],n.fillStyle=M,Et(O.before,I),R=O.lines,d&&R.length&&(this._drawColorBox(n,t,P,_,r),C=Math.max(w.lineHeight,h)),F=0,A=R.length;F<A;++F)I(R[F]),C=w.lineHeight;Et(O.after,I)}E=0,C=w.lineHeight,Et(this.afterBody,I),t.y-=o}drawFooter(t,n,r){const i=this.footer,o=i.length;let l,d;if(o){const h=fa(r.rtl,this.x,this.width);for(t.x=xu(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=h.textAlign(r.footerAlign),n.textBaseline="middle",l=ur(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,d=0;d<o;++d)n.fillText(i[d],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:o,yAlign:l}=this,{x:d,y:h}=t,{width:p,height:x}=r,{topLeft:w,topRight:C,bottomLeft:E,bottomRight:_}=Ul(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(d+w,h),l==="top"&&this.drawCaret(t,n,r,i),n.lineTo(d+p-C,h),n.quadraticCurveTo(d+p,h,d+p,h+C),l==="center"&&o==="right"&&this.drawCaret(t,n,r,i),n.lineTo(d+p,h+x-_),n.quadraticCurveTo(d+p,h+x,d+p-_,h+x),l==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(d+E,h+x),n.quadraticCurveTo(d,h+x,d,h+x-E),l==="center"&&o==="left"&&this.drawCaret(t,n,r,i),n.lineTo(d,h+w),n.quadraticCurveTo(d,h,d+w,h),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const l=El[t.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=Gy(this,t),h=Object.assign({},l,this._size),p=Xy(n,t,h),x=$y(t,h,p,n);(i._to!==x.x||o._to!==x.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,x))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=hi(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,i,n),y3(t,n.textDirection),o.y+=l.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),w3(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:d,index:h})=>{const p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[h],index:h}}),o=!Id(r,i),l=this._positionChanged(i,n);(o||l)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],l=this._getActiveElements(t,o,n,r),d=this._positionChanged(l,t),h=n||!Id(l,o)||d;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),h}_getActiveElements(t,n,r,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(t,n){const{caretX:r,caretY:i,options:o}=this,l=El[o.position].call(this,t,n);return l!==!1&&(r!==l.x||i!==l.y)}}et(g1,"positioners",El);var LD={id:"tooltip",_element:g1,positioners:El,afterInit(e,t,n){n&&(e.tooltip=new g1({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:F3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const PD=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function BD(e,t,n,r){const i=e.indexOf(t);if(i===-1)return PD(e,t,n,r);const o=e.lastIndexOf(t);return i!==o?n:i}const jD=(e,t)=>e===null?null:Vr(Math.round(e),0,t);function Qy(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class p1 extends Ua{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:o}of n)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(nn(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:BD(r,t,dt(n,t),this._addedLabels),jD(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=t;l<=n;l++)i.push({value:l});return i}getLabelForValue(t){return Qy.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}et(p1,"id","category"),et(p1,"defaults",{ticks:{callback:Qy}});function FD(e,t){const n=[],{bounds:i,step:o,min:l,max:d,precision:h,count:p,maxTicks:x,maxDigits:w,includeBounds:C}=e,E=o||1,_=x-1,{min:I,max:D}=t,O=!nn(l),M=!nn(d),R=!nn(p),P=(D-I)/(w+1);let F=Zx((D-I)/_/E)*E,z,A,j,U;if(F<1e-14&&!O&&!M)return[{value:I},{value:D}];U=Math.ceil(D/F)-Math.floor(I/F),U>_&&(F=Zx(U*F/_/E)*E),nn(h)||(z=Math.pow(10,h),F=Math.ceil(F*z)/z),i==="ticks"?(A=Math.floor(I/F)*F,j=Math.ceil(D/F)*F):(A=I,j=D),O&&M&&o&&uO((d-l)/o,F/1e3)?(U=Math.round(Math.min((d-l)/F,x)),F=(d-l)/U,A=l,j=d):R?(A=O?l:A,j=M?d:j,U=p-1,F=(j-A)/U):(U=(j-A)/F,Bl(U,Math.round(U),F/1e3)?U=Math.round(U):U=Math.ceil(U));const J=Math.max(Qx(F),Qx(A));z=Math.pow(10,nn(h)?J:h),A=Math.round(A*z)/z,j=Math.round(j*z)/z;let ce=0;for(O&&(C&&A!==l?(n.push({value:l}),A<l&&ce++,Bl(Math.round((A+ce*F)*z)/z,l,qy(l,P,e))&&ce++):A<l&&ce++);ce<U;++ce){const se=Math.round((A+ce*F)*z)/z;if(M&&se>d)break;n.push({value:se})}return M&&C&&j!==d?n.length&&Bl(n[n.length-1].value,d,qy(d,P,e))?n[n.length-1].value=d:n.push({value:d}):(!M||j===d)&&n.push({value:j}),n}function qy(e,t,{horizontal:n,minRotation:r}){const i=uo(r),o=(n?Math.sin(i):Math.cos(i))||.001,l=.75*t*(""+e).length;return Math.min(t/o,l)}class UD extends Ua{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return nn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const l=h=>i=n?i:h,d=h=>o=r?o:h;if(t){const h=Ta(i),p=Ta(o);h<0&&p<0?d(0):h>0&&p>0&&l(0)}if(i===o){let h=o===0?1:Math.abs(o*.05);d(o+h),t||l(i-h)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=FD(i,o);return t.bounds==="ticks"&&dO(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return l3(t,this.chart.options.locale,this.options.ticks.format)}}class m1 extends UD{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Yn(t)?t:0,this.max=Yn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=uo(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}et(m1,"id","linear"),et(m1,"defaults",{ticks:{callback:u3.formatters.numeric}});const bf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ar=Object.keys(bf);function Jy(e,t){return e-t}function e2(e,t){if(nn(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:o}=e._parseOpts;let l=t;return typeof r=="function"&&(l=r(l)),Yn(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(i&&(l=i==="week"&&(dc(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,i)),+l)}function t2(e,t,n,r){const i=ar.length;for(let o=ar.indexOf(e);o<i-1;++o){const l=bf[ar[o]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-t)/(d*l.size))<=r)return ar[o]}return ar[i-1]}function zD(e,t,n,r,i){for(let o=ar.length-1;o>=ar.indexOf(n);o--){const l=ar[o];if(bf[l].common&&e._adapter.diff(i,r,l)>=t-1)return l}return ar[n?ar.indexOf(n):0]}function HD(e){for(let t=ar.indexOf(e)+1,n=ar.length;t<n;++t)if(bf[ar[t]].common)return ar[t]}function n2(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Gg(n,t),o=n[r]>=t?n[r]:n[i];e[o]=!0}}function VD(e,t,n,r){const i=e._adapter,o=+i.startOf(t[0].value,r),l=t[t.length-1].value;let d,h;for(d=o;d<=l;d=+i.add(d,1,r))h=n[d],h>=0&&(t[h].major=!0);return t}function r2(e,t,n){const r=[],i={},o=t.length;let l,d;for(l=0;l<o;++l)d=t[l],i[d]=l,r.push({value:d,major:!1});return o===0||!n?r:VD(e,r,i,n)}class Ld extends Ua{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new B5._date(t.adapters.date);i.init(n),Pl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:e2(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:o,minDefined:l,maxDefined:d}=this.getUserBounds();function h(p){!l&&!isNaN(p.min)&&(i=Math.min(i,p.min)),!d&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!l||!d)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Yn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),o=Yn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,l=this.max,d=xO(i,o,l);return this._unit=n.unit||(r.autoSkip?t2(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):zD(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:HD(this._unit),this.initOffsets(i),t.reverse&&d.reverse(),r2(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?r=o:r=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;n=Vr(n,0,l),r=Vr(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,o=i.time,l=o.unit||t2(o.minUnit,n,r,this._getLabelCapacity(n)),d=dt(i.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,p=dc(h)||h===!0,x={};let w=n,C,E;if(p&&(w=+t.startOf(w,"isoWeek",h)),w=+t.startOf(w,p?"day":l),t.diff(r,n,l)>1e5*d)throw new Error(n+" and "+r+" are too far apart with stepSize of "+d+" "+l);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(C=w,E=0;C<r;C=+t.add(C,d,l),E++)n2(x,C,_);return(C===r||i.bounds==="ticks"||E===1)&&n2(x,C,_),Object.keys(x).sort(Jy).map(I=>+I)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,o=this._unit,l=n||i[o];return this._adapter.format(t,l)}_tickFormatFunction(t,n,r,i){const o=this.options,l=o.ticks.callback;if(l)return Bt(l,[t,n,r],this);const d=o.time.displayFormats,h=this._unit,p=this._majorUnit,x=h&&d[h],w=p&&d[p],C=r[n],E=p&&w&&C&&C.major;return this._adapter.format(t,i||(E?w:x))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=uo(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),l=Math.sin(i),d=this._resolveTickFontOptions(0).size;return{w:r*o+d*l,h:r*l+d*o}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=this._tickFormatFunction(t,0,r2(this,[t],this._majorUnit),i),l=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(e2(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return wO(t.sort(Jy))}}et(Ld,"id","time"),et(Ld,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function yu(e,t,n){let r=0,i=e.length-1,o,l,d,h;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=fo(e,"pos",t)),{pos:o,time:d}=e[r],{pos:l,time:h}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=fo(e,"time",t)),{time:o,pos:d}=e[r],{time:l,pos:h}=e[i]);const p=l-o;return p?d+(h-d)*(t-o)/p:d}class i2 extends Ld{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=yu(n,this.min),this._tableRange=yu(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],o=[];let l,d,h,p,x;for(l=0,d=t.length;l<d;++l)p=t[l],p>=n&&p<=r&&i.push(p);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,d=i.length;l<d;++l)x=i[l+1],h=i[l-1],p=i[l],Math.round((x+h)/2)!==p&&o.push({time:p,pos:l/(d-1)});return o}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(yu(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return yu(this._table,r*this._tableRange+this._minPos,!0)}}et(i2,"id","timeseries"),et(i2,"defaults",Ld.defaults);const U3="label";function s2(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function WD(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function z3(e,t){e.labels=t}function H3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U3;const r=[];e.datasets=t.map(i=>{const o=e.datasets.find(l=>l[n]===i[n]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function YD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U3;const n={labels:[],datasets:[]};return z3(n,e.labels),H3(n,e.datasets,t),n}function GD(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:l,data:d,options:h,plugins:p=[],fallbackContent:x,updateMode:w,...C}=e,E=V.useRef(null),_=V.useRef(),I=()=>{E.current&&(_.current=new wf(E.current,{type:l,data:YD(d,o),options:h&&{...h},plugins:p}),s2(t,_.current))},D=()=>{s2(t,null),_.current&&(_.current.destroy(),_.current=null)};return V.useEffect(()=>{!i&&_.current&&h&&WD(_.current,h)},[i,h]),V.useEffect(()=>{!i&&_.current&&z3(_.current.config.data,d.labels)},[i,d.labels]),V.useEffect(()=>{!i&&_.current&&d.datasets&&H3(_.current.config.data,d.datasets,o)},[i,d.datasets]),V.useEffect(()=>{_.current&&(i?(D(),setTimeout(I)):_.current.update(w))},[i,h,d.labels,d.datasets,w]),V.useEffect(()=>{_.current&&(D(),setTimeout(I))},[l]),V.useEffect(()=>(I(),()=>D()),[]),ut.createElement("canvas",Object.assign({ref:E,role:"img",height:n,width:r},C),x)}const XD=V.forwardRef(GD);function $D(e,t){return wf.register(t),V.forwardRef((n,r)=>ut.createElement(XD,Object.assign({},n,{ref:r,type:e})))}const KD=$D("line",Hu);wf.register(Es,Yu,p1,m1,LD,ID,vD);function ZD({xAxisLables:e,yAxisLabels:t,xAxisText:n,yAxisText:r,title:i,userNames:o}){const l={labels:e,datasets:[{label:i,data:t,fill:!0,backgroundColor:"rgba(0, 255, 0, 0.3)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:3,tension:.3,pointRadius:5,pointBackgroundColor:"#fff",pointBorderColor:function(h){const p=h.chart.data.datasets[0].data,x=Math.max(...p),w=Math.min(...p);return p.map(C=>C===x?"blue":C===w?"red":"rgba(75, 192, 192, 1)")}}]},d={maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,title:{display:!0,text:r,font:{size:14,weight:"bold"}},grid:{display:!0,color:"rgba(200, 200, 200, 0.3)"}},x:{title:{display:!0,text:n,font:{size:14,weight:"bold"}},grid:{display:!1}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(h){return`${o[h.dataIndex]}: ${h.raw}`}},bodyFont:{size:16,weight:"bold"},titleFont:{size:18,weight:"bold"},padding:10,boxPadding:6},title:{display:!0,text:i,font:{size:18,weight:"bold"},padding:{top:10,bottom:20}}}};return v.jsx("div",{style:{minHeight:"350px"},className:"px-2",children:v.jsx(KD,{data:l,options:d,height:450})})}const Ei=e=>{const t=new Date(e),n={year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat("en-US",n).format(t)};function QD({items:e}){const[t,n]=V.useState(null),r=i=>{n(t===i?null:i)};return v.jsx("div",{className:"accordion shadow",children:e.map((i,o)=>v.jsxs("div",{className:"accordion-item",children:[v.jsx("h2",{className:"accordion-header p-3",children:v.jsx("button",{className:`accordion-button ${t===o?"":"collapsed"}`,onClick:()=>r(o),"aria-expanded":t===o,children:i.title})}),v.jsx("div",{className:`accordion-collapse collapse ${t===o?"show":""}`,style:{transition:"height 0.35s ease"},children:v.jsx("div",{className:"accordion-body",children:i.content})})]},o))})}const qD=ut.memo(QD);function JD({dashboard:e,unhandleSuspend:t,handleSuspend:n,loadState:r}){const[i,o]=V.useState("all"),[l,d]=V.useState({activeUsers:!1,suspendedUsers:!1}),[h,p]=V.useState({activeUsers:[],suspendedUsers:[]});V.useEffect(()=>{const w=new Date;switch(i){case"7 days ago":const C=new Date(w);C.setDate(w.getDate()-7),p({activeUsers:e.activeUsers?e.activeUsers.filter(D=>new Date(D.createdAt)>=C).map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}],suspendedUsers:e.suspendedUsers?e.suspendedUsers.filter(D=>new Date(D.createdAt)>=C).map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}]});break;case"30 days ago":const E=new Date(w);E.setDate(w.getDate()-30),p({activeUsers:e.activeUsers?e.activeUsers.filter(D=>new Date(D.createdAt)>=E).map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}],suspendedUsers:e.suspendedUsers?e.suspendedUsers.filter(D=>new Date(D.createdAt)>=E).map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}]});break;case"3 months ago":const _=new Date(w);_.setMonth(w.getMonth()-3),p({activeUsers:e.activeUsers?e.activeUsers.filter(D=>new Date(D.createdAt)>=_).map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}],suspendedUsers:e.suspendedUsers?e.suspendedUsers.filter(D=>new Date(D.createdAt)>=_).map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}]});break;case"12 months ago":const I=new Date(w);I.setFullYear(w.getFullYear()-1),p({activeUsers:e.activeUsers?e.activeUsers.filter(D=>new Date(D.createdAt)>=I).map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}],suspendedUsers:e.suspendedUsers?e.suspendedUsers.filter(D=>new Date(D.createdAt)>=I).map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}]});break;default:p({activeUsers:e.activeUsers?e.activeUsers.map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}],suspendedUsers:e.suspendedUsers?e.suspendedUsers.map(D=>({date:Ei(D.createdAt),data:D})):[{date:"",data:""}]});break}},[i,e]);function x(w){const{id:C}=w.currentTarget;C==="activeUsers"?d(E=>({...E,activeUsers:!E.activeUsers})):C==="suspendedUsers"&&d(E=>({...E,suspendedUsers:!E.suspendedUsers}))}return v.jsx(v.Fragment,{children:["activeUsers","suspendedUsers"].map((w,C)=>v.jsxs("div",{className:"mb-4",children:[v.jsxs("div",{className:"rounded-3 shadow card bg-white text-dark w-100",children:[v.jsx("button",{onClick:x,id:`${w}`,className:"d-inline-flex btn bg-transparent border-0 w-auto flex-row-reverse",children:v.jsxs("svg",{fill:"#000000",width:"30px",className:`m-3 toggle-btn ${!l[w]&&"active"}`,height:"32px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),v.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),v.jsx("g",{id:"SVGRepo_iconCarrier",children:v.jsx("path",{d:"M5 21h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm7-14 5 5h-4v5h-2v-5H7l5-5z"})})]})}),v.jsxs("div",{className:"row justify-content-between gap-2 align-items-start p-3",children:[v.jsxs("div",{className:"col-12 col-md-6 col-lg-4 col-xl-4 col-xxl-4 d-flex flex-row gap-0 align-items-start",children:[v.jsx("i",{className:"bx bxs-user-check display-5"}),v.jsxs("ul",{children:[v.jsxs("li",{className:"fw-medium fs-5 text-nowrap",children:["Total ",w==="activeUsers"?"Active Users":"Suspended Users"]}),v.jsx("li",{className:"fw-bold fs-3 text-nowrap",children:h[w]?h[w].length:0})]})]}),["all","7 days ago","30 days ago","3 months ago","12 months ago"].map((E,_)=>v.jsxs("button",{onClick:()=>o(E),className:"col hover-btn rounded-3 text-nowrap text-decoration-underline p-2 border-0",children:["Last ",E]},_))]}),v.jsx("hr",{className:"border-2 mx-2 border-secondary"}),e[w]&&l[w]&&h[w].length>0&&v.jsx(ZD,{xAxisLables:h[w].map(E=>E.date),yAxisLabels:h[w].map((E,_)=>_+1),yAxisText:"Number of users",xAxisText:"Date of sign up",title:w==="activeUsers"?"Active Users":"Suspended Users",userNames:h[w].map(E=>{var _;return(_=E.data)==null?void 0:_.name})})]}),v.jsx("br",{}),h[w].length>0&&v.jsx(qD,{items:[{title:`Modify ${w==="activeUsers"?"Active Users":"Suspended Users"}`,content:v.jsx(v.Fragment,{children:h[w].map((E,_)=>v.jsxs("div",{className:"rounded-3 p-3 my-3 shadow card bg-white text-dark w-100",children:[v.jsxs("div",{className:"d-inline-flex gap-3 align-items-center",children:[v.jsx(vn.LazyLoadImage,{src:E.data.profileImg||Ir,height:"80px",width:"80px",className:"rounded-circle border-secondary border border-4",placeholderSrc:async()=>await Hn(E.data.profileImg||Ir),effect:"blur"}),v.jsxs("div",{className:"d-flex gap-5 justify-content-between align-items-start",children:[v.jsxs("div",{children:[v.jsx("span",{className:"fw-bold text-dark fs-5",children:"Username"}),": ",v.jsx("cite",{children:E.data.name})]}),v.jsxs("div",{children:[v.jsx("span",{className:"fw-bold text-dark fs-5",children:"Department"}),": ",v.jsx("cite",{children:E.data.department})]}),E.data.role==="student"&&v.jsxs("div",{children:[v.jsx("span",{className:"fw-bold text-dark fs-5",children:"Matric No"}),": ",v.jsx("cite",{children:E.data.matricNo})]})]})]}),v.jsx("hr",{className:"border-2 mx-2 border-secondary"}),v.jsxs("div",{className:"my-3 d-flex mx-auto justify-content-evenly align-items-start gap-3",style:{maxHeight:"400px",width:"90%"},children:[v.jsx(vn.LazyLoadImage,{className:"shadow rounded-3",height:"400px",width:"400px",alt:"id img",src:E.data.IDCard||Mi,placeholderSrc:async()=>await Hn(E.data.IDCard||Mi),effect:"blur"}),v.jsx(vn.LazyLoadImage,{className:"shadow rounded-3",height:"400px",width:"400px",alt:"id img",src:E.data.barcode,placeholderSrc:async()=>await Hn(E.data.barcode),effect:"blur"})]}),v.jsx("div",{className:"d-inline-flex gap-3 flex-row-reverse",children:w==="activeUsers"?v.jsx("form",{id:E.data._id,method:"PATCH",onSubmit:n,children:v.jsx("button",{disabled:r.state==="submitting",className:"btn btn-danger rounded-3 p-2 border-0 shadow",children:"Suspend"})}):v.jsx("form",{method:"PATCH",id:E.data._id,onSubmit:t,children:v.jsx("button",{disabled:r.state==="submitting",className:"btn btn-primary rounded-3 p-2 border-0 shadow",children:"Unsuspend"})})})]},_))})}]})]},C))})}function eR(){const e=Cg(),[t,n]=V.useState("idle"),r=async o=>{const{id:l}=o.target;if(!l)return de.error("Provide a valid ID");n("submitting");const d=de.loading("Suspending..."),h=await AT(l);n("idle"),de.remove(d),h.status==="success"&&h.message?de.success(h.message):de.error(h.message)},i=async o=>{const{id:l}=o.target;if(!l)return de.error("Provide a valid ID");n("submitting");const d=de.loading("Removing suspension..."),h=await _T(l);n("idle"),de.remove(d),h.status==="success"&&h.message?de.success(h.message):de.error(h.message)};return v.jsx(Eg,{resolve:e.users,children:o=>v.jsx("div",{className:"my-5",children:v.jsx(JD,{loadState:{state:t},unhandleSuspend:i,handleSuspend:r,dashboard:o})})})}function tR(e){return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"card p-2",style:{width:"16rem"},children:[v.jsx(vn.LazyLoadImage,{src:e==null?void 0:e.image,effect:"blur",alt:"card img",height:"180px",className:"card-img-top"}),v.jsxs("div",{className:"card-body text-start",children:[v.jsx("div",{className:"d-flex text-nowrap flex-row gap-1",children:v.jsx("p",{className:"px-2 py-1 rounded-pill w-auto mybg-secondary text-center text-dark text-capitalize",children:e==null?void 0:e.category})}),v.jsx("h5",{className:"card-title text-capitalize",children:e==null?void 0:e.title}),v.jsxs("p",{className:"card-text fw-semibold",children:["Author: ",v.jsx("span",{className:"text-secondary fw-normal ",children:e==null?void 0:e.author})]}),v.jsxs("p",{className:"card-text fw-semibold",children:["Name: ",v.jsx("span",{className:"text-secondary fw-normal ",children:e==null?void 0:e.name})]}),v.jsxs("p",{className:"card-text fw-semibold",children:["Dept: ",v.jsx("span",{className:"text-secondary fw-normal ",children:e==null?void 0:e.department})]}),v.jsxs("p",{className:"card-text fw-semibold",children:["Matric No: ",v.jsx("span",{className:"text-secondary fw-normal ",children:e==null?void 0:e.matricNo})]}),v.jsxs("p",{className:"card-text fw-semibold",children:["Email: ",v.jsx("span",{className:"text-secondary fw-normal ",children:e==null?void 0:e.email})]})]})]})})}const nR=ut.memo(tR);function rR(){const[e,t]=V.useState(""),[n,r]=V.useState([]),[i,o]=La(),l=Cg(),d=10,[h,p]=V.useState(parseInt(i.get("page"))||1),x=_=>{var D,O;const I=_.target.value;if(t(I),l.data&&((D=l.data)==null?void 0:D.books.length)>0){const M=(O=l.data)==null?void 0:O.books.filter(R=>{var P;return(P=R==null?void 0:R.book)==null?void 0:P.title.toLowerCase().includes(I.toLowerCase())});r(M.map(R=>{var P;return(P=R==null?void 0:R.book)==null?void 0:P.title}))}else r([])},w=_=>{const{id:I}=_.currentTarget,D=n[I];o(O=>(O.delete("id"),e===""?O.delete("search"):O.set("search",D),O)),t(D),r([])},C=_=>{_.preventDefault(),o(I=>(I.delete("id"),e===""?I.delete("search"):I.set("search",e),I))},E=_=>{o(I=>{const D=new URLSearchParams(I);return D.set("page",_),D}),p(_)};return v.jsx(Eg,{resolve:l.data,children:({books:_,count:I})=>v.jsxs("div",{children:[v.jsx(zv,{}),v.jsxs("form",{onSubmit:C,className:"position-relative",children:[v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"search",name:"search",value:e,onChange:x,placeholder:"Search for books...",className:"border-end-0 rounded-pill shadow rounded-end pr-2 form-control"}),v.jsx("span",{className:"shadow input-group-text border-0 bg-primary rounded-end-pill p-0 px-2 m-0",children:v.jsx("button",{className:"bg-transparent border-0 px-2 m-0 d-flex mx-auto fw-bold",children:v.jsx("svg",{viewBox:"0 0 24 24",width:"20px",height:"20px",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M15 15L21 21M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]}),n.length>0&&e&&v.jsxs("div",{className:"p-2 suggest-search bg-white rounded-2 mx-auto shadow",children:[v.jsx("em",{className:"text-dark fw-medium fs-6 border-1 my-2 py-2 border-secondary border-bottom",children:"Suggested search"}),v.jsx("div",{style:{height:"70%",overflowY:"scroll"},children:n.map((D,O)=>v.jsx("p",{id:O,onClick:w,title:"Click to search",className:"text-dark fs-6 border-1 my-2 py-2 border-secondary border-bottom",style:{cursor:"pointer"},children:D},O))})]})]}),v.jsx("div",{className:"row align-items-center justify-content-center gap-5 my-4",children:Object.keys(_).length>0?_.map((D,O)=>{var M,R,P,F,z,A,j,U;return D?v.jsx(nR,{image:(M=D.book)==null?void 0:M.coverImg.url,category:(R=D==null?void 0:D.book)==null?void 0:R.category,title:(P=D==null?void 0:D.book)==null?void 0:P.title,author:(F=D==null?void 0:D.book)==null?void 0:F.author,name:(z=D==null?void 0:D.modifiedBy)==null?void 0:z.name,department:(A=D==null?void 0:D.modifiedBy)==null?void 0:A.department,matricNo:(j=D==null?void 0:D.modifiedBy)==null?void 0:j.matricNo,email:(U=D==null?void 0:D.modifiedBy)==null?void 0:U.email},O):v.jsx(e1,{cards:9})}):v.jsx("p",{children:"Books are not available or search not found..."})}),v.jsxs(sr,{className:"justify-content-center",children:[v.jsx(sr.Prev,{onClick:()=>E(h-1),disabled:h===1}),[...Array(h)].map((D,O)=>v.jsx(sr.Item,{active:O+1===h,onClick:()=>E(O+1),children:O+1},O+1)),v.jsx(sr.Next,{onClick:()=>E(h+1),disabled:h>=I-d*h})]})]})})}const iR=ut.memo(rR),o2=V.lazy(()=>GS(()=>import("./Layout-CtFCgjx8.js"),[]));function sR(){const e=kl(n=>n.state),t=E4(k0(v.jsx(v.Fragment,{children:v.jsxs(kt,{errorElement:v.jsx(XT,{}),path:"/",element:v.jsx(V.Suspense,{fallback:v.jsx(MN,{}),children:v.jsx(o2,{})}),children:[v.jsx(kt,{index:!0,action:Cx,element:v.jsx(Ex,{})}),v.jsx(kt,{path:"sign-up",action:WT,element:v.jsx(YT,{})}),v.jsx(kt,{path:"login",action:Cx,element:v.jsx(Ex,{})}),v.jsx(kt,{path:"profile",loader:async()=>{const n=await Sx();return il({user:n})},element:v.jsx(Eh,{}),children:v.jsx(kt,{index:!0,action:n6,element:v.jsx(r6,{})})}),v.jsxs(kt,{path:"books",loader:async()=>{const n=await Sx();return il({user:n})},element:v.jsx(Eh,{}),children:[v.jsx(kt,{index:!0,element:v.jsx(ru,{data:e.all,count:e.count,type:"all-student"})}),v.jsx(kt,{path:"read",element:v.jsx(ru,{data:e.read,type:"read"})}),v.jsx(kt,{path:"borrowed",element:v.jsx(ru,{data:e.borrow,type:"borrow"})})]}),v.jsxs(kt,{path:"admin",element:v.jsx(o2,{}),children:[v.jsxs(kt,{path:"console",loader:async()=>{const n=await l6();return il({user:n})},element:v.jsx(Eh,{}),children:[v.jsx(kt,{path:"dashboard",loader:async()=>{const n=await ST();return il({users:n})},element:v.jsx(eR,{})}),v.jsx(kt,{index:!0,action:zx,element:v.jsx(Hx,{})}),v.jsx(kt,{path:"profile",action:zx,element:v.jsx(Hx,{})}),v.jsx(kt,{path:"books/new",action:f6,element:v.jsx(g6,{})}),v.jsx(kt,{path:"books/library",element:v.jsx(ru,{data:e.all,count:e.count,type:""})}),v.jsx(kt,{path:"books/student-books",loader:async({request:n})=>{const r=new URL(n.url).searchParams.toString(),i=await cv(`?${r}`);return il({data:i})},element:v.jsx(iR,{})}),v.jsx(kt,{path:"scan/checkIn",element:v.jsx(iu,{type:"checkIn",action:MT})}),v.jsx(kt,{path:"scan/checkOut",element:v.jsx(iu,{type:"verify",action:DT})}),v.jsx(kt,{path:"scan/verify",element:v.jsx(iu,{type:"verify",action:RT})}),v.jsx(kt,{path:"scan/return",element:v.jsx(iu,{type:"return",action:FT})})]}),v.jsx(kt,{path:"login",action:c6,element:v.jsx(u6,{})})]}),v.jsx(kt,{path:"*",element:v.jsx(s6,{})})]})})));return v.jsx(M4,{router:t})}const oR=Rh.createRoot(document.getElementById("root"));oR.render(v.jsx("main",{id:"main",children:v.jsx(sR,{})}));export{Ag as I,i4 as O,ut as R,Pd as g,v as j,V as r};
